!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(1),t.exports=n(101)},function(t,e,n){"use strict";function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<f.length;i++){var o=f[i][t];if(o){if("function"!=typeof o)return o;var r=o.apply(f[i],e);if(r)return r}}return null}function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<f.length;i++){var o=f[i][t];o&&o.apply(f[i],e)}}function r(t,e){var n=t.config.errors&&t.config.errors.length>0;return n?(document.title=t.config.interviewProperties["header-title"],l.default.render(l.default.createElement(p.default,a({},t)),t.el)):t.config.isCheckpointDialog?l.default.render(l.default.createElement(d.default,a({},t)),t.el):l.default.render(l.default.createElement(u.default,a({initWidth:t.el.clientWidth-32},t,{callback:e})),t.el)}function s(t){f.push(t)}var a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},l=n(2),u=n(4),c=n(5),p=n(99),h=n(44),d=n(100),f=[];e.findExtensionHandler=i,e.broadcastExtensionEvent=o,l.default.addRenderAction(function(){window.OraclePolicyAutomation.Mobile&&(window.OraclePolicyAutomation.MobileRenderTimeout&&clearTimeout(window.OraclePolicyAutomation.MobileRenderTimeout),window.OraclePolicyAutomation.MobileRenderTimeout=setTimeout(function(){var t=document.getElementById("interviewContent"),e=document.getElementById("interview"),n=document.createElement("div");n.style.zIndex="9999",n.style.height="100px",n.style.width="100px",n.style.position="absolute",t.insertBefore(n,e),setTimeout(function(){return t.removeChild(n)},100)},500))}),window.OraclePolicyAutomation={Initialize:r,InterviewSession:c.default,Render:l.default,AddExtension:s,FindExtension:i,EnableDebugConsole:h.default.enableDebugConsole},window.OPADebugLocation=function(t,n){var i=window.opmInterview;e.debugLocationLatitude=t,e.debugLocationLongitude=n,null!=i&&i.updateDebugLocation&&i.updateDebugLocation(t,n)}},function(t,e,n){"use strict";function i(t,e,n){this.kind=t,this.props=e?e:{},this.props.children||(this.props.children=n),this.key=this.props.key,delete this.props.key}function o(t){this.fn=t,this.rendered={}}function r(){this.rendered={},this.childComponents=[]}function s(t){this.dom=document.createTextNode(t.props.text)}function a(t,e){if(null==e)return[];if(!(e instanceof Array))return e instanceof i?(null==e.key&&(e.key=t),[e]):[new i("#",{text:""+e,key:t},null)];var n,o=[];for(n=0;n<e.length;n++)o.push.apply(o,a(t+"/"+n,e[n]));return o}function l(t,e){if(null!=e){if(!(e instanceof Array))return void(e instanceof i&&(e._owner=t,e.props.ref&&(e._refOwner=t,e._refTag=e.props.ref,delete e.props.ref),e.props.children&&l(t,e.props.children)));var n,o=[];for(n=0;n<e.length;n++)l(t,e[n]);return o}}function u(t,e,n){null==n?t.style[e]="":D[e]&&"number"==typeof n?t.style[e]=n+"px":t.style[e]=n}function c(t,e){t.style[e]=""}function p(t,e,n,i){return"innerHTML"==e?void(t.innerHTML=n):P[e]?void(null==n?t[P[e]]=null:"string"==typeof n?t[P[e]]=i._owner[n].bind(i._owner):t[P[e]]=n):(M[e]&&(e=M[e]),void("function"==typeof n||A[e]?null==n?t[e]="":t[e]=n:null==n?t.removeAttribute(e):"disabled"===e||"readOnly"===e?n?t.setAttribute(e,e):t.removeAttribute(e):t.setAttribute(e,n)))}function h(t,e){t.removeAttribute(e)}function d(t,e){function n(n){if("input"!=t.dom.localName||"checkbox"!=t.dom.type&&"radio"!=t.dom.type){var i=e.value;t._oldProps.value=t.dom.value,i!==t._oldProps.value&&e.onChange&&("string"==typeof e.onChange?t._owner[e.onChange](n):e.onChange(n))}else{var i=e.checked;t._oldProps.checked=t.dom.checked;var o=i!==t._oldProps.checked&&("checkbox"==t.dom.type||t._oldProps.checked);o&&e.onChange&&("string"==typeof e.onChange?t._owner[e.onChange](n):e.onChange(n))}}var i=t._oldProps?t._oldProps:{};for(var o in e)if(!N[o]&&e.hasOwnProperty(o))if("style"===o){var r=e[o],s=i[o]?i[o]:{};for(var a in r)r.hasOwnProperty(a)&&s[a]!==r[a]&&u(t.dom,a,r[a])}else i[o]!==e[o]&&p(t.dom,o,e[o],t);for(var o in i)if(!N[o]&&i.hasOwnProperty(o))if("style"===o){var s=i[o],l=e[o];null==l&&(l={});for(var a in s)s.hasOwnProperty(a)&&!l.hasOwnProperty(a)&&c(t.dom,a)}else e.hasOwnProperty(o)||h(t.dom,o);e.onChange?t.dom.onchange=n:t.dom.onchange=null,e.onChange||e.onKeyUp?t.dom.onkeyup=function(i){n(i),e.onKeyUp&&("string"==typeof e.onKeyUp?t._owner[e.onKeyUp](i):e.onKeyUp(i))}:(i.onChange||i.onKeyUp)&&(t.dom.onKeyUp=null),t._oldProps=e,t.componentPropsUpdated&&t.componentPropsUpdated(t._oldProps,e)}function f(t,e){t._refOwner&&(e instanceof r?t._refOwner.refs[t._refTag]=e.dom:t._refOwner.refs[t._refTag]=e,e._refOwner=t._refOwner,e._refTag=t._refTag)}function g(t){var e;if("string"==typeof t.kind){if("#"===t.kind)return new s(t);e=new r,e.domKind=t.kind,R[t.kind]?e.dom=document.createElementNS("http://www.w3.org/2000/svg",t.kind):e.dom=document.createElement(t.kind),e._owner=t._owner,d(e,t.props)}else e=t.kind.prototype instanceof k?new t.kind(t.props):new o(t.kind);return e.props=t.props,f(t,e),e}function m(t){t.childComponents&&t.childComponents.forEach(m),t.componentWillUnmount&&t.componentWillUnmount()}function y(t){m(t);var e=[],n=!0;if(v(e,t),t._refOwner&&(n=t._refOwner.childComponentDestroying(t._refTag,e)),n!==!1)for(var i=0;i<e.length;i++)e[i].parentNode&&e[i].parentNode.removeChild(e[i]);t._refOwner&&t._refOwner.childComponentDestroyed(t._refTag,e)}function v(t,e){e instanceof HTMLElement?t.push(e):e instanceof r||e instanceof s?t.push(e.dom):e.childComponents.forEach(function(e){v(t,e)})}function b(t){var e=[];S(t,t.context,e);for(var n=0;n<e.length;n++)e[n]();if(!(t instanceof r)){for(var i=t;null!=i&&!(i instanceof r);)i=i._parentComponent;x(i)}t.componentDidUpdate&&t.componentDidUpdate(),O.forEach(function(t){return t()})}function w(t,e){return"string"==typeof e.kind?"#"===e.kind?t instanceof s:t instanceof r&&t.domKind===e.kind:e.kind.prototype instanceof k?t.constructor==e.kind:t instanceof o&&t.fn===e.kind}function x(t){var e=[];if(t instanceof r){t.childComponents.forEach(function(t){v(e,t)});for(var n=t.dom.firstChild,i=0;i<e.length;i++){var o=e[i];o!==n?t.dom.insertBefore(o,n):n=n.nextSibling}}}function S(t,e,n){var i,o=e;if(!(t instanceof s)){if(void 0!==t._deferUpdate&&(clearTimeout(t._deferUpdate),delete t._deferUpdate),t.context=e,t instanceof r)i=a("",t.props.children);else if(t.render){var u=t.render();l(t,u),i=a("",u)}t.getChildContext&&(o=T.objectAssign({},e,t.getChildContext()));var c,p,h,m=[],b={};for(c=0;c<i.length;c++){p=i[c],h=t.rendered[p.key];var C=!1;if(null!=h&&w(h,p)?(delete t.rendered[p.key],h instanceof r?d(h,p.props):h instanceof s&&(h.dom.textContent=p.props.text),h.props=p.props,f(p,h)):(C=!0,h=g(p),h._parentComponent=t),S(h,o,n),C){if(h.componentDidMount&&n.push(h.componentDidMount.bind(h)),h._refOwner){var E=[];v(E,h),n.push(h._refOwner.childComponentDidMount.bind(h._refOwner,h._refTag,E))}}else h.componentDidUpdate&&n.push(h.componentDidUpdate.bind(h));m.push(h),b[p.key]=h}var I;for(I in t.rendered)t.rendered.hasOwnProperty(I)&&y(t.rendered[I]);t.rendered=b,t.childComponents=m,x(t)}}function C(t,e){var n=new r;return n.dom=e,n.props={children:a("",t)},b(n),n.childComponents&&n.childComponents.length>0?n.childComponents[0]:null}function E(t){y(t)}function I(t){var e=[];return v(e,t),e.length>0?e[0]:null}var T=n(3),O=[],k=(function(){function t(){}return t}(),function(){function t(t){this.rendered={},this.childComponents=[],this.props=t,this.refs={}}return t.prototype.render=function(){},t.prototype.update=function(){void 0!==this._deferUpdate&&(clearTimeout(this._deferUpdate),delete this._deferUpdate),b(this)},t.prototype.updateDefer=function(){var t=this;void 0===this._deferUpdate&&(this._deferUpdate=setTimeout(function(){delete t._deferUpdate,b(t)},0))},t.prototype.setState=function(t){void 0===this.state&&(this.state={});for(var e in t)t.hasOwnProperty(e)&&(this.state[e]=t[e]);this.updateDefer()},t.prototype.componentPropsUpdated=function(t,e){},t.prototype.componentWillUnmount=function(){},t.prototype.childComponentDidMount=function(t,e){},t.prototype.childComponentDestroying=function(t,e){},t.prototype.childComponentDestroyed=function(t,e){},t}());o.prototype.render=function(){return this.fn(this.props)};var D={left:!0,top:!0,right:!0,bottom:!0,height:!0,width:!0,borderRadius:!0,fontSize:!0,flexBasis:!0,minWidth:!0,maxWidth:!0,padding:!0,margin:!0,paddingLeft:!0,paddingTop:!0,paddingRight:!0,paddingBottom:!0,marginLeft:!0,marginTop:!0,marginRight:!0,marginBottom:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderLeftWidth:!0,borderTopWidth:!0,borderRightWidth:!0,borderBottomWidth:!0,verticalAlign:!0},M={className:"class",htmlFor:"for"},P={onClick:"onclick",onBlur:"onblur",onFocus:"onfocus",onChange:"onchange",onMouseDown:"onmousedown",onMouseOver:"onmouseover",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseOut:"onmouseout",onMouseMove:"onmousemove",onMouseUp:"onmouseup",onTouchStart:"ontouchstart",onTouchMove:"ontouchmove",onTouchEnd:"ontouchend",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload"},R={svg:!0,polygon:!0,circle:!0,path:!0,rect:!0,g:!0,ellipse:!0,line:!0,animate:!0,clipPath:!0},A={checked:!0,value:!0},N={children:!0,onKeyUp:!0},F={Component:k,render:C,unmountComponent:E,getDOM:I,el:function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return new i(t,e,n)},createElement:function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return new i(t,e,n)},addRenderAction:function(t){O.push(t)}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=F},function(t,e){"use strict";function n(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++){var o=e[i];if(null!=o)for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r])}return t}function i(t,e,n){var i=0;for(null!=n&&(i=n);i<t.length;){if(t[i]===e)return!0;i++}return!1}function o(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function r(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function s(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function a(t,e,n,i){if(null===t||void 0===t||""===t)return t;if(i)return t.split(e).join(n);var o=t.indexOf(e);if(o<0)return t;var r=o>0?t.substring(0,o):"";return r+=n,o+e.length<t.length&&(r+=t.substring(o+e.length)),r}function l(t){if(null==t)return t;var e={};for(var n in t)t.hasOwnProperty(n)&&u.hasOwnProperty(n)&&(e[n]=t[n]);return e}e.objectAssign=n,e.arrayIncludes=i,e.arrayFindIndex=o,e.arrayFind=r,e.numberIsInteger=s,e.stringReplace=a;var u={color:!0,backgroundColor:!0,padding:!0,paddingLeft:!0,paddingRight:!0,paddingTop:!0,paddingBottom:!0,margin:!0,marginLeft:!0,marginRight:!0,marginTop:!0,marginBottom:!0,display:!0,border:!0,cursor:!0,fontFamily:!0,fontSize:!0,fontWeight:!0,textDecoration:!0,maxWidth:!0};e.whiteListStyles=l},function(t,e,n){"use strict";function i(t){return t instanceof u.ScreenContainer||(t instanceof u.ScreenEntityCollect||t instanceof u.ScreenEntityContainer)}function o(t){return t instanceof u.ScreenContainer?t.getControls():t instanceof u.ScreenEntityCollect?t.getRows()[0]:t instanceof u.ScreenEntityContainer?t.getRows()[0]:[]}var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(2),a=n(3),l=n(5),u=n(24),c=n(31),p=n(33),h=n(36),d=n(37),f=n(16),g=n(10),m=n(38),y=n(40),v=n(41),b=n(15),w=n(42),x=n(44),S=n(45),C=n(96),E=n(97),I=n(9),T=n(98),O=n(13),k=n(12),D=n(1),M=function(t){function e(e){t.call(this,e),this.autoMount=!0,this.screenCount=1,this.mountedControls=[],this.recentKeyDown=!1,this.reset(e),this.styler=D.findExtensionHandler("style",this.session.publicInterface),this.customHeaderHandler=D.findExtensionHandler("customHeader",this.session.publicInterface),this.customFooterHandler=D.findExtensionHandler("customFooter",this.session.publicInterface),this.customNavigationRenderHandler=D.findExtensionHandler("customNavigationBar",this.session.publicInterface)}return r(e,t),e.prototype.reset=function(t){this.session=new l.default(t,this.sessionUpdated.bind(this)),this.screenCount++,this.state={inSubmit:!1,inSlowSubmit:!1,interviewWidth:this.refs.interviewContainer?this.refs.interviewContainer.clientWidth:this.props.initWidth?this.props.initWidth:900},this.rtl=this.session.isRTL(),this.styleHideInput=b.default.screenreader,this.refs.navbar&&this.refs.navbar.showCurrent&&this.refs.navbar.showCurrent(),this.updatePageTitle()},e.prototype.containerResized=function(){var t=this;setTimeout(function(){if(!t.unmounted){var e=t.refs.interviewContainer.clientWidth;e!==t.state.interviewWidth&&t.setState({interviewWidth:t.refs.interviewContainer.clientWidth})}},1)},e.prototype.componentDidMount=function(){this.boundContainerResized=this.containerResized.bind(this),window.addEventListener("resize",this.boundContainerResized),this.containerResized()},e.prototype.componentWillUnmount=function(){this.unmounted=!0,window.removeEventListener("resize",this.boundContainerResized)},e.prototype.getChildContext=function(){return{interview:this}},e.prototype.getScreen=function(){return this.session.getScreen()},e.prototype.getCurrentWidth=function(){return this.state.interviewWidth},e.prototype.getContentWidth=function(){var t=this.state.interviewWidth;return 2==this.session.getStagesTheme()&&(t-=this.session.getStyle().stagesWidth),t},e.prototype.getSession=function(){return this.session},e.prototype.clearRecentKeyDown=function(){delete this._clearRecentKeyDownTimer,this.recentKeyDown=!1},e.prototype.onKeyDown=function(t){var e=this.session;if(this.recentKeyDown=!0,void 0!==this._clearRecentKeyDownTimer&&clearTimeout(this._clearRecentKeyDownTimer),this._clearRecentKeyDownTimer=setTimeout(this.clearRecentKeyDown.bind(this),150),e.isExpiring()||e.deferSessionExpire(),13==t.keyCode){if("textarea"==t.target.tagName.toLowerCase())return;var n=t.target.localName.toLowerCase();if("a"===n||"button"===n||"select"===n)return;return t.stopPropagation(),t.preventDefault(),this.submit(),!1}},e.prototype.onMouseDown=function(t){var e=this.session;e.isExpiring()||e.deferSessionExpire()},e.prototype.refresh=function(){this.session.refresh()},e.prototype.showNavigation=function(){this.setState({showNavigation:!0})},e.prototype.closeNavigation=function(){this.setState({showNavigation:!1})},e.prototype.childComponentDestroying=function(t,e){"controls"===t&&(this.savedBounds=k.getElementBounds(e[0]))},e.prototype.childComponentDestroyed=function(t,e){if("controls"===t){var n=this.savedBounds,i=k.getElementBounds(s.default.getDOM(this));e[0].style.position="absolute",e[0].style.left=n[0]-i[0]+"px",e[0].style.top=n[1]-i[1]+"px",e[0].style.backgroundColor="white",e[0].style.opacity="0.5",e[0].style.width=n[2]-n[0]+"px",e[0].style.height=n[3]-n[1]+"px",e[0].style.pointerEvents="none",e[0].style.transition="opacity 0.2s",setTimeout(function(){e[0].style.opacity="0"},10),setTimeout(function(){e[0].parentNode&&e[0].parentNode.removeChild(e[0])},200),this.refs.content.appendChild(e[0])}},e.prototype.getRestyle=function(t,e){var n;return this.styler&&(n=this.styler[t]),"function"==typeof n&&(n=null!=e?n(e,this.session.publicInterface):n(this.session.publicInterface)),n},e.prototype.render=function(){var t,e,n,i=this,o=this.session,r=o.getStyle(),l=o.getScreen(),u=o.showHeader(this.props.embedded===!0),b=o.showFooter(this.props.embedded===!0),w=!o.isAugust2016Editor()&&o.showStages(this.props.embedded===!0)&&(!l.hideStages()||o.isAuthoring()&&o.config.screen.authoringIncludeStages),k=o.getStagesTheme(),D="B"==o.getButtonPosition().substring(0,1),M=!1;switch("BL"==o.getButtonPosition()?(e="flex-start",n=o.isRTL()?{marginLeft:6}:{marginRight:6}):"BR"==o.getButtonPosition()?(e="flex-end",n=o.isRTL()?{marginRight:6}:{marginLeft:6}):"BC"==o.getButtonPosition()&&(e="space-between",M=!0),k){case 1:t=E.default;break;case 2:t=C.default;break;case 3:t=I.default}t&&this.customNavigationRenderHandler&&(t=T.default);var P;if(this.state.inSubmit&&this.state.inSlowSubmit&&o.showSubmitProgress()){var R=this.state.interviewWidth,A=a.objectAssign({position:"absolute",top:"3em",width:R/2,left:R/4,zIndex:100,border:"solid 1px black",backgroundColor:"white",padding:"2em",margin:"auto"},r.submitProgress),N={display:"flex"},F=void 0;if(null!=this.state.progress){var _={borderLeftWidth:this.state.progress*R/2};F=s.default.createElement("div",{style:_,className:"opa-submit-overlay-progress"})}var j=null;o.showSubmitProgressImage()&&(j=null!==o.getSubmitProcessIcon()?s.default.createElement("img",{src:o.getSubmitProcessIcon(),alt:o.getMessage("submit-progress-text")}):s.default.createElement(O.Spinner,null)),P=s.default.createElement("div",{style:A},s.default.createElement("div",{style:N},null!=j?s.default.createElement("div",{style:{flex:"0 0 40px",marginRight:"1em"}},j):null,s.default.createElement("div",null,o.getMessage("submit-progress-text"))),F)}var V=a.objectAssign({position:"relative"},r.interview),H={paddingBottom:"0.5em"},L=2==k?{display:"flex"}:{},B=2==k?{flexGrow:1,flexShrink:2,flexBasis:r.pageWidth-r.stagesWidth,overflow:"hidden"}:{},U=null;o.isExpired()?U=s.default.createElement(y.default,null):o.isExpiring()?U=s.default.createElement(m.default,null):null!==o.getPendingNavigateUri()&&(U=s.default.createElement(v.default,null));var W;w&&t.shouldShowNavigation&&t.shouldShowNavigation(this)&&(W=this.showNavigation.bind(this));var z=this.getRestyle("interview"),q=this.getRestyle("interviewContent"),K=(this.getRestyle("interviewControls"),this.getRestyle("header")),Y=this.getRestyle("footer"),$="opa-interview";z&&(z.className?($+=" "+z.className,V=a.objectAssign({position:"relative"},a.whiteListStyles(z.style))):a.objectAssign(V,a.whiteListStyles(z.style)));var G;return null!=q&&null!=q.className?G=q.className:(B.padding="0px 16px",B.lineHeight=1.5),null!=q&&a.objectAssign(B,a.whiteListStyles(q.style)),s.default.createElement("form",{role:"form",dir:this.rtl?"rtl":"ltr",lang:o.getLocale(),style:V,className:$,method:"post",onMouseDown:"onMouseDown",onKeyDown:"onKeyDown"},x.default.isEnabled()?s.default.createElement(x.default,null):null,U,this.state.inSubmit?s.default.createElement("div",{className:"opa-submit-overlay"}):null,P,u&&!o.isAuthoring()?s.default.createElement(h.default,{restyle:K}):null,s.default.createElement("div",{ref:"interviewContainer",style:L},w?s.default.el(t,{session:this.session,ref:"navbar",show:this.state.showNavigation},null):null,s.default.createElement("div",{className:G,style:B},s.default.createElement(c.default,{showNavigation:W}),o.isAuthoring()?s.default.createElement("div",{className:"opa-control-properties"},l.getHeaderAuthorText().map(function(t){return s.default.createElement("span",null,s.default.createElement("span",{innerHTML:t}),"  ")})):null,s.default.createElement("div",{className:"opa-interview-controls",ref:"content",style:H},l.getPageErrors().map(function(t,e){return s.default.createElement("div",{key:"pgerr"+e,className:"opa-page-error"},i.renderPageError(t,e))}),s.default.createElement(S.default,{ref:"controls",key:"scr"+this.screenCount}),o.isAuthoring()?s.default.createElement("div",{className:"opa-control-properties"},l.getAuthorText().map(function(t){return s.default.createElement("div",null,t)})):null,D?s.default.createElement("div",{style:{display:"flex",justifyContent:e,alignItems:"baseline",flexShrink:0,paddingLeft:10,paddingRight:10,paddingTop:"0.7em"}},s.default.createElement(g.default,{spacingStyle:n,keepLayoutSpace:M}),s.default.createElement(f.default,{spacingStyle:n,keepLayoutSpace:!0})):null))),s.default.createElement(p.default,null),b&&!o.isAuthoring()?s.default.createElement(d.default,{restyle:Y}):null)},e.prototype.editRuleScriptSource=function(t,e){var n=this.session;n.isDebugging()&&window.external&&window.external.DebuggerEditSource(t,e)},e.prototype.onErrorDetailsClick=function(t){var e="additional-info-detail"+t,n=this.refs[e];n.style.display="none"===n.style.display?"block":"none";var i=this.refs["additional-info-txt"+t];i.innerHTML=("none"===n.style.display?"[+] ":"[–] ")+this.session.getMessage("error-details")},e.prototype.renderPageError=function(t,e){var n=this,i=this.session,o=i.getStyle(),r=null,a=null;return"RuleScriptError"==t.class?a=s.default.createElement("span",null,t.rawMessage," ",s.default.createElement("a",{onClick:function(e){e.preventDefault(),n.editRuleScriptSource(t.source,t.line)},href:"#"},t.source)):(a=s.default.createElement("span",{innerHTML:t.message}),(t.stackTrace||i.isDebugging()&&t.rawMessage&&t.rawMessage!==t.message)&&(r=s.default.createElement("div",{className:"opa-error-debug-stacktrace"},s.default.createElement("span",{ref:"additional-info-txt"+e,onclick:this.onErrorDetailsClick.bind(this,e),innerHTML:"[+] "+this.session.getMessage("error-details")}),s.default.createElement("div",{ref:"additional-info-detail"+e,style:{display:"none"}},t.stackTrace)))),s.default.createElement("div",{"aria-live":"assertive",className:t.warning?"opa-warning-text":"opa-error-text",style:t.warning?o.warning:o.error},a,r)},e.prototype.fullValidation=function(t){var e=this.session;e.getScreen();if(e.isAuthoring())return!0;var n=!0;return this.mountedControls.forEach(function(e){e.validateControl&&!e.validateControl(t)&&(n=!1)}),!!n||(this.update(),!1)},e.prototype.submit=function(t){var e=this,n=this.session;n.getScreen();t&&(t.preventDefault(),t.stopPropagation()),n.isExpired()||this.fullValidation(2)&&(setTimeout(function(){e.state.inSubmit&&(e.state.inSlowSubmit=!0),e.update()},300),this.setState({inSubmit:!0,inSlowSubmit:!1}),this.session.submit())},e.prototype.navigate=function(t){this.state.showNavigation&&this.setState({showNavigation:!1}),this.session.navigate(t)},e.prototype.scrollToTop=function(){if(!this.session.embedded){var t=s.default.getDOM(this);t&&t.scrollIntoView(!0)}},e.prototype.updateDebugLocation=function(t,e){this.session.updateDebugLocation(t,e)},e.prototype.updatePageTitle=function(){var t=this.session;if(!this.props.embedded){var e=t.getScreen();e&&e.getTitle()?document.title=k.htmlDecode(e.getTitle())+" - "+t.getInterviewProperty("header-title",""):document.title=t.getInterviewProperty("header-title","")}},e.prototype.sessionUpdated=function(t,e){var n=this.session;if(n){this.setState({inSubmit:this.session.isSubmitting()});this.session.getScreen();if("navigate"===t)this.setState({inSubmit:!1,inSlowUpdate:!1,progress:null}),this.screenCount++,this.autoMount=!0,this.update(),this.autoMount=!1,this.scrollToTop(),n.isCurrentScreenPreviouslyVisited()&&this.fullValidation(1),n.markCurrentScreenVisited(),this.refs.navbar&&this.refs.navbar.showCurrent&&this.refs.navbar.showCurrent(),this.updatePageTitle(),this.props.callback&&this.props.callback("navigate",e);else if("progress"===t)this.setState({progress:e.value});else if("dirty"===t||"canRestart"===t){if(this.props.callback&&!this.getSession().isDebugging())return this.props.callback(t,e)}else"redirect"===t?this.props.callback&&this.props.callback("redirect",e):"clearInputWorkingState"===t&&this.mountedControls.forEach(function(t){if(t instanceof w.default){var n=t.control;n.entity===e.entity&&n.instance===e.instance&&n.config.attributeId===e.key&&t.clearWorkingState()}})}},e.prototype.imageLoaded=function(t,e){var n=this.session;n.isAuthoring()&&this.props.callback&&this.props.callback("imageLoaded",{id:t.props.control.getId(),el:e})},e.prototype.controlMounted=function(t){this.mountedControls.push(t),!this.autoMount||this.session.isAuthoring()||window.OraclePolicyAutomation.Mobile||t.autoFocus()&&(this.autoMount=!1)},e.prototype.controlUnmounted=function(t){var e=this.mountedControls.indexOf(t);e>=0&&this.mountedControls.splice(e,1)},e.prototype.hitTest=function(t,e){for(var n=0;n<this.mountedControls.length;n++){var i=this.mountedControls[n];if(i.props.control){if(i.getAuthorPartElements){var o=i.getAuthorPartElements();if(o)for(var r in o)if(o.hasOwnProperty(r)){var a=k.getElementBounds(o[r]);if(t>=a[0]&&t<a[2]&&e>=a[1]&&e<a[3])return[i,r]}}var l=s.default.getDOM(i);if(null!=l){var a=k.getElementBounds(l);if(t>=a[0]&&t<a[2]&&e>=a[1]&&e<a[3])return[i,"None"]}if(i.getCaptionElement){var u=i.getCaptionElement(),a=k.getElementBounds(u);if(t>=a[0]&&t<a[2]&&e>=a[1]&&e<a[3])return[i,"None"]}}else if(i.getAuthorPart){var l=i.getCaptionElement?i.getCaptionElement():s.default.getDOM(i);if(null!=l){var a=k.getElementBounds(l);if(t>=a[0]&&t<a[2]&&e>=a[1]&&e<a[3])return[null,i.getAuthorPart()]}}}return null},e.prototype.setAuthoringSelection=function(t,e){for(var n=0;n<this.mountedControls.length;n++){var i=this.mountedControls[n];i.props.control?i.props.control.getId()==t?i.setState({authorSelected:!0,authorSelectedPart:e}):null!=i.state&&i.state.authorSelected&&i.setState({authorSelected:!1,authorSelectedPart:null}):i.getAuthorPart&&(""==t&&i.getAuthorPart()==e?i.setState({authorSelected:!0,authorSelectedPart:e}):i.setState({authorSelected:!1,authorSelectedPart:null}))}},e.prototype.setAuthorScreen=function(t){var e=a.objectAssign({},this.props,a.objectAssign(this.props.config,t));this.reset(e),this.update()},e.prototype.getControlById=function(t,e){for(var n=0;n<this.mountedControls.length;n++){var i=this.mountedControls[n];if(i.props.control){if(i.props.control.getId()==t)return i}else if(i.getAuthorPart&&""==t&&i.getAuthorPart()==e)return i}return null},e.prototype.getControlBounds=function(t){var e=this.getControlById(t,"None");return e?k.getElementBounds(s.default.getDOM(e)):null},e.prototype.getCaptionBounds=function(t,e){var n=this.getControlById(t,e);return n?n.getCaptionElement?k.getElementBounds(n.getCaptionElement(e)):k.getElementBounds(s.default.getDOM(n)):null},e.prototype.findHorizontalDropTarget=function(t,e,n,r,s){for(var a=null,l=0;l<e.length;l++){var u=e[l],c=u.getId(),p=this.getControlBounds(c);if(i(u)&&c!==s)if(u.isHorizontal()){if(n>=p[0]&&n<p[2]&&r>=p[1]+4&&r<p[3]-4)return this.findHorizontalDropTarget(c,o(u),n,r,s)}else if(n>=p[0]+4&&n<p[2]-4&&r>=p[1]&&r<p[3])return this.findVerticalDropTarget(c,o(u),n,r,s);if(r<p[1]||r<p[3]&&n<(p[0]+p[2])/2)return{container:t,insertBefore:c,indicator:[p[0]-2,p[1],p[0]+2,p[3]]};a=[p[2]-2,p[1],p[2]+2,p[3]]}if(null==a){var h=this.getControlBounds(t);a=[h[0]-2,h[1],h[0]+2,h[3]]}return{container:t,insertBefore:null,indicator:a}},e.prototype.findVerticalDropTarget=function(t,e,n,r,a){for(var l=null,u=0;u<e.length;u++){var c=e[u],p=c.getId(),h=this.getControlBounds(p);if(i(c)&&p!==a)if(c.isHorizontal()){if(r>=h[1]+4&&r<h[3]-4)return this.findHorizontalDropTarget(p,o(c),n,r,a)}else if(r>=h[1]&&r<h[3])return this.findVerticalDropTarget(p,o(c),n,r,a);if(r<(h[1]+h[3])/2)return{container:t,insertBefore:p,indicator:[h[0],h[1]-2,h[2],h[1]+2]};l=[h[0],h[3]-2,h[2],h[3]+2]}if(null==l){var d;d=null===t?k.getElementBounds(s.default.getDOM(this.refs.controls)):this.getControlBounds(t),l=[d[0],d[3]-2,d[2],d[3]+2]}return{container:t,insertBefore:null,indicator:l}},e.prototype.findDropTarget=function(t,e,n){var i=this.session,o=i.getScreen(),r=o.getControls();return this.findVerticalDropTarget(null,r,t,e,n)},e}(s.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=M},function(t,e,n){"use strict";var i=n(6),o=n(8),r=n(27),s=n(26),a=n(3),l=n(29),u=n(30),c=n(1),p=["","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],h=["sun","mon","tue","wed","thu","fri","sat"],d=function(){function t(t,n){var s=this;this.debugLatitude=c.debugLocationLatitude,this.debugLongitude=c.debugLocationLongitude,this.extWhitelist=[],this.url=t.url,this.config=t.config,this.authoring=t.authoring,this.customPostHandler=t.customPostHandler,this.callback=n,this.previouslyVisited={},this.publicInterface=new u.default(this),this.embedded=t.embedded===!0,this.config.sessionAttributes&&this.config.sessionAttributes.ACSLogJSON&&(l.default.log(JSON.parse(this.config.sessionAttributes.ACSLogJSON)),l.default.initialise(this.config.sessionAttributes.ACSLogConfig1,this.config.sessionAttributes.ACSLogConfig2)),this.shortMonthNames=[],this.fullMonthNames=[];for(var d=1;d<p.length;++d)this.shortMonthNames.push(this.config.messageProperties[p[d]+"-short"]),this.fullMonthNames.push(this.config.messageProperties[p[d]+"-full"]);this.fullDayNames=[],this.shortDayNames=[],this.minDayNames=[];for(var d=0;d<h.length;++d)this.fullDayNames.push(this.config.messageProperties[h[d]+"-full"]),this.shortDayNames.push(this.config.messageProperties[h[d]+"-short"]),this.minDayNames.push(this.config.messageProperties[h[d]+"-min"]);this.meridiems=[this.config.messageProperties["am-meridiem-text"],this.config.messageProperties["pm-meridiem-text"]];var f=this.config.formatterProperties,g=f.region,m=f.currencyOutputFormat;m.indexOf("¤")==-1&&m.indexOf(";")==-1&&m.indexOf(f.currencySymbol)==-1&&(m="¤"+m),this.outputCurrency=i.default.compileNumberFormat(m),this.outputNumber=i.default.compileNumberFormat(f.numberOutputFormat),this.outputUnformattedNumber=i.default.compileNumberFormat("0.######"),this.outputDateFormat=i.default.compileDateFormat(f.dateOutputFormat,g,this.shortMonthNames,this.fullMonthNames,this.shortDayNames,this.fullDayNames),this.outputTimeFormat=i.default.compileTimeFormat(f.timeOutputFormat,this.meridiems),this.outputDateTimeFormat=i.default.compileDateTimeFormat(f.dateTimeOutputFormat,g,this.shortMonthNames,this.fullMonthNames,this.shortDayNames,this.fullDayNames,this.meridiems),this.acceptedCurrencyFormats=f.currencyInputFormats.map(function(t){return i.default.compileNumberFormat(t)}),this.acceptedNumberFormats=f.numberInputFormats.map(function(t){return i.default.compileNumberFormat(t)}),this.acceptedTimeFormats=f.timeInputFormats.map(function(t){return i.default.compileTimeFormat(t,s.meridiems)}),this.acceptedDateTimeFormats=f.dateTimeInputFormats.map(function(t){return i.default.compileDateTimeFormat(t,g,s.shortMonthNames,s.fullMonthNames,s.shortDayNames,s.fullDayNames,s.meridiems)}),this.acceptedDateFormats=f.dateInputFormats.map(function(t){return i.default.compileDateFormat(t,g,s.shortMonthNames,s.fullMonthNames,s.shortDayNames,s.fullDayNames)}),this.acceptedCurrencyFormats.push(this.outputCurrency),this.acceptedNumberFormats.push(this.outputNumber),this.acceptedDateTimeFormats.push(this.outputDateTimeFormat),this.acceptedTimeFormats.push(this.outputTimeFormat),this.acceptedDateFormats.push(this.outputDateFormat),this.enumerations={},this.config.enumerations.forEach(function(t){var e=new r.default(s,t);s.enumerations[e.getName()]=e}),this.locale={decimal:t.config.formatterProperties.decimalSeparator,group:t.config.formatterProperties.groupingSeparators,negative:"-",currencySymbol:f.currencySymbol},this.style=a.objectAssign({},this.config.interviewStyle?this.config.interviewStyle:e.defaultStyle),this.enableThemedControls()||(this.style.focus={}),this.getInterviewProperty("attachment-ext-whitelist","").split(";").forEach(function(t){var e=t.trim().toLowerCase();e.length>0&&s.extWhitelist.push(e)}),this.screen=new o.default(this,t.config),this.whatIfMemoize={},this.whatIf(0),this.expiration="",this.deferSessionExpire(),this.lastServerPing=(new Date).getTime(),this.pendingNavigateUri=null}return t.prototype.deferSessionExpire=function(){if(!(this.isExpired()||this.isAuthoring()||this.isDebugging())){void 0!==this.expireWarningTimer&&(clearTimeout(this.expireWarningTimer),delete this.expireWarningTimer),void 0!==this.expireTimer&&(clearTimeout(this.expireTimer),delete this.expireTimer);var e=this.config.interviewProperties.sessionExpireTime,n=this.config.interviewProperties.sessionExpireWarning;if(e>0){var i=6e4*e;n>0&&(this.expireWarningTimer=setTimeout(this.expireWarning.bind(this),6e4*n)),this.expireTimer=setTimeout(this.expireSession.bind(this),i);
var o=(new Date).getTime();o>this.lastServerPing+i/10&&(this.lastServerPing=o,t.ajaxPost(this.buildURL(this.config.jsonInvestigateUri),{operation:"ping"},function(t){},this.customPostHandler,{embedded:this.embedded}))}""!==this.expiration&&(this.expiration="",this.callback("expiration",{value:this.expiration}))}},t.prototype.isExpired=function(){return"expired"===this.expiration},t.prototype.isExpiring=function(){return"warning"===this.expiration},t.prototype.expireWarning=function(){this.clearPendingNavigateUri(),this.expiration="warning",delete this.expireWarningTimer,this.callback("expiration",{value:this.expiration})},t.prototype.expireSession=function(){this.clearPendingNavigateUri(),this.expiration="expired",delete this.expireTimer,this.callback("expiration",{value:this.expiration})},t.prototype.isAuthoring=function(){return this.authoring===!0},t.prototype.isDebugging=function(){return this.config.interviewProperties.debugMode},t.prototype.updateDebugLocation=function(t,e){this.debugLatitude=t,this.debugLongitude=e,this.geoLocationUpdated()},t.prototype.getStyle=function(){return this.style},t.prototype.enableThemedControls=function(){return!0},t.prototype.isRTL=function(){return this.getMessage("pagedir-right-to-left")===!0},t.prototype.getScreen=function(){return this.screen},t.prototype.getMessage=function(t){var e=this.config.messageProperties[t];return void 0===e?"":e},t.prototype.getMonthShort=function(t){return this.config.messageProperties[p[t]+"-short"]},t.prototype.getMonthFull=function(t){return this.config.messageProperties[p[t]+"-full"]},t.prototype.getMonthShortNames=function(){return this.shortMonthNames},t.prototype.getMonthFullNames=function(){return this.fullMonthNames},t.prototype.getWeekdayMin=function(t){return this.config.messageProperties[h[t]+"-min"]},t.prototype.getWeekFullNames=function(){return this.fullDayNames},t.prototype.getWeekShortNames=function(){return this.shortDayNames},t.prototype.getWeekMinNames=function(){return this.minDayNames},t.prototype.isAugust2016Editor=function(){return this.isAuthoring()&&this.config.interviewProperties["use-aug2016-interview"]===!0},t.prototype.showScreenTitle=function(){return this.config.interviewProperties["show-screen-title"]!==!1},t.prototype.showScreenList=function(){return this.config.interviewProperties["show-screen-list"]!==!1},t.prototype.showHeader=function(t){return t?this.config.interviewProperties["hide-header-embedded"]!==!0:this.config.interviewProperties["hide-header"]!==!0},t.prototype.showFooter=function(t){return t?this.config.interviewProperties["hide-footer-embedded"]!==!0:this.config.interviewProperties["hide-footer"]!==!0},t.prototype.getFooterLeftText=function(){return a.stringReplace(this.getMessage("footer-left-text"),"${resources-root}",this.getResourceBasePath())},t.prototype.getFooterRightText=function(){return a.stringReplace(this.getMessage("footer-right-text"),"${resources-root}",this.getResourceBasePath())},t.prototype.getHeaderTitle=function(){return a.stringReplace(this.getMessage("application-name"),"${resources-root}",this.getResourceBasePath())},t.prototype.getHeaderAlt=function(){return this.config.interviewProperties["header-alt"]},t.prototype.enforceAttachmentWhitelist=function(){return this.getInterviewProperty("enforce-attachment-whitelist",!1)===!0},t.prototype.disableImageSliders=function(){return this.getInterviewProperty("disable-image-sliders",!1)===!0},t.prototype.getExtensionWhitelist=function(){return this.extWhitelist},t.prototype.isAllowableExtension=function(t){if(!this.enforceAttachmentWhitelist())return!0;var e=t.lastIndexOf("."),n=e>-1&&e+1<t.length?t.substring(e+1,t.length):"";return n=n.toLowerCase(),void 0!==a.arrayFind(this.extWhitelist,function(t){return t==n})},t.prototype.getHeaderImage=function(){var t=a.stringReplace(this.config.interviewProperties["header-image"],"${resources-root}",this.getResourceBasePath());return""!==t&&null!==t?t:null},t.prototype.getHeaderLink=function(){var t=this.config.interviewProperties["header-image-link"];return""!==t&&null!==t?t:null},t.prototype.getEnumeration=function(t){return this.enumerations[t]},t.prototype.allowRandomAccess=function(){return this.config.interviewProperties["allow-random-access"]===!0},t.prototype.getExitURL=function(){var t=this.config.interviewProperties["exit-url"];return t?t:null},t.prototype.hideEmptyProgressStage=function(){return this.config.interviewProperties["hide-empty-progress-stages"]===!0},t.prototype.showStages=function(t){return 0!=this.getStagesTheme()&&(t?this.config.interviewProperties["hide-progress-stages-embedded"]!==!0:this.config.interviewProperties["show-progress-stages"]===!0)},t.prototype.getStagesTheme=function(){return this.config.interviewProperties["progress-stages-theme"]},t.prototype.getButtonPosition=function(){return this.config.screen.buttonPosition},t.prototype.getResourceBasePath=function(){return this.buildURL(this.getInterviewProperty("resourcesBasePath",""))},t.prototype.getResourceURI=function(t){return this.getResourceBasePath()+"/"+t},t.prototype.getFormatRegion=function(){return this.config.formatterProperties.region},t.prototype.getScreenURI=function(){return this.buildURL(this.config.screenUri)},t.prototype.showMandatoryIcon=function(){return this.config.interviewProperties["show-mandatory-icon"]===!0},t.prototype.showCalendarIcon=function(t){return t?this.config.interviewProperties["show-calendar-dt-icon"]===!0:this.config.interviewProperties["show-calendar-icon"]===!0},t.prototype.getMandatoryIcon=function(){var t=a.stringReplace(this.config.interviewProperties["mandatory-icon"],"${resources-root}",this.getResourceBasePath());return null!=t&&""!==t?t:null},t.prototype.getSpeakerIcon=function(){var t=a.stringReplace(this.config.interviewProperties["captcha-audio-ico"],"${resources-root}",this.getResourceBasePath());return null!=t&&""!==t?t:null},t.prototype.getErrorIcon=function(){var t=a.stringReplace(this.config.interviewProperties["error-icon"],"${resources-root}",this.getResourceBasePath());return null!=t&&""!==t?t:null},t.prototype.getCalendarIcon=function(t){var e=t?this.config.interviewProperties["calendar-dt-icon"]:this.config.interviewProperties["calendar-icon"];return null!=e&&""!==e?a.stringReplace(e,"${resources-root}",this.getResourceBasePath()):null},t.prototype.showScreenIcons=function(){return this.showActiveScreenImage()||this.showCompleteScreenImage()||this.showIncompleteScreenImage()},t.prototype.showStageIcons=function(){return this.showActiveStageImage()||this.showCompleteStageImage()||this.showIncompleteStageImage()||this.showFutureStageImage()},t.prototype.showActiveStageImage=function(){return this.config.interviewProperties["show-active-stage-image"]===!0},t.prototype.getActiveStageImage=function(){return a.stringReplace(this.config.interviewProperties["active-stage-image"],"${resources-root}",this.getResourceBasePath())},t.prototype.showCompleteStageImage=function(){return this.config.interviewProperties["show-complete-stage-image"]===!0},t.prototype.getCompleteStageImage=function(){return a.stringReplace(this.config.interviewProperties["complete-stage-image"],"${resources-root}",this.getResourceBasePath())},t.prototype.showIncompleteStageImage=function(){return this.config.interviewProperties["show-incomplete-stage-image"]===!0},t.prototype.getIncompleteStageImage=function(){return a.stringReplace(this.config.interviewProperties["incomplete-stage-image"],"${resources-root}",this.getResourceBasePath())},t.prototype.showFutureStageImage=function(){return this.config.interviewProperties["show-future-stage-image"]===!0},t.prototype.getFutureStageImage=function(){return a.stringReplace(this.config.interviewProperties["future-stage-image"],"${resources-root}",this.getResourceBasePath())},t.prototype.isProgressStagesOneLevel=function(){return this.config.interviewProperties["progress-stages-one-level"]===!0},t.prototype.showActiveScreenImage=function(){return this.config.interviewProperties["show-active-screen-image"]===!0},t.prototype.getActiveScreenImage=function(){return a.stringReplace(this.config.interviewProperties["active-screen-image"],"${resources-root}",this.getResourceBasePath())},t.prototype.showCompleteScreenImage=function(){return this.config.interviewProperties["show-complete-screen-image"]===!0},t.prototype.getCompleteScreenImage=function(){return a.stringReplace(this.config.interviewProperties["complete-screen-image"],"${resources-root}",this.getResourceBasePath())},t.prototype.showIncompleteScreenImage=function(){return this.config.interviewProperties["show-incomplete-screen-image"]===!0},t.prototype.getIncompleteScreenImage=function(){return a.stringReplace(this.config.interviewProperties["incomplete-screen-image"],"${resources-root}",this.getResourceBasePath())},t.prototype.showSubmitProgress=function(){return this.config.interviewProperties["show-submit-progress"]===!0},t.prototype.showSubmitProgressImage=function(){return this.config.interviewProperties["show-submit-progress-image"]===!0},t.prototype.getSubmitProcessIcon=function(){var t=a.stringReplace(this.config.interviewProperties["submit-progress-icon"],"${resources-root}",this.getResourceBasePath());return null!=t&&""!==t?t:null},t.prototype.getSignatureWidth=function(){return this.config.interviewProperties["signature-width"]},t.prototype.getSignatureHeight=function(){return this.config.interviewProperties["signature-height"]},t.prototype.getSignatureLineHeight=function(){return this.config.interviewProperties["signature-line-height"]},t.prototype.getPendingNavigateUri=function(){return this.pendingNavigateUri},t.prototype.clearPendingNavigateUri=function(){this.pendingNavigateUri=null},t.prototype.isDirty=function(){return this._isDirty===!0},t.prototype.setDirty=function(t){this._isDirty!=t&&(this._isDirty=t,this.callback("dirty",{value:t}))},t.prototype.buildURL=function(e){return t.buildURL(this.url,e)},t.buildURL=function(t,e){if(null==e)return e;var n=e.indexOf("//");if(n>0||null==t)return e;var i=t.indexOf("//");if(i<0)return e;var o=t.indexOf("/",i+2);return o>=0?t.substring(0,o)+e:e},t.prototype.getInterviewProperty=function(t,e){return void 0!==this.config.interviewProperties[t]?this.config.interviewProperties[t]:e},t.prototype.getInterviewPropertyNumber=function(t,e){var n=this.getInterviewProperty(t,e);return"string"==typeof n?parseFloat(n):n},t.prototype.getLocale=function(){return this.config.interviewProperties.locale},t.prototype.getMaxAttachmentSizeMB=function(){return void 0!==this.config.interviewProperties.attachmentFileSizeLimit?this.config.interviewProperties.attachmentFileSizeLimit:10},t.prototype.getMaxTotalAttachmentSizeMB=function(){return void 0!==this.config.interviewProperties.attachmentsTotalSizeLimit?this.config.interviewProperties.attachmentsTotalSizeLimit:50},t.prototype.getMaxAttachmentNameChars=function(){return void 0!==this.config.interviewProperties.attachmentNameMaxChars?this.config.interviewProperties.attachmentNameMaxChars:0},t.prototype.getMaxAttachmentSize=function(){var t=1e6;return this.getMaxAttachmentSizeMB()*t},t.prototype.getMaxTotalAttachmentSize=function(){var t=1e6;return this.getMaxTotalAttachmentSizeMB()*t},t.prototype.getExceedsMaxAttachmentSizeMessage=function(t){var e=a.stringReplace(this.getMessage("AttachmentExceedsLimitError"),"${e.getFilename()}",t);return a.stringReplace(e,"${e.getMaxSizeMb()}",this.getMaxAttachmentSizeMB())},t.prototype.getExceedsMaxAttachmentNameChars=function(t){var e=a.stringReplace(this.getMessage("AttachmentNameTooLongError"),"${e.getFilename()}",t);return a.stringReplace(e,"${e.getMaxChars()}",this.getMaxAttachmentNameChars())},t.prototype.getExceedsMaxTotalAttachmentSizeMessage=function(){return a.stringReplace(this.getMessage("AttachmentsExceedLimitError"),"${e.getMaximumTotalMbLimit()}",this.getMaxTotalAttachmentSizeMB())},t.prototype.getAttachmentNotAllowedMessage=function(t){for(var e="",n=0;n<this.extWhitelist.length;++n)n>0&&(e+=", "),e+=this.extWhitelist[n];return a.stringReplace(a.stringReplace(this.getMessage("AttachmentNotAllowedError"),"${e.getAllowableExtensions()}",e),"${e.getFileName()}",t)},t.prototype.geoLocationUpdated=function(){this.getScreen().updateState()},t.prototype.getPartialSubmitPostData=function(){var t=new f(this,this.screen,!1);this.screen.controls.forEach(function(e){return e.updateSubmit(t)});var e={data:t.data,location:t.location,partialSubmit:!0,nextUri:this.config.jsonInvestigateUri,operation:"navigate",captchaAnswers:void 0};return e},t.prototype.createSubmitPayload=function(){var t=new f(this,this.screen,!1);return this.screen.controls.forEach(function(e){return e.updateSubmit(t)}),t},t.prototype.submit=function(t){var e=this;this.isAuthoring()||(null==t&&(t={}),this.cancelWhatIf(),this.screen.mustValidateServerSide()?this.whatIf(null,!0,function(n){void 0!==n.errors?e.screen.processErrors(n,!1):e.doSubmit(e.createSubmitPayload(),t)}):this.doSubmit(this.createSubmitPayload(),t))},t.prototype.doSubmit=function(e,n){var i=this,o={data:e.data,location:e.location,operation:n.operation?n.operation:"submitScreen",captchaAnswers:void 0,nextUri:n.nextUri};e.captcha.length>0&&(o.captchaAnswers=e.captcha),this._isSubmitting=!0,this.lastServerPing=(new Date).getTime(),t.ajaxPost(this.buildURL(this.config.jsonInvestigateUri),o,function(t){return i._isSubmitting=!1,i.config.sessionAttributes&&i.config.sessionAttributes.ACSLogJSON&&l.default.log(JSON.parse(i.config.sessionAttributes.ACSLogJSON)),n.then?void n.then(t):(i.screen.clearErrors(),void(t.success===!1?(i.screen._pageErrors=[{message:i.config.messageProperties.GenericErrorMessage}],i.callback("update")):t.displayNextScreen?"mobileAsyncSubmit"in t&&t.mobileAsyncSubmit||i.processSubmitResponse(t,!1):i.processSubmitErrors(t)))},this.customPostHandler,{callback:this.callback,embedded:this.embedded})},t.prototype.cancelWhatIf=function(){void 0!==this.activeWhatIfTimer&&(clearTimeout(this.activeWhatIfTimer),delete this.activeWhatIfTimer)},t.prototype.processWhatIfResponse=function(t,e,n,i){if(this.screen.processErrors(e,!0),void 0!==e.data){if(this.screen.applyWhatIf(e),n>6)return this.callback("refresh",{}),void(i&&i(e));var o=this.prepareWhatIf(),r=JSON.stringify(o.data),s=JSON.stringify(t.data);if(r===s)return this.callback("refresh",{}),void(i&&i(e));this.doWhatIf(0,o,n+1)}else i&&i(e)},t.prototype.doWhatIf=function(e,n,i,o){var r=this,s={data:n.data,location:n.location,operation:"whatIf"},a=JSON.stringify(s);if(this.cancelWhatIf(),this.whatIfMemoize.hasOwnProperty(a)){var l=this.whatIfMemoize[a];return void this.processWhatIfResponse(n,l,i,o)}this.activeWhatIfTimer=setTimeout(function(){if(delete r.activeWhatIfTimer,a!==r.pendingWhatIfRequest||r.screen!==r.pendingWhatIfScreen){r.pendingWhatIfRequest=a,r.pendingWhatIfScreen=r.screen;var e=r.screen;r.lastServerPing=(new Date).getTime(),t.ajaxPost(r.buildURL(r.config.jsonInvestigateUri),s,function(t){r.screen===e&&a===r.pendingWhatIfRequest&&(delete r.pendingWhatIfRequest,delete r.pendingWhatIfScreen,t.success!==!1&&(r.whatIfMemoize[a]=t,r.processWhatIfResponse(n,t,i,o)))},r.customPostHandler,{embedded:r.embedded})}},null!=e?e:700)},t.prototype.prepareWhatIf=function(){var t=new f(this,this.screen,!0);return this.screen.controls.forEach(function(e){return e.updateSubmit(t)}),t},t.prototype.whatIf=function(t,e,n){if(!this.isAuthoring()&&(this.deferSessionExpire(),this.cancelWhatIf(),this.screen.anyWhatIf||e===!0)){var i=this.prepareWhatIf();this.doWhatIf(t,i,1,n)}},t.prototype.isSubmitting=function(){return this._isSubmitting},t.prototype.refresh=function(){var e=this;this.whatIfMemoize={},t.ajaxPost(this.buildURL(this.config.jsonInvestigateUri),{operation:"getScreen"},function(t){e.screen.clearErrors(),t.success===!1?e.screen._pageErrors=[{message:e.config.messageProperties.GenericErrorMessage}]:(e.setDirty(!1),e.config=a.objectAssign(e.config,t),e.screen=new o.default(e,e.config),e.whatIf(0)),e.callback("update")},this.customPostHandler,{embedded:this.embedded})},t.prototype.restart=function(){var e=this;!1!==this.callback("canRestart",{dirty:this._isDirty})&&t.ajaxPost(this.buildURL(this.config.jsonInvestigateUri),{operation:"restart"},function(t){e.screen.clearErrors(),t.success===!1?(e.screen._pageErrors=[{message:e.config.messageProperties.GenericErrorMessage}],e.callback("update")):(e.previouslyVisited={},e.processSubmitResponse(t,!0,!0))},this.customPostHandler,{embedded:this.embedded})},t.prototype.exit=function(){var t=this;null!==this.screen.getExitURL()&&(this.screen.mustValidateServerSide()?this.whatIf(null,!0,function(e){void 0!==e.errors?(t.screen.processErrors(e,!1),t.setDirty(!0),t.callback("redirect",{location:t.screen.getExitURL()})):t.doExit()}):this.doExit())},t.prototype.doExit=function(){var t=this;this.doSubmit(this.createSubmitPayload(),{partialSubmit:!0,nextUri:this.config.jsonInvestigateUri,operation:"navigate",then:function(e){t.lastServerPing=(new Date).getTime(),t.screen.clearErrors(),e.success===!1?(t.screen._pageErrors=[{message:t.config.messageProperties.GenericErrorMessage}],t.callback("update")):(t.processSubmitResponse(e,!0,!0),t.callback("redirect",{location:t.screen.getExitURL()}))}})},t.prototype.postData=function(){this.navigate(this.config.jsonInvestigateUri,!1)},t.prototype.navigate=function(t,e){var n=this;this.clearPendingNavigateUri(),this.screen.mustValidateServerSide()?this.whatIf(null,!0,function(i){void 0!==i.errors?(n.screen.processErrors(i,!1),n.pendingNavigateUri=t):n.doNavigate(t,e)}):this.doNavigate(t,e)},t.prototype.doNavigate=function(t,e,n){var i=this;this.clearPendingNavigateUri();var o={partialSubmit:!0,nextUri:t,operation:"navigate",then:function(t){i.lastServerPing=(new Date).getTime(),i.screen.clearErrors(),t.success===!1?(n!==!0&&(i.screen._pageErrors=[{message:i.config.messageProperties.GenericErrorMessage}]),i.callback("update")):n!==!0&&void 0!==t.warnings?i.screen.processErrors(t,!1):i.processSubmitResponse(t,e!==!1,e)}},r=this.createSubmitPayload();this.doSubmit(r,o)},t.prototype.processSubmitErrors=function(t){this.config=a.objectAssign(this.config,t),this.screen=new o.default(this,this.config),this.callback("navigate",{updateHistory:!1})},t.prototype.processSubmitResponse=function(t,e,n){this.whatIfMemoize={},t.dataSaved&&this.setDirty(!1),t.location&&this.callback("redirect",{location:t.location});var i=this.config.screenUri,r=this.config.jsonInvestigateUri;this.config.errors=[],this.config.warnings=[],this.clearPendingNavigateUri(),this.config=a.objectAssign(this.config,t),this.config.warnings=[],e&&(this.config.errors=[]);var s=this.config.screenUri,l=this.config.jsonInvestigateUri;this.screen=new o.default(this,this.config),this.whatIf(0),this.debuggerNotifyUpdate(),this.callback("navigate",{oldScreenURI:i,oldInvestigateURI:r,newScreenURI:s,newInvestigateURI:l,updateHistory:n!==!1})},t.prototype.markCurrentScreenVisited=function(){this.previouslyVisited[this.config.screen.id]=!0},t.prototype.isCurrentScreenPreviouslyVisited=function(){return this.previouslyVisited[this.config.screen.id]===!0},t.prototype.debuggerNotifyUpdate=function(){try{this.isDebugging()&&window.external&&window.external.DebuggerHasNavigated(this.config.screenUri,this.config.screen.id)}catch(t){}},t.prototype.debuggerGetCurrentScreen=function(){return this.config.screen.id},t.ajaxPost=function(t,e,n,i,o){if(typeof i==typeof Function)i(t,e,n,o);else{var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){var t;if(200!=r.status){t={success:!1};try{var e=JSON.parse(r.responseText);a.objectAssign(t,e)}catch(t){}}else try{t=JSON.parse(r.responseText),t.success=!0}catch(e){t={success:!1}}n(t)}};var s=JSON.stringify(e);s.length>5e3&&o&&o.callback&&(r.upload.onprogress=function(t){if(t.lengthComputable){var e=t.loaded/t.total;o.callback("progress",{event:t,value:e})}else o.callback("progress",{event:t,value:null})}),r.open("POST",t,!0),r.withCredentials=!0,r.setRequestHeader("Content-type","text/plain"),r.send(s)}},t.ajaxGet=function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&e(200!=n.status?{success:!1}:JSON.parse(n.responseText))},n.open("GET",t),n.setRequestHeader("Content-type","text/plain"),n.send()},t.htmlEncode=function(t){var e=(""+t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return e},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var f=function(){function t(t,e,n){this.session=t,this.screen=e,this.whatIf=n,this.data=[],this.captcha=[],e.collectLocation()&&(t.debugLatitude?this.location=[t.debugLatitude,t.debugLongitude]:this.location=s.default.getCurrentPosition(),t.config.screen.collectLocationLatitudeAttributeId||(this.location[0]=null),t.config.screen.collectLocationLongitudeAttributeId||(this.location[1]=null))}return t.prototype.getEntity=function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].entityId===t)return this.data[e];var n={entityId:t,instances:[]};return this.data.push(n),n},t.prototype.getEntityInstance=function(t,e){for(var n=this.getEntity(t),i=n.instances,r=0;r<i.length;r++)if(e===i[r].instanceName)return i[r];var s={instanceName:e,entityId:t,attributes:[],relationships:[]};if(i.push(s),"global"!==t){var a=this.screen.getParentId(t,e);if(void 0!==a){s.parentId=a,this.getEntityInstance(a.entityId,a.instanceName);var l=this.screen.entities[t];if(l.isInferred)if(l.idRelationship){var u=o.default.opmget(this.screen.serverState,t,e,l.idRelationship);this.setRelationship(t,e,l.idRelationship,u),this.getEntityInstance(l.idRelationshipTargetEntity,u[0])}else this.setAttribute(t,e,l.idAttribute,o.default.opmget(this.screen.serverState,t,e,l.idAttribute))}}return s},t.prototype.setAttribute=function(t,e,n,i){var o=this.getEntityInstance(t,e),r=a.arrayFind(o.attributes,function(t){return t.attributeId===n});void 0===r&&(r={attributeId:n},o.attributes.push(r)),r.value=null!=i?i:{dataType:"<uncertain>"}},t.prototype.setRelationship=function(t,e,n,i){null==i&&(i=[]);var o=this.getEntityInstance(t,e),r=a.arrayFind(o.relationships,function(t){return t.relationshipId===n});void 0===r&&(r={relationshipId:n},o.relationships.push(r)),r.targets=i},t.prototype.setCaptcha=function(t,e){this.whatIf||this.captcha.push({captchaId:t,value:e})},t.prototype.setSignature=function(t,e,n){this.whatIf||(this.getEntityInstance(t,e).signature=n)},t.prototype.newAttachments=function(t,e,n){this.whatIf||(this.getEntityInstance(t,e).newAttachments=n)},t.prototype.removedAttachments=function(t,e,n){this.whatIf||(this.getEntityInstance(t,e).removedAttachments=n)},t}();e.defaultStyle={themeColor:"#D45A48",disabledThemeColor:"#D3D3D3",focus:{outline:"solid 2px #D45A48"},header:{fontSize:"xx-large",fontWeight:"bold",backgroundColor:"#19739f",color:"#fff"},interview:{fontFamily:"Roboto",fontSize:14,color:"#29303f"},screenTitle:{fontSize:"25px",fontWeight:"bold"},question:{fontWeight:"bold"},addButton:{color:"#fff",backgroundColor:"#19739f"},removeButton:{color:"#fff",backgroundColor:"#19739f"},next:{fontSize:"16px",color:"#fff",backgroundColor:"#2093cb"},back:{fontSize:"16px",color:"#fff",backgroundColor:"#19739f"},activeStage:{fontSize:"large",color:"White",backgroundColor:"#19739f"},incompleteStage:{fontSize:"large",color:"#3f3f3f",backgroundColor:"White"},activeScreen:{fontSize:"medium",color:"#19739f",backgroundColor:"#F5F8FC"},incompleteScreen:{fontSize:"medium",color:"#3f3f3f",backgroundColor:"White"}}},function(t,e,n){"use strict";function i(t,e,n,i,o){var r=1;if(t=t.trim(),t.length>0&&"-"==t.charAt(0)&&(r=-1,t=t.substring(1)),void 0!==e){var s=D.stringReplace(e,"¤",o.currencySymbol),a=e.replace("¤","");if(t.substring(0,s.length)===s)t=t.substring(s.length);else{if(t.substring(0,a.length)!==a)return null;t=t.substring(a.length)}}if(void 0!==n){var l=D.stringReplace(n,"¤",o.currencySymbol),u=n.replace("¤","");if(t.length>=l.length&&t.substring(t.length-l.length)===l)t=t.substring(0,t.length-l.length);else{if(!(t.length>=u.length&&t.substring(t.length-u.length)===u))return null;t=t.substring(0,t.length-u.length)}}for(var c=!1,p=0;p<t.length;p++){var h=t.substring(p,p+1);if(h>="0"&&h<="9");else if(i&&h==o.decimal){if(c)return null;c=!0}else{if(!(o.group.indexOf(h)>=0))return null;if(c)return null}}for(var p=0;p<o.group.length;p++)t=t.split(o.group[p]).join("");if(0==t.length)return null;var d=parseFloat(D.stringReplace(t,o.decimal,"."));return isNaN(d)?null:d*r}function o(t){var e=new k.default,n=t.indexOf("."),i=0,o=0,r=!0;if(n>=0){e.allowDecimal=!0;for(var s=n;s<t.length;s++){var a=t.charAt(s);"#"==a?o++:"0"==a&&(i++,o++)}e.decimalPlaces=o,e.minDecimalPlaces=i}else e.allowDecimal=!1,n=t.length;for(var l=0,u=n-1;u>=0;u--){var a=t.charAt(u);"#"==a||"0"==a?l++:","==a&&(e.group=l)}var c="",p="",h=0;for(r=!0;h<t.length;){var a=t.charAt(h++);if("#"==a||"0"==a||"."==a||","==a)r=!1,p="";else if("'"==a){var d=t.indexOf("'",h);if(d<0)break;r?c+=t.substring(h,d):p+=t.substring(h,d),h=d+1}else r?c+=a:p+=a}return e.prefix=c,e.suffix=p,e}function r(t,e,n){for(var o=0;o<e.length;o++){var r=e[o],s=void 0!==r.decimalPlaces,a=i(t,r.prefix,r.suffix,s,n);if(null!==a)return r.isPercentage?100*a:a;if(void 0!==r.negativePrefix||void 0!==r.negativeSuffix){if(a=i(t,r.negativePrefix,r.negativeSuffix,s,n),null!==a)return r.isPercentage?100*-a:-a}else if(a=i(t,void 0!==r.prefix?r.prefix+n.negative:n.negative,r.suffix,s,n),null!==a)return r.isPercentage?100*-a:-a}return null}function s(t,e,n){var i,o,r,s;e.isPercentage===!0&&(t*=100);var a=Math.floor(Math.log(Math.abs(t))/Math.LN10),l=Math.min(12-a,null!=e.decimalPlaces?e.decimalPlaces:0);if(l<0)for(i=Math.round(t*Math.pow(10,l));l<0;)l++,i+="0";else i=t.toFixed(l);var u=i.indexOf(".");u>=0?(o=i.substring(0,u),r=i.substring(u+1)):(o=i,r="");var c=e.minDecimalPlaces;void 0===c&&(c=0);for(var p=r.length;p>c&&"0"===r.substring(p-1,p);)p--;for(r=r.substring(0,p);r.length<c;)r+="0";if(o.length>0&&"-"===o.substring(0,1)?(s="-",o=o.substring(1)):s="",void 0!==e.group&&o.length>e.group&&n.group.length>0){var h=[],d=o.length%e.group;d>0&&h.push(o.substring(0,d));for(var f=d;f<o.length;f+=e.group)h.push(o.substring(f,f+e.group));o=h.join(n.group[0])}var g=[];return void 0!==e.negativePrefix&&""!==s?g.push(D.stringReplace(e.negativePrefix,"¤",n.currencySymbol)):(g.push(s),void 0!==e.prefix&&g.push(D.stringReplace(e.prefix,"¤",n.currencySymbol))),g.push(o),""!==r&&(g.push(n.decimal),g.push(r)),void 0!==e.negativeSuffix&&""!==s?g.push(D.stringReplace(e.negativeSuffix,"¤",n.currencySymbol)):void 0!==e.suffix&&g.push(D.stringReplace(e.suffix,"¤",n.currencySymbol)),g.join("")}function a(t,e,n,i,o,r){for(var s=[],a=0;a<t.length;){var l=a,u=t.charAt(a++);if("d"==u||"M"==u||"y"==u||"E"==u){for(;a<t.length&&t.charAt(a)==u;)a++;var c=a-l;"d"==u?s.push({kind:"day",zeroPad:c>1}):"M"==u?c>3?s.push({kind:"fullMonth",names:i}):3===c?s.push({kind:"shortMonth",names:n}):s.push({kind:"month",zeroPad:c>1}):"y"==u?s.push({kind:"year",digits:c,region:e}):"E"==u&&(c<4?s.push({kind:"shortDayName",names:o}):s.push({kind:"fullDayName",names:r}))}else s.push(u)}return s}function l(t,e,n){if("day"===e.kind){if(!P.test(t)||t.length>2)return!1;var i=parseInt(t);if(i>=1&&i<=31)return n.matchDay=i,!0}else if("month"===e.kind){if(!P.test(t)||t.length>2)return!1;var i=parseInt(t);if(i>=1&&i<=12)return n.matchMonth=i,!0}else if("shortMonth"===e.kind||"fullMonth"===e.kind){for(var o=0;o<e.names.length;++o)if(t.toLowerCase()===e.names[o].toLowerCase())return n.matchMonth=o+1,!0}else{if("year"===e.kind){if(!P.test(t)||e.digits>2&&e.digits!==t.length)return!1;var i=parseInt(t);return i>=0&&i<=99&&e.digits<=2?(i>=40?n.matchYear=1900+i:n.matchYear=2e3+i,!0):(n.matchYear="th-TH"===e.region?i-543:i,!0)}if("shortDayName"===e.kind||"fullDayName"===e.kind)for(var o=0;o<e.names.length;++o)if(t.toLowerCase()===e.names[o].toLowerCase())return n.dayOfWeek=o,!0}return!1}function u(t,e){if("th-TH"===e){if(t>=0&&t<=99)return 2500+t-543;if(t>=1e3&&t<=9999)return t-543}else{if(t>=0&&t<=99)return t>40?1900+t:2e3+t;if(t>=1e3&&t<=9999)return t}return t}function c(t,e){var n=h(t,e);return null!==n?d(n):null}function p(t,e){return null!=h(t,e)}function h(t,e){for(var n=0;n<e.length;n++){for(var i=e[n],o=0,r=0,s={matchDay:1,matchMonth:1,matchYear:2016};r<i.length;){var a=i[r];if("string"==typeof a){if(a!==t.substr(o,a.length))break;o+=a.length}else{var u=t.substr(o),c=t.length;if(r+1<i.length){var p=i[r+1];if("string"!=typeof p)break;if(c=t.indexOf(p,o),c===-1)break;u=t.substring(o,c)}if(!l(u,a,s))break;o=c}r++}if(r==i.length)return s}return null}function d(t){var e=new Date;if(e.setFullYear(t.matchYear,t.matchMonth-1,t.matchDay),e.setHours(0,0,0,0),e.getFullYear()!=t.matchYear||e.getFullYear()<0||e.getFullYear()>9999||e.getMonth()+1!=t.matchMonth||e.getDate()!=t.matchDay||void 0!==t.dayOfWeek&&e.getDay()!==t.dayOfWeek)return null;var n=("000"+t.matchYear).slice(-4)+"-"+("0"+t.matchMonth).slice(-2)+"-"+("0"+t.matchDay).slice(-2);return n<"0001-01-01"||n>"9999-09-09"?null:n}function f(t,e){var n=parseInt(t);return 1==e.zeroPad&&n<10?"0"+n:n+""}function g(t,e,n){if("day"===e.kind)t.push(f(n[2],e));else if("month"===e.kind)t.push(f(n[1],e));else if("shortMonth"===e.kind||"fullMonth"===e.kind)t.push(e.names[n[1]-1]);else if("year"===e.kind){var i=parseInt(n[0]);2===e.digits&&i>=1940&&i<2040?("th-TH"==e.region&&(i+=543),t.push(""+i%100)):"th-TH"===e.region?t.push(""+(i+543)):t.push(n[0])}else if("shortDayName"===e.kind||"fullDayName"===e.kind){var o=new Date(parseInt(n[0]),parseInt(n[1])-1,parseInt(n[2]));t.push(e.names[o.getDay()])}}function m(t,e){for(var n=[],i=t.split("-"),o=0;o<e.length;o++){var r=e[o];"string"==typeof r?n.push(r):g(n,r,i)}return n.join("")}function y(t,e){for(var n=[],i=0;i<t.length;){var o=i,r=t.charAt(i++);if("h"==r||"H"==r||"m"==r||"s"==r||"a"==r){for(;i<t.length&&t.charAt(i)==r;)i++;var s=i-o;"h"==r?n.push({kind:"hour12",zeroPad:s>1}):"H"==r?n.push({kind:"hour24",zeroPad:s>1}):"m"==r?n.push({kind:"minutes",zeroPad:s>1}):"s"==r?n.push({kind:"seconds",zeroPad:s>1}):"a"==r&&n.push({kind:"am",names:e})}else n.push(r)}return n}function v(t,e,n){if("hour12"===e.kind){if(!P.test(t))return!1;var i=parseInt(t);if(i>=1&&i<=12)return n.matchHour12=i,!0}else if("hour24"===e.kind){if(!P.test(t))return!1;var i=parseInt(t);if(i>=0&&i<=23)return n.matchHour24=i,!0}else if("minutes"===e.kind){if(!P.test(t))return!1;var i=parseInt(t);if(i>=0&&i<=59)return n.matchMinutes=i,!0}else if("seconds"===e.kind){if(!P.test(t))return!1;var i=parseInt(t);if(i>=0&&i<=59)return n.matchSeconds=i,!0}else if("am"===e.kind){if(t.toLowerCase()===e.names[0].toLowerCase())return n.isPM=!1,!0;if(t.toLowerCase()===e.names[1].toLowerCase())return n.isPM=!0,!0}return!1}function b(t,e){for(var n=0;n<e.length;n++){for(var i=e[n],o={matchHour12:null,matchHour24:null,matchMinutes:0,matchSeconds:0,isPM:!1},r=0,s=0;r<i.length;){var a=i[r];if("string"==typeof a){if(a!==t.substr(s,a.length))break;s+=a.length}else{var l=t.substr(s),u=t.length;if(r+1<i.length){var c=i[r+1];if("string"!=typeof c)break;if(u=t.indexOf(c,s),u===-1)break;l=t.substring(s,u)}if(!v(l,a,o))break;s=u}r++}if(r==i.length)return w(o)}return null}function w(t){return null!==t.matchHour12&&(12!==t.matchHour12||t.isPM?12===t.matchHour12&&t.isPM?t.matchHour24=12:t.isPM?t.matchHour24=t.matchHour12+12:t.matchHour24=t.matchHour12:t.matchHour24=0),null!==t.matchHour24?("0"+t.matchHour24).slice(-2)+":"+("0"+t.matchMinutes).slice(-2)+":"+("0"+t.matchSeconds).slice(-2):"00:"+("0"+t.matchMinutes).slice(-2)+":"+("0"+t.matchSeconds).slice(-2)}function x(t,e,n){if("hour12"===e.kind){var i=parseInt(n[0]),o=void 0;o=0==i?12:i<=12?i:i-12,e.zeroPad===!0&&o<10?t.push("0"+o):t.push(""+o)}else if("hour24"===e.kind)t.push(f(n[0],e));else if("minutes"===e.kind)t.push(f(n[1],e));else if("seconds"===e.kind)t.push(f(n[2],e));else if("am"===e.kind){var o=parseInt(n[0]);o<12?t.push(e.names[0]):t.push(e.names[1])}}function S(t,e){for(var n=[],i=t.split(":"),o=0;o<e.length;o++){var r=e[o];"string"==typeof r?n.push(r):x(n,r,i);
}return n.join("")}function C(t,e,n,i,o,r,s){for(var a=[],l=0;l<t.length;){var u=l,c=t.charAt(l++);if("h"==c||"H"==c||"m"==c||"s"==c||"a"==c||"z"==c||"Z"==c||"X"==c){for(;l<t.length&&t.charAt(l)==c;)l++;var p=l-u;"h"==c?a.push({kind:"hour12",zeroPad:p>1}):"H"==c?a.push({kind:"hour24",zeroPad:p>1}):"m"==c?a.push({kind:"minutes",zeroPad:p>1}):"s"==c?a.push({kind:"seconds",zeroPad:p>1}):"a"==c&&a.push({kind:"am",names:s})}else if("d"==c||"M"==c||"y"==c||"E"==c){for(;l<t.length&&t.charAt(l)==c;)l++;var p=l-u;"d"==c?a.push({kind:"day",zeroPad:p>1}):"M"==c?p>3?a.push({kind:"fullMonth",names:i}):3===p?a.push({kind:"shortMonth",names:n}):a.push({kind:"month",zeroPad:p>1}):"y"==c?a.push({kind:"year",digits:p,region:e}):"E"==c&&(p<4?a.push({kind:"shortDayName",names:o}):a.push({kind:"fullDayName",names:r}))}else a.push(c)}for(var h=a.length-1;h>-1;--h){var d=a[h];if("string"!=typeof d||0!==d.trim().length)break;a.pop()}return a}function E(t,e){var n=T(t,e);if(null!==n){var i=d(n),o=w(n);if(null!=i&&null!=o)return i+"T"+o}return null}function I(t,e){return null!=T(t,e)}function T(t,e){for(var n=0;n<e.length;n++){for(var i=e[n],o=0,r=0,s={matchDay:1,matchMonth:1,matchYear:2016,matchHour12:null,matchHour24:null,matchMinutes:0,matchSeconds:0,isPM:!1};r<i.length;){var a=i[r];if("string"==typeof a){if(a!==t.substr(o,a.length))break;o+=a.length}else{var u=t.substr(o),c=t.length;if(r+1<i.length){var p=i[r+1];if("string"!=typeof p)break;if(c=t.indexOf(p,o),c===-1)break;u=t.substring(o,c)}if(!l(u,a,s)&&!v(u,a,s))break;o=c}r++}if(r==i.length)return s}return null}function O(t,e){for(var n=[],i=t.split("T"),o=i[0].split("-"),r=i[1].split(":"),s=0;s<e.length;s++){var a=e[s];"string"==typeof a?n.push(a):(x(n,a,r),g(n,a,o))}return n.join("").trim()}var k=n(7),D=n(3),M={compileNumberFormat:o,parseNumber:r,formatNumber:s,compileTimeFormat:y,parseTime:b,formatTime:S,compileDateFormat:a,parseDate:c,formatDate:m,isWellFormedDate:p,compileDateTimeFormat:C,parseDateTime:E,formatDateTime:O,isWellFormedDateTime:I,adjustYear:u};Object.defineProperty(e,"__esModule",{value:!0}),e.default=M;var P=/^\d+$/},function(t,e){"use strict";var n=function(){function t(){}return t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";function i(t,e,n){return t[e]||(t[e]={}),t[e][n]||(t[e][n]={}),t[e][n]}function o(t){return"hide"!==t.showState&&("show"===t.showState||t.visited||t.hasAnyRelevant||t.isCurrent)}var r=n(5),s=n(6),a=n(2),l=n(9),u=n(24),c=n(26),p=n(3),h=n(13),d=n(12),f=function(){function t(t,e){var n=this;t.screen=this,this.session=t,this.config=e,this.controls=[],this.answers={},this.attributes={},this.entities={},this.parents={},this.relevance={},this._pageErrors=[],this.errors={},this.controlErrors={},this.originalState=this.flattenData(e),this.serverState=JSON.parse(JSON.stringify(this.originalState)),this.clientState={},this.nextInstance={},this.anyWhatIf=e.screen.hasRelevantExpressions===!0,this.entity=e.screen.entityInstanceId.entityId,this.instance=e.screen.entityInstanceId.instanceName,this._interpretErrors(e),this.config.whatIf&&(this.applyWhatIf(this.config.whatIf),delete this.config.whatIf),this.controls=e.screen.controls.map(function(t){return n.createControl(t,e.screen.entityInstanceId.entityId,e.screen.entityInstanceId.instanceName)}),this.internalEvaluateState(),this.collectLocation()&&(this.anyWhatIf=!0,c.default.wantsCurrentPosition(t))}return t.prototype.applyWhatIf=function(t){this.parents={},this.serverState=this.flattenData(t),this.internalEvaluateState()},t.prototype.flattenData=function(e){var n=this,i={};return this.relevance={},e.data.forEach(function(e){var o=p.objectAssign({},e);delete o.instances,n.entities[e.entityId]=o;var r={};i[e.entityId]=r,e.instances.forEach(function(o){if(void 0!==o.parentId){var s=o.parentId;t.opmset(n.parents,e.entityId,o.instanceName,"entityId",s.entityId),t.opmset(n.parents,e.entityId,o.instanceName,"instanceName",s.instanceName)}r[o.instanceName]={},o.attributes.forEach(function(r){t.opmset(i,e.entityId,o.instanceName,r.attributeId,r.value),t.opmset(n.relevance,e.entityId,o.instanceName,r.attributeId,r.isRelevant)}),o.relationships.forEach(function(r){t.opmset(i,e.entityId,o.instanceName,r.relationshipId,r.targets),t.opmset(n.relevance,e.entityId,o.instanceName,r.relationshipId,r.isRelevant)})})}),e.attributeMetadata&&e.attributeMetadata.forEach(function(t){n.attributes[t.attributeId]=t}),i},t.prototype.isReadOnly=function(){return this.config.screen.readOnly===!0},t.prototype.collectLocation=function(){return this.config.screen.collectLocation===!0},t.prototype.mustValidateServerSide=function(){return this.config.screen.serverValidate===!0},t.prototype.dynamicEventDisplay=function(){return 1==this.config.screen.dynamicErrors},t.prototype.tokeniseSubstituteText=function(t){for(var e,n=0,i=[];(e=t.indexOf("%",n))>=0;)i.push(t.substring(n,e)),n=e+1;return i.length<=1?[t]:(i.push(t.substring(n)),i)},t.prototype.substituteText=function(t,e,n){return this.substituteTextWithEncoder(t,e,n,r.default.htmlEncode)},t.prototype.substituteTextWithEncoder=function(t,e,n,i){if(this.session.isAuthoring())return n;for(var o=this.tokeniseSubstituteText(n),r=[],s=0;s<o.length;s++){var a=o[s];if(0==s%2)r.push(a);else if(0==a.length)r.push("%");else{for(var l=-1,u=-1,c=0;c<a.length;++c){var p=a[c];if("?"===p)l=c;else if(":"===p){u=c;break}}var h=void 0,d=null,f=null,g=null;l>-1?(h=a.substring(0,l),u===-1?d=a.substring(l+1):u===l+1?g=a.substring(u+1):(d=a.substring(l+1,u),f=a.substring(u+1))):u>-1?(h=a.substring(0,u),g=a.substring(u+1)):h=a;var m=void 0,y=this.lookupAttributeValue(t,e,h);if(null==y||void 0==y)m=null!==d?d:this.format(y,h);else if(null!==g){var v=this.attributes[h].genderAttribute,b=this.lookupAttributeValue(t,e,v);if(null===b||void 0===b)m=g;else{var w=g.split("/");m="male"===b.toLowerCase()?w[0]:"female"===b.toLowerCase()?w[1]:"neuter"===b.toLowerCase()?w[2]:b}}else m=null!==f?f+" "+this.format(y,h):this.format(y,h);r.push(i(m))}}return r.join("")},t.prototype.createControl=function(t,e,n){return u.ScreenItem.create(this,t,e,n)},t.prototype.generateEntityInstance=function(e,n,i,o,r){void 0===this.nextInstance[e]&&(this.nextInstance[e]=i);var s=n+this.nextInstance[e]++;return t.opmset(this.parents,e,s,"entityId",o),t.opmset(this.parents,e,s,"instanceName",r),s},t.prototype.setParentInfo=function(e,n,i,o){t.opmset(this.parents,e,n,"entityId",i),t.opmset(this.parents,e,n,"instanceName",o)},t.prototype.removeEntityInstance=function(t,e){if(this.clientState[t]&&this.clientState[t][e]){delete this.clientState[t][e];var n=this.parents[t][e];delete this.parents[t][e];var i=this.clientState[n.entityId][n.instanceName]["children$"+t],o=p.arrayFindIndex(i,function(t){return t===e});i.splice(o,1)}},t.prototype.format=function(t,e){var n=this.session,i=this.attributes[e];if(void 0===i)return t;if(t&&t.baseValue){for(var o=this.format(t.baseValue,e),r=this.session.config.formatterProperties.temporalFromText,a=0;a<t.changePoints.length;++a){var l=t.changePoints[a];o+=", "+this.format(l.value,e)+" "+r+" "+s.default.formatDate(l.date,n.outputDateFormat)}return"{"+o+"}"}if(void 0!==i.enumerationName){var u=n.getEnumeration(i.enumerationName),c=u.getEnumValue(t);return c?this.substituteText(this.config.screen.entityInstanceId.entityId,this.config.screen.entityInstanceId.instanceName,c.getRawDescription()):this.config.formatterProperties.unknownText}return"boolean"==i.dataType?void 0===t?n.getMessage("boolean-unknown"):t===!0?n.getMessage("boolean-true"):t===!1?n.getMessage("boolean-false"):n.getMessage("boolean-uncertain"):null===t?this.config.formatterProperties.uncertainText:void 0===t?this.config.formatterProperties.unknownText:"text"===i.dataType?t:"number"===i.dataType?i.unformatted?s.default.formatNumber(t,n.outputUnformattedNumber,n.locale):s.default.formatNumber(t,n.outputNumber,n.locale):"currency"===i.dataType?s.default.formatNumber(t,n.outputCurrency,n.locale):"date"===i.dataType?s.default.formatDate(t,n.outputDateFormat):"time of day"===i.dataType?s.default.formatTime(t,n.outputTimeFormat):"datetime"===i.dataType?s.default.formatDateTime(t,n.outputDateTimeFormat):t},t.prototype.getHeaderAuthorText=function(){return this.config.screen.headerAuthorText?this.config.screen.headerAuthorText:[]},t.prototype.getAuthorText=function(){return this.config.screen.authorText?this.config.screen.authorText:[]},t.prototype.getPageErrors=function(){return this._pageErrors},t.prototype.getTitle=function(){return this.session.showScreenTitle()?this.substituteText(this.config.screen.entityInstanceId.entityId,this.config.screen.entityInstanceId.instanceName,this.config.screen.rawTitle):""},t.prototype.getControls=function(){return this.controls},t.prototype.hasNext=function(){return"Stop"!==this.config.screen.screenAction},t.prototype.hasBack=function(){return null!=this.config.screen.backButtonUri&&this.config.interviewProperties["include-back-button"]!==!1},t.prototype.getBackURI=function(){return this.config.screen.backButtonUri},t.prototype.getNextCaption=function(){return this.substituteText(this.entity,this.instance,this.config.screen.rawSubmitCaption)},t.prototype.getBackCaption=function(){return this.substituteText(this.entity,this.instance,this.config.screen.rawBackCaption)},t.prototype.hideStages=function(){return this.config.screen.hideProgressStages},t.prototype.hasRestart=function(){return void 0!=this.config.screen.rawRestartCaption},t.prototype.getRestartCaption=function(){var t=this.config.screen.rawRestartCaption;return void 0!=t?this.substituteText(this.entity,this.instance,t):null},t.prototype.hasExit=function(){return void 0!=this.config.screen.rawExitCaption},t.prototype.getExitCaption=function(){var t=this.config.screen.rawExitCaption;return void 0!=t?this.substituteText(this.entity,this.instance,t):null},t.prototype.getSessionExpireHeader=function(){var t=this.config.messageProperties["expired-session-header-text"];return void 0!=t?t.toUpperCase():null},t.prototype.getSessionExpireMessage=function(){var t=this.config.messageProperties["expired-session-message-text"];return void 0!=t?t:null},t.prototype.getSessionExpireButtonCaption=function(){var t=this.config.messageProperties["expired-session-button-text"];return void 0!=t?t.toUpperCase():null},t.prototype.getTimeoutWarningHeader=function(){var t=this.config.messageProperties["timeout-warning-header-text"];return void 0!=t?t.toUpperCase():null},t.prototype.getTimeoutWarningMessage=function(){var t=this.config.messageProperties["timeout-warning-message-text"];return void 0!=t?t:null},t.prototype.getTimeoutWarningButtonCaption=function(){var t=this.config.messageProperties["timeout-warning-button-text"];return void 0!=t?t.toUpperCase():null},t.prototype.getExitURL=function(){var t=this.config.screen.rawExitURL;return void 0!=t?this.substituteText(this.entity,this.instance,t):null},t.prototype.isSingleStage=function(){return 1==this.config.screen.progressStages.length},t.prototype.isLastVisited=function(){for(var t=this.config.screen.progressStages,e=!1,n=0;n<t.length;n++)for(var i=t[n],r=0;null!=i.items&&r<i.items.length;r++){var s=i.items[r];if(s.isCurrent)e=!0;else if(o(s)&&s.visited&&e)return!1}return!0},t.prototype.isSubmitScreen=function(){return"Submit"===this.config.screen.screenAction},t.prototype.getScreenStateAltText=function(t){var e=this.session;return"activeComplete"==t||"complete"==t?e.getMessage("complete-screen-image-alt"):"activeIncomplete"==t||"incomplete"==t?e.getMessage("incomplete-screen-image-alt"):""},t.prototype.getIconForScreenState=function(t){var e,n=this.session,i=n.getStyle();if("activeComplete"!=t&&"activeIncomplete"!=t||!n.showActiveScreenImage())if("complete"!=t&&"activeComplete"!=t||!n.showCompleteScreenImage()){if(("incomplete"==t||"activeIncomplete"==t)&&n.showIncompleteScreenImage()){var o=n.getIncompleteScreenImage();e=o?a.default.createElement("img",{src:o,alt:this.getScreenStateAltText(t)}):a.default.createElement(h.CircleIcon,{color:i.incompleteScreenColor})}}else{var o=n.getCompleteScreenImage();e=o?a.default.createElement("img",{src:o,alt:this.getScreenStateAltText(t)}):a.default.createElement(h.TickIcon,{color:i.completeScreenColor})}else{var o=n.getActiveScreenImage();e=o?a.default.createElement("img",{src:o,alt:this.getScreenStateAltText(t)}):a.default.createElement(h.PenIcon,{color:i.activeScreenColor})}return e},t.prototype.getStageStateAltText=function(t){var e=this.session;return"activeComplete"==t||"complete"==t?e.getMessage("complete-stage-image-alt"):"activeIncomplete"==t||"incomplete"==t?e.getMessage("incomplete-stage-image-alt"):"future"==t?e.getMessage("future-stage-image-alt"):""},t.prototype.getIconForStageState=function(t){var e,n=this.session,i=n.getStyle();if("activeComplete"!=t&&"activeIncomplete"!=t||!n.showActiveStageImage()){if("complete"==t||"activeComplete"==t){var o=n.getCompleteStageImage();3==n.getStagesTheme()?e=n.showCompleteStageImage()?i.useActiveStageColor&&"activeComplete"==t?a.default.createElement(h.ReverseTickIcon,{style:{display:"block",height:20,width:20},color:i.activeStageColor}):a.default.createElement(h.ReverseTickIcon,{style:{display:"block",height:20,width:20},color:i.completeStageColor}):i.useActiveStageColor&&"activeComplete"==t?a.default.createElement(h.CircleIcon,{style:{display:"block",height:20,width:20},color:i.activeStageColor}):a.default.createElement(h.CircleIcon,{style:{display:"block",height:20,width:20},color:i.completeStageColor}):n.showCompleteStageImage()&&(e=o?a.default.createElement("img",{src:o,alt:this.getStageStateAltText(t)}):a.default.createElement(h.TickIcon,{color:i.completeStageColor}))}else if("incomplete"==t||"activeIncomplete"==t){var o=n.getIncompleteStageImage();3==n.getStagesTheme()?e=i.useActiveStageColor&&"activeIncomplete"==t?a.default.createElement(h.CircleIcon,{style:{display:"block",height:20,width:20},color:i.activeStageColor}):a.default.createElement(h.CircleIcon,{style:{display:"block",height:20,width:20},color:i.incompleteStageColor}):n.showIncompleteStageImage()&&(e=o?a.default.createElement("img",{src:o,alt:this.getStageStateAltText(t)}):a.default.createElement(h.CircleIcon,{color:i.incompleteStageColor}))}else if("future"==t&&n.showFutureStageImage()){var o=n.getFutureStageImage();e=3==n.getStagesTheme()?a.default.createElement(h.LockIcon,{color:i.futureStageColor}):o?a.default.createElement("img",{src:o,alt:this.getStageStateAltText(t)}):a.default.createElement(h.LockIcon,{color:i.futureStageColor})}}else{var o=n.getActiveStageImage();if(3==n.getStagesTheme()){var r=i.activeStageColor;i.useActiveStageColor||(r="activeComplete"==t?i.completeStageColor:i.incompleteStageColor),e=l.default.getActiveIcon(n.showActiveStageImage(),r)}else e=o?a.default.createElement("img",{src:o,alt:this.getStageStateAltText(t)}):a.default.createElement(h.PenIcon,{color:i.activeStageColor})}return e},t.prototype.getNavigation=function(){for(var t=this.session,e=(t.getStyle(),t.allowRandomAccess()),n=t.hideEmptyProgressStage(),i=[],r=[],s=!1,a=this.config.screen.progressStages,l=null,u=0;u<a.length;u++)for(var c=a[u],p=0;null!=c.items&&p<c.items.length;p++){var h=c.items[p];(h.visited||h.isCurrent)&&(l=h)}for(var f=!0,u=0;u<a.length;u++){for(var c=a[u],g=null,m=!1,y=[],v=!0,b=!0,w=c.items.length>1,p=0;null!=c.items&&p<c.items.length;p++){var h=c.items[p];if(o(h)){var x=h.isComplete&&h.visited,S=h.investigateUri;if((e||f||h.visited||h.isCurrent)&&(!e||h.beforeRandomAccessGate)||(S=null),b=!1,null==g&&(g=S),null!=S){var C=void 0;C=h.isCurrent?x?"activeComplete":"activeIncomplete":x?"complete":"incomplete";var E=1==a.length?this.getIconForStageState(C):this.getIconForScreenState(C),I=this.substituteText(h.entityInstanceId.entityId,h.entityInstanceId.instanceName,h.rawText),T=d.htmlDecode(I);"activeComplete"==C||"complete"==C?T+=" - "+t.getMessage("complete-screen-image-alt"):"activeIncomplete"!=C&&"incomplete"!=C||(T+=" - "+t.getMessage("incomplete-screen-image-alt")),y.push({caption:I,title:T,investigateUri:S,isCurrent:h.isCurrent,isComplete:x,state:C,icon:E})}v=v&&x}h.isCurrent&&(m=!0),h==l&&(f=!1)}var O=void 0;b&&!f&&(v=!1),O=m?v?"activeComplete":"activeIncomplete":v?"complete":null!=g||b&&!f&&e?"incomplete":"future";var k=this.getIconForStageState(O),D=this.substituteText(c.entityInstanceId.entityId,c.entityInstanceId.instanceName,c.rawText),M=d.htmlDecode(D);"activeComplete"==O||"complete"==O?M+=" - "+t.getMessage("complete-stage-image-alt"):"activeIncomplete"==O||"incomplete"==O?M+=" - "+t.getMessage("incomplete-stage-image-alt"):"future"==O&&(M+=" - "+t.getMessage("future-stage-image-alt")),!m&&b&&n||i.push({caption:D,title:M,investigateUri:g,isCurrent:m,isComplete:v,state:O,icon:k}),m&&(r=y,s=w)}return{stages:i,screens:r,multipleScreens:s}},t.prototype.clearErrors=function(t){this.errors={},t||(this.controlErrors={}),this._pageErrors=[]},t.prototype._interpretErrors=function(e,n){var i=this;this.clearErrors(n);var o=[];e.errors&&e.errors.forEach(function(t){(n!==!0||i.dynamicEventDisplay()||"RuleEventError"!==t.class)&&o.push(t)}),e.warnings&&e.warnings.forEach(function(t){(n!==!0||i.dynamicEventDisplay()||"RuleEventWarning"!==t.class)&&(t.warning=!0,o.push(t))}),o.forEach(function(e){void 0!==e.entityId?t.opmset(i.errors,e.entityId,e.entityInstanceId,e.attributeId,e):void 0!==e.controlId?i.controlErrors[e.controlId]=e:i._pageErrors.push(e)})},t.prototype.processErrors=function(t,e){this._interpretErrors(t,e),this.session.callback("update")},t.prototype.internalEvaluateState=function(){var e=this.session,n={};if(this.collectLocation()){var i=c.default.getCurrentPosition();e.isDebugging()&&e.debugLatitude&&(i[0]=e.debugLatitude,i[1]=e.debugLongitude),null!=i[0]&&null!=this.config.screen.collectLocationLatitudeAttributeId&&t.opmset(n,"global","global",this.config.screen.collectLocationLatitudeAttributeId,i[0]),null!=i[1]&&null!=this.config.screen.collectLocationLongitudeAttributeId&&t.opmset(n,"global","global",this.config.screen.collectLocationLongitudeAttributeId,i[1])}for(var o=function(t){var e=p.objectAssign({},n);r.controls.forEach(function(t){return t.updateState(e)}),r.clientState=e},r=this,s=0;s<10;s++)o(s)},t.prototype.updateScreen=function(){this.session.callback("update")},t.prototype.updateState=function(){this.internalEvaluateState(),this.session.whatIf(),this.updateScreen()},t.prototype.allocateEntityInstanceId=function(t,e){return null==this.entityInstanceIndexes[t]&&(this.entityInstanceIndexes[t]=e),t+this.entityInstanceIndexes[t]++},t.prototype.getValue=function(e,n,i){var o=t.opmget(this.clientState,e,n,i);return void 0!==o?o:(o=t.opmget(this.serverState,e,n,i),null==o?void 0:"object"==typeof o&&"<uncertain>"===o.dataType?null:o)},t.prototype.isRelevant=function(e,n,i){return t.opmget(this.relevance,e,n,i)===!0},t.prototype.lookupAttributeValue=function(e,n,i){var o=this.getValue(e,n,i);if(void 0===o){var r=t.opmget(this.parents,e,n,"entityId"),s=t.opmget(this.parents,e,n,"instanceName");if(void 0!==r)return this.lookupAttributeValue(r,s,i)}return o},t.prototype.getParentId=function(e,n){if("global"!==e){var i=t.opmget(this.parents,e,n,"entityId"),o=t.opmget(this.parents,e,n,"instanceName");if(void 0!==i&&void 0!==o)return{entityId:i,instanceName:o}}},t.prototype.getAnswer=function(e,n,i){var o=t.opmget(this.answers,e,n,i);return void 0!==o?o:(o=t.opmget(this.originalState,e,n,i),null==o?void 0:"object"==typeof o&&"<uncertain>"===o.dataType?null:o)},t.prototype.setAnswer=function(e,n,i,o){var r=t.opmget(this.answers,e,n,i);return o!==r&&(t.opmset(this.answers,e,n,i,o),this.session.setDirty(!0),!0)},t.prototype.clearInputWorkingState=function(t,e,n,i){this.session.callback("clearInputWorkingState",{entity:t,instance:e,key:n})},t.prototype.getChildEntityInstances=function(e,n,i){var o=[];if(this.session.isAuthoring())return["#author"];var r=t.opmget(this.clientState,n,i,"children$"+e);return null!=r?r:(this.config.data.forEach(function(t){t.instances.forEach(function(r){t.entityId===e&&r.parentId.instanceName===i&&r.parentId.entityId===n&&o.push(r.instanceName)})}),o)},t.prototype.getAllInstances=function(t){var e=[];if(this.parents[t]){var n=this.parents[t];for(var i in n)n.hasOwnProperty(i)&&e.push(i)}return e},t.prototype.findAncestor=function(t,e,n){for(var i={entityId:t,instanceName:e};i.entityId!==n;)i=this.getParentInstance(i.entityId,i.instanceName);return i},t.prototype.getParentInstance=function(t,e){if("global"===t)return null;var n=this.parents[t][e];return n?p.objectAssign({},n):void 0},t.opmset=function(t,e,n,o,r){i(t,e,n)[o]=r},t.opmget=function(t,e,n,i){if(t[e]&&t[e][n])return t[e][n][i]},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=f},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(10),a=n(16),l=n(19),u=n(20),c=n(11),p=n(13),h={display:"flex",flexDirection:"column",width:20,flexGrow:1,flexShrink:1,alignItems:"center"},d={height:24,width:24,borderRadius:12,backgroundColor:"white",position:"relative"},f={border:"solid 1px #ddd",borderRadius:12,backgroundColor:"white",width:26,height:26,position:"absolute",zIndex:3,boxSizing:"border-box"},g=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.navigate=function(t,e){var n=this.context.interview.getSession();return n.navigate(t),e.stopPropagation(),e.preventDefault(),!1},e.prototype.getAuthorPart=function(){return"Stages"},e.prototype.render=function(){var t=this.context.interview.getSession(),e=t.getStyle(),n=t.getScreen(),i=n.getNavigation(),c=[],p=i.stages;1==p.length&&(p=i.screens);var g=p.length,m=100/g,y=!1,v={backgroundColor:e.stagesFillColor,display:"flex",alignItems:"center"};e.stagesTopColor&&(v.borderTop="solid 1px "+e.stagesTopColor),e.stagesBottomColor&&(v.borderBottom="solid 1px "+e.stagesBottomColor);for(var b={flexShrink:1,flexGrow:1,display:"flex",justifyContent:y?"space-between":"center",alignItems:"center",paddingTop:"0.5em",paddingBottom:"0.5em"},w={position:"relative",maxWidth:150*g,width:"100%"},x={position:"absolute",left:m/2+"%",top:8,width:100-m+"%",height:8,backgroundColor:"white",borderTop:"solid 1px #ddd",borderBottom:"solid 1px #ddd",zIndex:1},S={position:"absolute",left:m/2+"%",top:9,width:100-m+"%",height:8,backgroundColor:"white",zIndex:6},C={display:"flex",flexWrap:"nowrap",justifyContent:"center",flexDirection:"row"},E={overflow:"hidden",lineHeight:"1.3",textOverflow:"ellipsis",paddingTop:"0.3em",textAlign:"center",width:"100%"},I=this.context.interview.state.interviewWidth,T=80*p.length<I,O=0;O<p.length;O++){var k=p[O],D=void 0;D="activeComplete"!=k.state&&"activeIncomplete"!=k.state||null==e.activeStage?"complete"==k.state||"activeComplete"==k.state?e.completeStage:"incomplete"==k.state||"activeIncomplete"==k.state?e.incompleteStage:e.futureStage:e.activeStage,delete D.backgroundColor,c.push(o.default.createElement("div",{style:h},o.default.createElement("div",{style:d},o.default.createElement("div",{style:f}),o.default.createElement(l.default,{onClick:null!=k.investigateUri?this.navigate.bind(this,k.investigateUri):null,stage:k})),T?o.default.createElement(u.default,{session:t,wrap:!0,interviewStyle:e,style:r.objectAssign({},E,D),stage:k}):null))}var M=r.objectAssign({},b,this.props.style,this.defaultAuthorStyle());return n.hideStages()?t.isAuthoring()&&t.config.screen.authoringIncludeStages?o.default.createElement("div",{style:M,className:"opa-missing-stage"},t.config.screen.authoringNoStagesText):o.default.createElement("span",{style:{display:"none"}}):o.default.createElement("nav",{role:"navigation",style:v,className:"opa-train-navigation"},o.default.createElement("div",{style:M},y?o.default.createElement(s.default,{style:{flexShrink:0},keepLayoutSpace:!0}):null,o.default.createElement("div",{style:w},o.default.createElement("div",{style:x}),o.default.createElement("div",{style:C},c),o.default.createElement("div",{style:S})),y?o.default.createElement(a.default,{style:{flexShrink:0},keepLayoutSpace:!0}):null))},e.getDefaultActiveIcon=function(t){return o.default.createElement(p.ReversePenIcon,{style:{display:"block",height:20,width:20},color:t})},e.getActiveIcon=function(t,n){return t?e.getDefaultActiveIcon(n):o.default.createElement(p.CircleIcon,{style:{display:"block",height:20,width:20},color:n})},e.getDefaultCompleteIcon=function(t){return o.default.createElement(p.ReverseTickIcon,{style:{display:"block",height:20,width:20},color:t})},e.getCompleteIcon=function(t,n){return t?e.getDefaultCompleteIcon(n):o.default.createElement(p.CircleIcon,{style:{display:"block",height:20,width:20},color:n})},e.getDefaultIncompleteIcon=function(t){return o.default.createElement(p.CircleIcon,{style:{display:"block",height:20,width:20},color:t})},e.getIncompleteIcon=function(t,e){return o.default.createElement(p.CircleIcon,{style:{display:"block",height:20,width:20},color:e})},e.getDefaultFutureIcon=function(t){return o.default.createElement(p.LockIcon,{color:t})},e.getFutureIcon=function(t,n){return t?e.getDefaultFutureIcon(n):o.default.createElement(p.CircleIcon,{style:{display:"block",height:20,width:20},color:n})},e.getAuthorStages=function(t,e,n){for(var i=[],s={overflow:"hidden",textOverflow:"ellipsis",paddingTop:"0.3em",textAlign:"center",cursor:"pointer"},a=function(a){var c=t[a],p=function(t){return n(t,a)},g=u.default.getStageTextStyle(e,c.state);delete g.backgroundColor,i.push(o.default.createElement("div",{style:h},o.default.createElement("div",{style:d},o.default.createElement("div",{style:f}),o.default.createElement(l.default,{onClick:p,stage:c})),o.default.createElement(u.default,{wrap:!0,onClick:p,interviewStyle:e,style:r.objectAssign({},s,g),stage:c})))},c=0;c<t.length;c++)a(c);var p=t.length,g=100/p,m={width:500,padding:"0.5em 0",backgroundColor:e.stagesFillColor};e.stagesTopColor&&(m.borderTop="solid 1px "+e.stagesTopColor),e.stagesBottomColor&&(m.borderBottom="solid 1px "+e.stagesBottomColor);var y={position:"absolute",left:g/2+"%",top:8,width:100-g+"%",height:8,backgroundColor:"white",borderTop:"solid 1px #ddd",borderBottom:"solid 1px #ddd",zIndex:1},v={position:"absolute",left:g/2+"%",top:9,width:100-g+"%",height:8,backgroundColor:"white",zIndex:6},b={display:"flex",justifyContent:"center",flexDirection:"row"};return o.default.createElement("div",{style:m},o.default.createElement("div",{style:{position:"relative"}},o.default.createElement("div",{style:y}),o.default.createElement("div",{style:b},i),o.default.createElement("div",{style:v})))},e}(c.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=g},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(11),a=n(14),l=n(15),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onClick=function(t){var e=this.context.interview.getScreen();t.preventDefault(),t.stopPropagation(),this.context.interview.navigate(e.getBackURI())},e.prototype.render=function(){var t=this.context.interview.getSession(),e=this.context.interview.getScreen(),n=t.getStyle(),i=this.props.compact?"&lt;":e.getBackCaption();if(this.props.keepLayoutSpace&&!t.isAuthoring()||e.hasBack()){var s=r.objectAssign({},l.default.buttonStyle,n.back,this.props.spacingStyle,this.defaultAuthorStyle(),{visibility:e.hasBack()?"visible":"hidden"});return o.default.createElement(a.default,{restyleKey:"backButton",style:s,spacingStyle:this.props.spacingStyle,className:"opa-submit",type:"button",onClick:this.onClick.bind(this),innerHTML:i})}if(t.isAuthoring()&&t.config.screen.authoringIncludeBack){var s=r.objectAssign({},l.default.buttonStyle,this.props.style,this.defaultAuthorStyle(),{visibility:e.hasBack()||t.isAuthoring()?"visible":"hidden"});return o.default.createElement("div",{style:s,className:"opa-missing-button"},"No Back Button")}return null},e.prototype.getAuthorPart=function(){return"BackButton"},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(12),a=n(13),l=n(15),u=function(t){function e(e){t.call(this,e),this.control=this.props.control}return i(e,t),e.prototype.componentPropsUpdated=function(t,e){this.control=e.control},e.prototype.autoFocus=function(){return!1},e.prototype.uniqueID=function(){return void 0===this._uniqueID&&(this._uniqueID=s.NextUniqueID()),this._uniqueID},e.prototype.getLabelId=function(){return"opmlbl"+this.uniqueID()},e.prototype.componentDidMount=function(){this.context.interview.controlMounted(this)},e.prototype.componentWillUnmount=function(){this.context.interview.controlUnmounted(this)},e.prototype.componentDidUpdate=function(){},e.prototype.inputWidth=function(){var t=this.props.control;return t.getWidth()+30},e.prototype.defaultHorizontalPadding=function(){return{paddingLeft:"10px",paddingRight:"10px"}},e.prototype.defaultVerticalPadding=function(){return this.props.inTable?{paddingTop:"4px",paddingBottom:"4px"}:{paddingTop:"0.5em",paddingBottom:"0.5em"}},e.prototype.defaultItemStyle=function(t){var n=r.objectAssign({flexBasis:e.controlWidth(this)},t);return this.state&&this.state.authorSelected&&(n=this.defaultAuthorStyle(n,"None")),n},e.prototype.defaultAuthorStyle=function(t,n){return t||(t={}),n||(n=this.getAuthorPart()),this.state&&this.state.authorSelected&&this.state.authorSelectedPart==n?"None"===n&&this.props.inTable?r.objectAssign({},t,{boxShadow:"inset 0 0 0 4px #ccf"}):r.objectAssign({},t,e.selectedStyle):t},e.prototype.getRestyle=function(t){return this.context.interview.getRestyle(t,this.control)},e.prototype.getControlStyle=function(){var t,e=this.getRestyle("control"),n=r.objectAssign({},this.defaultHorizontalPadding());return null!=e&&null!=e.className?(r.objectAssign(n,r.whiteListStyles(e.style)),t=e.className):(r.objectAssign(n,this.context.interview.getSession().getStyle().control),null!=e&&r.objectAssign(n,r.whiteListStyles(e.style)),t="opa-control"),{style:n,className:t}},e.prototype.getAuthorPart=function(){return"None"},e.prototype.getAuthorText=function(){var t=this.control,e=this.context.interview.getSession(),n=null;return e.isAuthoring()&&null!=t.getAuthorText()&&(n=o.default.createElement("div",{className:"opa-control-properties",innerHTML:t.getAuthorText()})),n},e.prototype.getAriaTags=function(){var t=this.control,e={"aria-labelledby":this.getLabelId(),"aria-required":t.isMandatory(),"aria-disabled":t.isReadOnly()};return e},e.prototype.getHorizontalAlignment=function(){return"baseline"},e.prototype.getMandatoryDecoration=function(){var t=this.control,e=this.context.interview.getSession(),n=this.context.interview.getSession().getStyle(),i=null;if(t.isMandatory()&&e.showMandatoryIcon()){var r=e.getMandatoryIcon();i=null===r?o.default.createElement(a.MandatoryIcon,{style:{marginLeft:"0.2em",marginRight:"0.2em"},color:e.isAugust2016Editor()?"#E50000":n.themeColor}):window.OraclePolicyAutomation.Mobile?o.default.createElement("img",{className:"opa-mandatory-icon",src:mobileMandatoryIconUrl,alt:e.getMessage("mandatory-icon-alt-text")}):o.default.createElement("img",{className:"opa-mandatory-icon",src:r,alt:e.getMessage("mandatory-icon-alt-text")})}return i},e.prototype.handleCustomControlMount=function(t){var e=this.control;e.customHandler.mount&&e.customHandler.mount(this.refs.el)},e.prototype.handleCustomControlUnmount=function(t){var e=this.control;e.customHandler.unmount&&e.customHandler.unmount(this.refs.el)},e.prototype.handleCustomControlUpdate=function(t){var e=this.control;e.customHandler.update&&e.customHandler.update(this.refs.el)},e.prototype.handleCustomControlValidate=function(t,e){
var n=this.control;if(2==e&&n.customHandler.validate){var i=n.customHandler.validate(this.refs.el);return"string"==typeof i?(n.setError(i),0==i.length):(i!==!1&&n.setError(null),i!==!1)}return!0},e.controlWidth=function(t){var e=t.props.control;return t.props.inHorizontalContainer?e.getWidth()+50:void 0},e.getErrorIcon=function(t,e){var n=t.props.control.getSession();return n.getErrorIcon()?o.default.createElement("img",{title:e,alt:e,src:n.getErrorIcon()}):o.default.createElement(a.InvalidIcon,{title:e,style:{display:"inline-block",verticalAlign:"-0.21em",marginLeft:"0.2em",width:"1.5em",height:"1.5em"}})},e.prototype.getQuestionTextSpan=function(t){var e=this.control;return e.questionCaptionHandler?o.default.createElement(c,{className:t,control:e}):o.default.createElement("span",{className:t,innerHTML:e.getCaption()})},e.prototype.buildErrorPanel=function(t,e,n){var i,s,a=this.context.interview.getSession().getStyle(),u=this.getRestyle("controlError"),c=this.getRestyle("controlErrorText");if(null!=c&&(i=c.className,s=r.whiteListStyles(c.style)),null!=u&&null!=u.className)return o.default.createElement("div",{style:e>=2?this.defaultHorizontalPadding():l.default.screenreader},o.default.createElement("div",{className:u.className,role:"alert",style:u.style},o.default.createElement("span",{className:i,style:s,id:n,innerHTML:t})));var p=a.error;return null!=u&&(p=r.objectAssign({},p,u.style)),o.default.createElement("div",{className:"opa-error",role:"alert",style:e>=2?null:l.default.screenreader},o.default.createElement("div",{style:p,className:"opa-error-text"},o.default.createElement("span",{className:i,style:s,id:n,innerHTML:t})))},e.selectedStyle={outline:"solid 4px #ccf"},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var c=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){var t=this.props.control;t.questionCaptionHandler&&t.questionCaptionHandler.mount&&t.questionCaptionHandler.mount(this.refs.el)},e.prototype.componentWillUnmount=function(){var e=this.props.control;e.questionCaptionHandler&&e.questionCaptionHandler.unmount&&e.questionCaptionHandler.unmount(this.refs.el),t.prototype.componentWillUnmount.call(this)},e.prototype.componentDidUpdate=function(){var t=this.props.control;t.questionCaptionHandler&&t.questionCaptionHandler.update&&t.questionCaptionHandler.update(this.refs.el)},e.prototype.render=function(){return o.default.createElement("span",{className:this.props.className,ref:"el"})},e}(o.default.Component)},function(t,e){"use strict";function n(t,e){var n=t.clientX,i=t.clientY,o=e;do n-=o.offsetLeft,i-=o.offsetTop,o=o.offsetParent;while(null!=o);return[n+window.pageXOffset,i+window.pageYOffset]}function i(t){if(null==t)return[0,0,0,0];var e=0,n=0,i=t;do e+=i.offsetLeft,n+=i.offsetTop,i=i.offsetParent,null!=i&&i!=document.body&&(e-=i.scrollLeft,n-=i.scrollTop);while(null!=i&&i!=document.body);return[e,n,e+t.offsetWidth,n+t.offsetHeight]}function o(t,e){var n=i(t),o=i(e);o[0]>=n[0]&&o[1]>=n[1]&&o[2]<=n[2]&&o[3]<=n[3]||(o[1]<n[1]?t.scrollTop+=o[1]-n[1]:o[3]>n[3]&&(t.scrollTop+=o[3]-n[3]))}function r(t){for(var e=i(t),n=null,o=t.parentNode;o&&"body"!=o.localName;o=o.parentNode)if("auto"==o.style.overflow||"scroll"==o.style.overflow||"auto"==o.style.overflowY||"scroll"==o.style.overflowY){n=o;break}if(null!=n){if(n.offsetHeight<e[3])return!1}else if(window.innerHeight<e[3])return!1;return!0}function s(t,e){for(var n=i(t),o=null,r=t.parentNode;r&&"body"!=r.localName;r=r.parentNode)if("auto"==r.style.overflow||"scroll"==r.style.overflow||"auto"==r.style.overflowY||"scroll"==r.style.overflowY){o=r;break}var s=0;null!=o?o.offsetHeight<n[3]&&(s=o.offsetHeight-n[3]):window.innerHeight+window.pageYOffset<n[3]&&(s=window.innerHeight+window.pageYOffset-n[3]),0!=s&&window.OraclePolicyAutomation&&(window.OraclePolicyAutomation.Mobile&&"iOS"==window.OraclePolicyAutomation.mobileOs||(t.style.marginTop=s-4+"px"))}function a(t){function e(e){t(e)}function n(){t(null),i()}function i(){window.removeEventListener("mousemove",e,!0),window.removeEventListener("mouseup",n,!0)}window.addEventListener("mousemove",e,!0),window.addEventListener("mouseup",n,!0)}function l(){return f++}function u(t){var e=(""+t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return e}function c(t){if(0==t.length)return"";if("#"==t[0]){var e=parseInt(t.substr(1));if(!isNaN(e))return String.fromCharCode(e)}else if(g.hasOwnProperty(t))return g[t];return""}function p(t){for(var e=[],n=0;n<t.length;){var i=t.indexOf("&",n);if(!(i>0)){e.push(t.substring(n));break}e.push(t.substring(n,i)),n=i,i=t.indexOf(";",n),i>0?(e.push(c(t.substring(n+1,i))),n=i+1):n=t.length}return e.join("")}function h(t){var e=t.clientHeight;t.style.overflow="hidden",t.style.height="0px",t.style.transition="height 0.1s",setTimeout(function(){t.style.height=e+"px"},0),setTimeout(function(){t.style.height="auto",t.style.overflow=""},100)}function d(t){var e=t.parentNode,n=t.clientHeight;t.style.overflow="hidden",t.style.height=n+"px",t.style.transition="height 0.1s",setTimeout(function(){t.style.height="0px"},10),setTimeout(function(){e.removeChild(t)},200)}e.getEventPoint=n,e.getElementBounds=i,e.scrollIntoView=o,e.isDropDownVisible=r,e.makeDropDownVisible=s,e.mouseTrack=a;var f=0;e.NextUniqueID=l,e.htmlEncode=u;var g={amp:"&",lt:"<",gt:">",apos:"'",quot:'"',nbsp:" "};e.htmlDecode=p,e.animateExpand=h,e.animateRemoval=d},function(t,e,n){"use strict";function i(t){return E.default.createElement(D,{onClick:t.onClick,style:{height:"1em",width:"1em",verticalAlign:"baseline",position:"relative",top:"0.15em"}},E.default.createElement("svg",{focusable:"false",width:"100%",height:"100%",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("path",{class:"path",fill:"none",stroke:"#000","stroke-linecap":"round","stroke-width":"3",d:"M6 8 L26 8 M6 16 L26 16 M6 24 L26 24"})))}function o(t){return E.default.createElement("span",{style:this.props.style,className:this.props.className},E.default.createElement("span",{style:{color:this.props.color}},"*"))}function r(t){return E.default.createElement("div",{title:this.props.title,style:this.props.style,className:this.props.className,onMouseDown:this.props.onMouseDown},E.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("path",{fill:this.props.color,d:"M832 352v1088q0 26-19 45t-45 19-45-19l-333-333h-262q-26 0-45-19t-19-45v-384q0-26 19-45t45-19h262l333-333q19-19 45-19t45 19 19 45zm384 544q0 76-42.5 141.5t-112.5 93.5q-10 5-25 5-26 0-45-18.5t-19-45.5q0-21 12-35.5t29-25 34-23 29-35.5 12-57-12-57-29-35.5-34-23-29-25-12-35.5q0-27 19-45.5t45-18.5q15 0 25 5 70 27 112.5 93t42.5 142zm256 0q0 153-85 282.5t-225 188.5q-13 5-25 5-27 0-46-19t-19-45q0-39 39-59 56-29 76-44 74-54 115.5-135.5t41.5-173.5-41.5-173.5-115.5-135.5q-20-15-76-44-39-20-39-59 0-26 19-45t45-19q13 0 26 5 140 59 225 188.5t85 282.5zm256 0q0 230-127 422.5t-338 283.5q-13 5-26 5-26 0-45-19t-19-45q0-36 39-59 7-4 22.5-10.5t22.5-10.5q46-25 82-51 123-91 192-227t69-289-69-289-192-227q-36-26-82-51-7-4-22.5-10.5t-22.5-10.5q-39-23-39-59 0-26 19-45t45-19q13 0 26 5 211 91 338 283.5t127 422.5z"})))}function s(t){return E.default.createElement("div",{title:this.props.title,style:this.props.style,className:this.props.className,onMouseDown:this.props.onMouseDown},E.default.createElement(k,{width:"100%",height:"100%",viewBox:"0 0 950 1000",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("g",{transform:"translate(0, 850) scale(1, -1)"},E.default.createElement("path",{fill:this.props.color,d:"m71-79h161v161h-161v-161z m197 0h178v161h-178v-161z m-197 197h161v178h-161v-178z m197 0h178v178h-178v-178z m-197 214h161v161h-161v-161z m411-411h179v161h-179v-161z m-214 411h178v161h-178v-161z m428-411h161v161h-161v-161z m-214 197h179v178h-179v-178z m-196 482v161q0 7-6 12t-12 6h-36q-7 0-12-6t-6-12v-161q0-7 6-13t12-5h36q7 0 12 5t6 13z m410-482h161v178h-161v-178z m-214 214h179v161h-179v-161z m214 0h161v161h-161v-161z m18 268v161q0 7-5 12t-13 6h-35q-8 0-13-6t-5-12v-161q0-7 5-13t13-5h35q8 0 13 5t5 13z m215 36v-715q0-29-22-50t-50-21h-786q-29 0-50 21t-21 50v715q0 29 21 50t50 21h72v54q0 36 26 63t63 26h36q37 0 63-26t26-63v-54h214v54q0 36 27 63t63 26h35q37 0 63-26t27-63v-54h71q29 0 50-21t22-50z"}))))}function a(t){return E.default.createElement("div",{style:t.style,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",{focusable:"false",width:"100%",height:"100%",viewBox:"0 0 750 950",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("g",{transform:"translate(0, 850) scale(1, -1)"},E.default.createElement("path",{fill:t.color,d:"m653 682l-296-296 296-297q11-10 11-25t-11-25l-92-93q-11-10-25-10t-25 10l-414 415q-11 10-11 25t11 25l414 414q10 10 25 10t25-10l92-93q11-10 11-25t-11-25z"}))))}function l(t){return E.default.createElement("div",{style:t.style,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",{focusable:"false",width:"100%",height:"100%",viewBox:"0 0 750 950",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("g",{transform:"translate(0, 850) scale(1, -1)"},E.default.createElement("path",{fill:t.color,d:"m618 361l-414-415q-11-10-25-10t-26 10l-92 93q-11 11-11 25t11 25l296 297-296 296q-11 11-11 25t11 25l92 93q11 10 26 10t25-10l414-414q10-11 10-25t-10-25z"}))))}function u(t){return E.default.createElement("div",{title:t.title,style:t.style,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",C({},O,{viewBox:"0 0 34 18"}),E.default.createElement("polygon",{fill:t.color,points:"0,1.6 16.3,18 17.7,18 34,1.9 34,0 24.3,0 17,7.6 9.6,0 0,0 "})))}function c(t){return E.default.createElement("div",{title:t.title,style:t.style,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",{focusable:"false",width:"100%",height:"100%",viewBox:"0 0 34 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("polygon",{fill:t.color,points:"0,16.4 16.3,0 17.7,0 34,16.1 34,18 24.3,18 17,10.4 9.6,18 0,18 "})))}function p(t){return E.default.createElement("div",{"aria-hidden":"true",title:t.title,style:t.style,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",C({},O,{viewBox:"0 0 38 34.2"}),E.default.createElement("path",{fill:"#C24839",d:"M15.8,2.5C12.9,7.4,1.9,26.8,0.9,28.6c-2.6,4.6,0.9,5.6,3.1,5.6h30c2.2,0,5.8-0.9,2.8-6.3 c-3.4-6-12.2-22-14.3-25.7C20.9-0.6,17.5-0.4,15.8,2.5z"}),E.default.createElement("path",{fill:"#FFFFFF",d:"M21,22.7l1-11.9c0-0.7-0.6-1.3-1.4-1.3l-3.2,0c-0.3,0-0.7,0.2-0.9,0.4c-0.3,0.3-0.4,0.6-0.4,0.9l1,11.9 c0,0.6,0.5,1,1,1l1.8,0c0.3,0,0.5-0.1,0.7-0.3C20.9,23.2,21,23,21,22.7z"}),E.default.createElement("circle",{fill:"#FFFFFF",cx:"19",cy:"27.5",r:"2.2"})))}function h(t){var e=I.objectAssign({display:"inline-block",width:"1.5em",height:"1.5em",marginRight:"0.3em",verticalAlign:"-0.21em"},t.style);return E.default.createElement("div",{title:t.title,style:e,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",{focusable:"false",width:"100%",height:"100%",viewBox:"0 0 100 100",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("path",{fill:t.color,d:"M86.515,86.432H13.485c-1.328,0-2.324-0.665-2.987-1.66c-0.665-0.995-0.665-2.324,0-3.319l36.515-66.39     c1.328-1.992,4.646-1.992,5.977,0l36.514,66.39c0.662,0.995,0.662,2.324,0,3.319C88.838,85.767,87.844,86.432,86.515,86.432z      M19.129,79.791h61.742L50,23.692L19.129,79.791z"}),E.default.createElement("path",{fill:t.color,d:"M50,63.195c-1.992,0-3.32-1.329-3.32-3.32V43.277c0-1.992,1.328-3.319,3.32-3.319c1.991,0,3.32,1.327,3.32,3.319v16.597     C53.319,61.866,51.99,63.195,50,63.195z"}),E.default.createElement("circle",{fill:t.color,cx:"50",cy:"69.833",r:"3.319"}),E.default.createElement("path",{fill:t.color,d:"M50,74.813c-2.655,0-4.979-2.324-4.979-4.979c0-2.654,2.325-4.979,4.979-4.979s4.979,2.324,4.979,4.979     C54.979,72.488,52.654,74.813,50,74.813z M50,68.174c-0.995,0-1.66,0.665-1.66,1.659c0,0.995,0.665,1.659,1.66,1.659     c0.997,0,1.661-0.664,1.661-1.659C51.66,68.839,50.996,68.174,50,68.174z"})))}function d(t){var e=I.objectAssign({display:"inline-block",width:"1.7em",height:"1.7em",verticalAlign:"-0.41em"},t.style);return E.default.createElement("div",{style:e,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",C({},O,{viewBox:"0 0 38 38"}),E.default.createElement("circle",{fill:t.color,cx:"19",cy:"19",r:"19"}),E.default.createElement("path",{fill:"#fff",d:"M27.4,24.3L22.1,19l5.3-5.4c0.5-0.5,0.5-1.2,0-1.7L26,10.6c-0.2-0.2-0.5-0.3-0.9-0.3c-0.3,0-0.6,0.1-0.8,0.3 L19,16l-5.4-5.3c-0.5-0.5-1.2-0.5-1.7,0L10.6,12c-0.2,0.2-0.3,0.5-0.3,0.9c0,0.3,0.1,0.6,0.3,0.8L16,19l-5.3,5.4 c-0.5,0.5-0.5,1.2,0,1.7l1.4,1.3c0.2,0.2,0.5,0.3,0.9,0.3c0.3,0,0.6-0.1,0.8-0.3l5.3-5.4l5.4,5.3c0.5,0.5,1.2,0.5,1.7,0l1.3-1.4 c0.2-0.2,0.3-0.5,0.3-0.9C27.8,24.8,27.7,24.5,27.4,24.3z"})))}function f(t){var e=I.objectAssign({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},t.style);return E.default.createElement("div",{style:e,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",C({},O,{viewBox:"-30 -30 160 160"}),E.default.createElement("circle",{fill:t.color,cx:"50",cy:"50",r:"80"}),E.default.createElement("polygon",{fill:"white",points:"71.0466843,7.0496826 8.4122295,69.6841354 8.3560791,93.0016479 31.6735897,92.9454956 94.3080444,30.3110428 "})))}function g(t){var e=I.objectAssign({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},t.style);return E.default.createElement("div",{style:e,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",C({},O,{viewBox:"0 0 100 100"}),E.default.createElement("polygon",{fill:t.color,points:"71.0466843,7.0496826 8.4122295,69.6841354 8.3560791,93.0016479 31.6735897,92.9454956 94.3080444,30.3110428 "})))}function m(t){var e=I.objectAssign({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},t.style);return E.default.createElement("div",{style:e,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",C({},O,{viewBox:"-30 -30 160 160"}),E.default.createElement("circle",{fill:t.color,cx:"50",cy:"50",r:"80"}),E.default.createElement("path",{fill:"white",d:"M85.024,23.344l-4.793-3.856c-2.361-1.899-3.735-1.878-5.758,0.62l-34.83,42.985l-16.21-13.47   c-2.236-1.877-3.636-1.776-5.475,0.523l-3.698,4.812c-1.878,2.361-1.638,3.705,0.582,5.559l23.101,19.107   c2.379,1.998,3.718,1.795,5.557-0.441L85.626,29.1C87.604,26.723,87.483,25.302,85.024,23.344z"})))}function y(t){var e=I.objectAssign({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},t.style);return E.default.createElement("div",{style:e,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",C({},O,{viewBox:"-30 -30 160 160"}),E.default.createElement("circle",{fill:t.color,cx:"50",cy:"50",r:"80"})))}function v(t){var e=I.objectAssign({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},t.style);return E.default.createElement("div",{style:e,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",C({},O,{viewBox:"0 0 100 100"}),E.default.createElement("path",{fill:t.color,d:"M85.024,23.344l-4.793-3.856c-2.361-1.899-3.735-1.878-5.758,0.62l-34.83,42.985l-16.21-13.47   c-2.236-1.877-3.636-1.776-5.475,0.523l-3.698,4.812c-1.878,2.361-1.638,3.705,0.582,5.559l23.101,19.107   c2.379,1.998,3.718,1.795,5.557-0.441L85.626,29.1C87.604,26.723,87.483,25.302,85.024,23.344z"})))}function b(t){var e=I.objectAssign({display:"inline-block",width:"1em",height:"1em",verticalAlign:"middle"},t.style);return E.default.createElement("div",{style:e,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",{focusable:"false",width:"100%",height:"100%",viewBox:"0 0 72 72",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("path",{fill:t.color,d:"M60.4,30.7h-3.9c-0.5,0-1-0.4-1-1v-9.2c0-10.6-8.2-19.6-18.8-20C25.6,0.1,16.4,9,16.4,20.1v9.7   c0,0.5-0.4,1-1,1h-3.9c-1.5,0-2.7,1.2-2.7,2.7v35.4c0,1.5,1.2,2.7,2.7,2.7h48.8c1.5,0,2.7-1.2,2.7-2.7V33.4   C63.1,31.9,61.9,30.7,60.4,30.7z M22.5,20.1c0-7.7,6.4-13.9,14.2-13.5c7.3,0.4,12.9,6.6,12.9,13.9v9.3c0,0.5-0.4,1-1,1H23.4   c-0.5,0-1-0.4-1-1V20.1z"})))}function w(t){var e=I.objectAssign({display:"inline-block",width:"2em",height:"2em",verticalAlign:"middle"},t.style);return E.default.createElement("div",{style:e,className:t.className,onMouseDown:t.onMouseDown},E.default.createElement("svg",{focusable:"false",width:"100%",height:"100%",viewBox:"0 0 88.1 88.1",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("path",{fill:t.color,d:"M44,12c-1.7,0-3,1.3-3,3v26H15c-1.7,0-3,1.3-3,3s1.3,3,3,3h29c1.7,0,3-1.3,3-3V15C47,13.4,45.7,12,44,12z"}),E.default.createElement("path",{fill:t.color,d:"M44,0C19.8,0,0,19.8,0,44c0,24.3,19.8,44,44,44s44-19.8,44-44C88.1,19.8,68.3,0,44,0z M44,82.1c-21,0-38-17.1-38-38 S23.1,6,44,6s38,17.1,38,38S65,82.1,44,82.1z"})))}function x(t){var e=t.size?t.size:"40px";return E.default.createElement("svg",{focusable:"false",width:e,height:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},E.default.createElement("rect",{x:"0",y:"0",width:"100",height:"100",fill:"none",class:"bk"}),E.default.createElement("rect",{x:"42.5",y:"38",width:"15",height:"24",rx:"8",ry:"8",fill:"#000000",transform:"rotate(0 50 50) translate(0 -30)",style:{animationDuration:"1s",animationName:"opa-spinner",animationIterationCount:"infinite"}}),E.default.createElement("rect",{opacity:"0",x:"42.5",y:"38",width:"15",height:"24",rx:"8",ry:"8",fill:"#000000",transform:"rotate(45 50 50) translate(0 -30)",style:{animationDelay:"0.125s",animationDuration:"1s",animationName:"opa-spinner",animationIterationCount:"infinite"}}),E.default.createElement("rect",{opacity:"0",x:"42.5",y:"38",width:"15",height:"24",rx:"8",ry:"8",fill:"#000000",transform:"rotate(90 50 50) translate(0 -30)",style:{animationDelay:"0.25s",animationDuration:"1s",animationName:"opa-spinner",animationIterationCount:"infinite"}}),E.default.createElement("rect",{opacity:"0",x:"42.5",y:"38",width:"15",height:"24",rx:"8",ry:"8",fill:"#000000",transform:"rotate(135 50 50) translate(0 -30)",style:{animationDelay:"0.375s",animationDuration:"1s",animationName:"opa-spinner",animationIterationCount:"infinite"}}),E.default.createElement("rect",{opacity:"0",x:"42.5",y:"38",width:"15",height:"24",rx:"8",ry:"8",fill:"#000000",transform:"rotate(180 50 50) translate(0 -30)",style:{animationDelay:"0.5s",animationDuration:"1s",animationName:"opa-spinner",animationIterationCount:"infinite"}}),E.default.createElement("rect",{opacity:"0",x:"42.5",y:"38",width:"15",height:"24",rx:"8",ry:"8",fill:"#000000",transform:"rotate(225 50 50) translate(0 -30)",style:{animationDelay:"0.625s",animationDuration:"1s",animationName:"opa-spinner",animationIterationCount:"infinite"}}),E.default.createElement("rect",{opacity:"0",x:"42.5",y:"38",width:"15",height:"24",rx:"8",ry:"8",fill:"#000000",transform:"rotate(270 50 50) translate(0 -30)",style:{animationDelay:"0.75s",animationDuration:"1s",animationName:"opa-spinner",animationIterationCount:"infinite"}}),E.default.createElement("rect",{opacity:"0",x:"42.5",y:"38",width:"15",height:"24",rx:"8",ry:"8",fill:"#000000",transform:"rotate(315 50 50) translate(0 -30)",style:{animationDelay:"0.875s",animationDuration:"1s",animationName:"opa-spinner",animationIterationCount:"infinite"}}))}var S=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},C=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},E=n(2),I=n(3),T=n(14),O={focusable:"false",style:{display:"block"},version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},k=function(t){function e(){t.apply(this,arguments)}return S(e,t),e.prototype.componentDidMount=function(){var t=E.default.getDOM(this);t.setAttribute("focusable","false")},e.prototype.render=function(){return E.default.createElement("svg",C({style:{display:"block"}},this.props),this.props.children)},e}(E.default.Component),D=function(t){function e(){t.apply(this,arguments)}return S(e,t),e.prototype.render=function(){var t=I.objectAssign({padding:0,backgroundColor:"transparent"},this.props.style);return E.default.createElement(T.default,C({},this.props,{style:t,restyleKey:this.props.restyleKey}),this.props.children)},e}(E.default.Component);e.IconButton=D,e.HamburgerButton=i,e.MandatoryIcon=o,e.SpeakerIcon=r,e.OPMCalendarIcon=s;var M=function(t){function e(){t.apply(this,arguments)}return S(e,t),e.prototype.render=function(){return E.default.createElement("div",{title:this.props.title,style:this.props.style,className:this.props.className,onMouseDown:this.props.onMouseDown},E.default.createElement(k,{width:"100%",height:"100%",viewBox:"0 0 950 1000",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("g",{id:"svg_1",transform:"translate(0,850) scale(1,-1) "},E.default.createElement("path",{id:"svg_2",d:"m71,-77.378384l161,0l0,161l-161,0l0,-161zm197,0l178,0l0,161l-178,0l0,-161zm-197,197l161,0l0,178l-161,0l0,-178zm197,0l178,0l0,178l-178,0l0,-178zm-197,214l161,0l0,161l-161,0l0,-161zm411,-411l179,0l0,161l-179,0l0,-161zm-214,411l178,0l0,161l-178,0l0,-161zm428,-411l161,0l0,161l-161,0l0,-161zm-214,197l179,0l0,178l-179,0l0,-178zm-196,482l0,161q0,7 -6,12t-12,6l-36,0q-7,0 -12,-6t-6,-12l0,-161q0,-7 6,-13t12,-5l36,0q7,0 12,5t6,13zm410,-482l161,0l0,178l-161,0l0,-178zm-214,214l179,0l0,161l-179,0l0,-161zm214,0l161,0l0,161l-161,0l0,-161zm18,268l0,161q0,7 -5,12t-13,6l-35,0q-8,0 -13,-6t-5,-12l0,-161q0,-7 5,-13t13,-5l35,0q8,0 13,5t5,13zm215,36l0,-715q0,-29 -22,-50t-50,-21l-786,0q-29,0 -50,21t-21,50l0,715q0,29 21,50t50,21l72,0l0,54q0,36 26,63t63,26l36,0q37,0 63,-26t26,-63l0,-54l214,0l0,54q0,36 27,63t63,26l35,0q37,0 63,-26t27,-63l0,-54l71,0q29,0 50,-21t22,-50z",fill:this.props.color})),E.default.createElement("ellipse",{stroke:this.props.color,ry:"234.99999",rx:"233.99999",id:"svg_3",cy:"749.91894",cx:"681.540539","stroke-width":"35.5",fill:"#ffffff"}),E.default.createElement("line",{stroke:this.props.color,y2:"701.999998",x2:"569.000001",y1:"754",x1:"684","stroke-width":"30",fill:"none"}),E.default.createElement("line",{stroke:this.props.color,transform:"rotate(-65.2708511352539 728.2501831054689,685.9705200195314) ","stroke-linecap":"null","stroke-linejoin":"null",id:"svg_6",y2:"698.256411",x2:"820.710415",y1:"673.684636",x1:"635.789984",fillOpacity:"null",strokeOpacity:"null","stroke-width":"30",fill:"none"}),E.default.createElement("line",{stroke:this.props.color,transform:"rotate(90 503.37329101562494,749.9189453125001) ","stroke-linecap":"null","stroke-linejoin":"null",id:"svg_11",y2:"772.997787",x2:"498.667416",y1:"726.84008",x1:"498.667416",fillOpacity:"null",strokeOpacity:"null","stroke-width":"30",fill:"none"}),E.default.createElement("line",{stroke:this.props.color,"stroke-linecap":"null","stroke-linejoin":"null",id:"svg_13",y2:"590.470582",x2:"681.540483",y1:"544.312874",x1:"681.540483",fillOpacity:"null",strokeOpacity:"null","stroke-width":"30",fill:"none"}),E.default.createElement("line",{stroke:this.props.color,"stroke-linecap":"null","stroke-linejoin":"null",id:"svg_14",y2:"955.176479",x2:"681.540539",y1:"909.018771",x1:"681.540539",fillOpacity:"null",strokeOpacity:"null","stroke-width":"30",fill:"none"}),E.default.createElement("line",{stroke:this.props.color,transform:"rotate(90 864.5497436523438,749.9189453125001) ","stroke-linecap":"null","stroke-linejoin":"null",id:"svg_17",y2:"772.997766",x2:"864.549765",y1:"726.840058",x1:"864.549765",fillOpacity:"null",strokeOpacity:"null","stroke-width":"30",fill:"none"})))},e}(E.default.Component);e.OPMDateTimeIcon=M,e.OPMLeftIcon=a,e.OPMRightIcon=l,e.OPMDownIcon=u,e.OPMUpIcon=c,e.InvalidIcon=p,e.OPMAttentionIcon=h,e.SolidXIcon=d,e.ReversePenIcon=f,e.PenIcon=g,e.ReverseTickIcon=m,e.CircleIcon=y,e.TickIcon=v,e.LockIcon=b,e.ClockIcon=w,e.Spinner=x},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onFocus=function(){this.setState({focus:!0}),this.hasFocusFromKeyboard=this.context.interview.recentKeyDown},e.prototype.onBlur=function(){this.setState({focus:!1}),this.hasFocusFromKeyboard=!1},e.prototype.onKeyUp=function(t){9==t.keyCode&&(this.hasFocusFromKeyboard=!0,this.update())},e.prototype.onClick=function(t){t.preventDefault(),this.props.onClick&&this.props.onClick(t)},e.prototype.render=function(){var t,e,n={cursor:"pointer",padding:"0.7em 1.2em",border:"0px",appearance:"none","-webkit-appearance":"none"},i=this.props.restyleKey?this.props.restyleKey:"button";if(this.context.interview.styler&&(e="function"==typeof this.context.interview.styler?this.context.interview.styler(i):this.context.interview.styler[i]),t=s.objectAssign({},n,this.props.style),this.context.interview.getSession().isAuthoring()||(t=this.state&&this.state.focus&&this.hasFocusFromKeyboard?s.objectAssign({},n,this.props.style,this.context.interview.getSession().getStyle().focus):s.objectAssign({},n,this.props.style,{outline:"none"})),null!=e&&e.className){var a=this.props.className?this.props.className:"";return e.className&&(a+=" "+e.className),r.default.createElement("button",o({},this.props,{className:a,style:s.objectAssign({},this.props.spacingStyle,s.whiteListStyles(e.style)),spacingStyle:void 0,onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onKeyUp:"onKeyUp"}))}return null!=e&&s.objectAssign(t,s.whiteListStyles(e.style)),r.default.createElement("button",o({},this.props,{style:t,onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onKeyUp:"onKeyUp"}))},e}(r.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e){"use strict";var n={buttonStyle:{overflowX:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:1},screenreader:{position:"absolute",clip:"rect(1px, 1px, 1px, 1px)",padding:0,border:0,height:1,width:1,overflow:"hidden"},textInputStyle:{outline:"1px solid #727780",outlineOffset:"0px",border:0,padding:"0.4em 0.8em",boxSizing:"border-box",width:"100%",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",fontStyle:"inherit",color:"inherit"}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(17),a=n(11),l=n(15),u=n(18),c=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.submit=function(t){t.preventDefault(),t.stopPropagation(),this.context.interview.submit()},e.prototype.render=function(){var t=this.context.interview.getSession(),e=t.getStyle(),n=this.context.interview.getScreen(),i=this.props.compact?"&gt;":n.getNextCaption();if(this.props.keepLayoutSpace&&!t.isAuthoring()||n.hasNext()){var a=r.objectAssign({},e.next);return r.objectAssign(a,this.props.spacingStyle,this.defaultAuthorStyle(),l.default.buttonStyle),a.visibility=n.hasNext()?"visible":"hidden",o.default.createElement(u.default,{type:"submit",restyleKey:"nextButton",hideMouseFocus:!0,spacingStyle:this.props.spacingStyle,style:a,className:"opa-submit",onClick:this.submit.bind(this),value:s.decodeHTML(i)})}if(t.isAuthoring()){var a=r.objectAssign({},l.default.buttonStyle,this.props.spacingStyle,this.defaultAuthorStyle());return o.default.createElement("div",{style:a,className:"opa-missing-button"},"No Next Button")}return o.default.createElement("span",null)},e.prototype.getAuthorPart=function(){return"SubmitButton"},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=c},function(t,e){"use strict";function n(t){return o.hasOwnProperty(t)?o[t]:"#x"==t.substring(0,2)?String.fromCharCode(parseInt(t.substring(2),16)):""}function i(t){for(var e,i=[],o=0;(e=t.indexOf("&",o))>=0&&(e>o&&i.push(t.substring(o,e)),o=e,e=t.indexOf(";",o+1),e>=0);){var r=t.substring(o+1,e);i.push(n(r)),o=e+1}return 0==i.length?t:(i.push(t.substring(o)),i.join(""))}var o={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};e.decodeHTML=i},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onFocus=function(){this.setState({focus:!0}),this.hasFocusFromKeyboard=this.context.interview.recentKeyDown},e.prototype.onBlur=function(){this.setState({focus:!1}),this.hasFocusFromKeyboard=!1},e.prototype.render=function(){var t,e,n=this.props.restyleKey?this.props.restyleKey:"button",i=this.context.interview.getRestyle(n);if("submit"===this.props.type&&(e={cursor:"pointer",padding:"0.7em 1.2em",border:"0px",appearance:"none","-webkit-appearance":"none"}),null!=i&&null!=i.className){var s=this.props.className;return i.className&&(s+=" "+i.className),o.default.createElement("input",{onClick:this.props.onClick,type:this.props.type,value:this.props.value,className:s,style:r.objectAssign({},this.props.spacingStyle,r.whiteListStyles(i.style)),onFocus:"onFocus",onBlur:"onBlur"})}return t=r.objectAssign({},e,this.props.style),this.context.interview.getSession().isAuthoring()||(this.state&&this.state.focus&&(this.hasFocusFromKeyboard||!this.props.hideMouseFocus)?t=r.objectAssign({},e,this.props.style,this.context.interview.getSession().getStyle().focus):this.props.hideMouseFocus&&(t=r.objectAssign({},e,this.props.style,{outline:"none"}))),null!=i&&r.objectAssign(t,r.whiteListStyles(i.style)),o.default.createElement("input",{onClick:this.props.onClick,type:this.props.type,value:this.props.value,className:this.props.className,style:t,onFocus:"onFocus",onBlur:"onBlur"})},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.props.stage,e={width:20,height:20,top:3,left:3,bottom:3,right:3,borderRadius:12,position:"absolute",zIndex:20,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"};return this.props.onClick?o.default.createElement("div",{title:t.title,onClick:this.props.onClick,style:e},t.icon):(e.cursor=void 0,o.default.createElement("div",{title:t.title,style:e},t.icon))},e.getBackgroundColorForStage=function(t,e){var n=t.getStyle();return"activeComplete"!=e.state&&"activeIncomplete"!=e.state||!n.useActiveStageColor?"complete"==e.state||"activeComplete"==e.state?n.completeStageColor:"incomplete"==e.state||"activeIncomplete"==e.state?n.incompleteStageColor:n.futureStageColor:n.activeStageColor},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,
new n)},o=n(2),r=n(3),s=n(21),a=n(22),l=n(23),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onClick=function(t){this.context.interview.navigate(this.props.stage.investigateUri),t.preventDefault()},e.prototype.render=function(){var t=(this.props.session,this.props.stage),e=null,n=(this.props.interviewStyle,{});this.props.icon&&(e=o.default.createElement("span",{style:n},this.props.icon));var i={overflow:"hidden"},u={display:"flex",justifyContent:void 0},c={textDecoration:"none",color:"inherit",display:"flex",overflow:"hidden",justifyContent:void 0},p={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",padding:"0 0.2em",flexShrink:1};this.props.style&&"center"==this.props.style.textAlign&&(u.justifyContent="center",c.justifyContent="center"),this.props.wrap===!0&&(p.whiteSpace=null);var h=this.props.screen?l.default.getClassName(t):a.default.getClassName(t);return t.isCurrent?o.default.createElement("div",{title:t.title,className:h,onClick:this.props.onClick,style:r.objectAssign({},i,u,this.props.style)},o.default.createElement("span",{style:p,innerHTML:t.caption}),e):null!=t.investigateUri?o.default.createElement("div",{title:t.title,className:h,onClick:this.props.onClick,style:r.objectAssign({},i,this.props.style)},o.default.createElement(s.default,{onFocus:this.props.onFocus,onClick:this.onClick.bind(this),style:c,href:"#"},o.default.createElement("span",{style:p,innerHTML:t.caption}),e)):o.default.createElement("div",{title:t.title,className:h,onClick:this.props.onClick,style:r.objectAssign({},i,u,this.props.style)},o.default.createElement("span",{style:p,innerHTML:t.caption}),e)},e.getStageTextStyle=function(t,e){return"activeComplete"!=e&&"activeIncomplete"!=e||void 0===t.activeStage?"complete"==e||"activeComplete"==e?t.completeStage:"incomplete"==e||"activeIncomplete"==e?t.incompleteStage:t.futureStage:t.activeStage},e.getScreenTextStyle=function(t,e){var n;return n="activeComplete"!=e&&"activeIncomplete"!=e||void 0===t.activeScreen?"complete"==e||"activeComplete"==e?t.completeScreen:"incomplete"==e||"activeIncomplete"==e?t.incompleteScreen:t.futureScreen:t.activeScreen},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onFocus=function(){this.setState({focus:!0}),this.hasFocusFromKeyboard=this.context.interview.recentKeyDown,this.props.onFocus&&this.props.onFocus()},e.prototype.onBlur=function(){this.setState({focus:!1}),this.hasFocusFromKeyboard=!1},e.prototype.onKeyUp=function(t){9==t.keyCode&&(this.hasFocusFromKeyboard=!0,this.update())},e.prototype.render=function(){var t;return t=this.props.style,t=this.state&&this.state.focus&&this.hasFocusFromKeyboard?s.objectAssign({},this.props.style,this.context.interview.getSession().getStyle().focus):s.objectAssign({},this.props.style,{outline:"none"}),r.default.createElement("a",o({},this.props,{style:t,onFocus:"onFocus",onBlur:"onBlur",onKeyUp:"onKeyUp"}))},e}(r.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={screenPopupNotRequired:function(t){return 2==t.getStagesTheme()&&!t.isProgressStagesOneLevel()},getClassName:function(t){var e="",n="stage";return"activeComplete"==t.state||"complete"==t.state?e="opa-complete-"+n:"activeIncomplete"==t.state||"incomplete"==t.state?e="opa-incomplete-"+n:"future"==t.state&&(e="opa-future-"+n),"activeComplete"!=t.state&&"activeIncomplete"!=t.state||(e+=" opa-active-"+n),e}}},function(t,e,n){"use strict";var i=n(2),o=n(13);Object.defineProperty(e,"__esModule",{value:!0}),e.default={getActiveImage:function(t,e){if(t.showActiveScreenImage()){var n=t.getActiveScreenImage();return null!=n?i.default.createElement("img",{src:n}):i.default.createElement(o.PenIcon,{color:"white"})}},getCompleteImage:function(t,e){if(t.showCompleteScreenImage()){var n=t.getCompleteScreenImage();return null!=n?i.default.createElement("img",{src:n}):i.default.createElement(o.TickIcon,{color:"white"})}return null},getIncompleteImage:function(t,e){if(t.showIncompleteScreenImage()){var n=t.getIncompleteScreenImage();if(null!=n)return i.default.createElement("img",{src:n})}return null},getClassName:function(t){var e="",n="screen";return"activeComplete"==t.state||"complete"==t.state?e="opa-complete-"+n:"activeIncomplete"==t.state||"incomplete"==t.state?e="opa-incomplete-"+n:"future"==t.state&&(e="opa-future-"+n),"activeComplete"!=t.state&&"activeIncomplete"!=t.state||(e+=" opa-active-"+n),e}}},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(6),r=n(8),s=n(5),a=n(3),l=n(1),u=n(25),c=function(){function t(t,e,n,i){this.screen=t,this.config=e,this.entity=n,this.instance=i,this.isWhatIf()&&(t.anyWhatIf=!0)}return t.prototype.getPublicInterface=function(){return null==this.publicInterface&&(this.publicInterface=this.makePublicInterface()),this.publicInterface},t.prototype.makePublicInterface=function(){return new u.ControlInterface(this)},t.prototype.getId=function(){return this.config.id},t.prototype.getError=function(){return null!=this.errorMessage?{message:this.errorMessage,cause:"validation"}:this.screen.controlErrors[this.config.id]},t.prototype.setError=function(t){""===t?this.errorMessage=null:this.errorMessage=t,this.screen.updateScreen()},t.prototype.getSession=function(){return this.screen.session},t.prototype.getAuthorText=function(){return this.config.authorText},t.prototype.getProperties=function(){return this.config.customProperties},t.prototype.getProperty=function(t){return this.config.customProperties[t]},t.prototype.getCaption=function(){return this.screen.substituteText(this.entity,this.instance,a.stringReplace(this.config.rawCaption,"${resources-root}",this.screen.session.getResourceBasePath(),!0))},t.prototype.getWidth=function(){return void 0!==this.config.width?this.config.width:250},t.prototype.getHintText=function(){var t=void 0!=this.config.rawHintText?this.screen.substituteText(this.entity,this.instance,this.config.rawHintText):"";return""!=t?t:null},t.prototype.getMultiLineRows=function(){return this.screen.session.getInterviewPropertyNumber("multi-line-rows",5)},t.prototype.isWhatIf=function(){return this.config.whatIfControl===!0},t.prototype.isRelevant=function(){return void 0!==this.config.attributeId?this.screen.isRelevant(this.entity,this.instance,this.config.attributeId):void 0!==this.config.relationshipId&&this.screen.isRelevant(this.entity,this.instance,this.config.relationshipId)},t.prototype.evaluateRule=function(t,e,n){if("constant"===t.evaluationType)return t.value;if("client"===t.evaluationType||"server"===t.evaluationType){var i=!1;if("ControlOptional"==t.expressionOperator)i=this.isOptional();else if("ControlNotOptional"==t.expressionOperator)i=!this.isOptional();else if("Relevant"==t.expressionOperator)i=this.isRelevant();else if("NotRelevant"==t.expressionOperator)i=!this.isRelevant();else if(t.attributeId){var o=this.screen.getValue(e,n,t.attributeId);i=t.values.some(function(t){return null==o&&"object"==typeof t&&null!=t&&"<uncertain>"===t.dataType||(void 0===o&&null===t||null!==o&&void 0!==o&&o===t)}),"!="!==t.expressionOperator&&"NotIn"!==t.expressionOperator||(i=!i)}else{var r=this.screen.getValue(t.entityInstanceId.entityId,t.entityInstanceId.instanceName,t.relationshipId);i=a.arrayIncludes(r,n)}if("Unless"===t.expressionType)return!i;if("If"===t.expressionType)return i}},t.prototype.evaluateStateRule=function(t){return t.entityInstanceId?this.evaluateRule(t,t.entityInstanceId.entityId,t.entityInstanceId.instanceName):t.entityId?this.evaluateRule(t,t.entityId,this.screen.findAncestor(this.entity,this.instance,t.entityId).instanceName):this.evaluateRule(t,"global","global")},t.prototype.isVisible=function(){if(void 0!==this.config.controlStateRule){var t=this.config.controlStateRule;if(void 0!==t.hideIfExpression)return!this.evaluateStateRule(t.hideIfExpression)}return"hidden"!==this.config.currentState},t.prototype.isReadOnly=function(){return this.isContractuallyReadOnly()},t.prototype.isContractuallyReadOnly=function(){if(this.screen.isReadOnly())return!0;if(void 0!==this.config.controlStateRule){var t=this.config.controlStateRule;if(!this.isVisible())return!1;if(void 0!==t.readOnlyIfExpression)return this.evaluateStateRule(t.readOnlyIfExpression)}return"readonly"===this.config.currentState},t.prototype.isMandatory=function(){if(!this.isVisible())return!1;if(this.isContractuallyReadOnly())return!1;if(void 0!==this.config.controlStateRule){var t=this.config.controlStateRule;if(!this.isVisible())return!1;if(this.isReadOnly())return!1;if(void 0!==t.optionalIfExpression){var e=this.evaluateStateRule(t.optionalIfExpression);return!e}}return"enabled"===this.config.currentState},t.prototype.hasAnswer=function(){return!(!this.isVisible()||this.isContractuallyReadOnly())},t.prototype.isOptional=function(){return this.isVisible()&&!this.isReadOnly()&&!this.isMandatory()},t.prototype.checkInputRestriction=function(t){return!0},t.prototype.parse=function(t){return null},t.prototype.format=function(t){return t},t.prototype.updateState=function(t){},t.prototype.updateSubmit=function(t){},t.create=function(t,e,n,i){return"label"===e.type?new p(t,e,n,i):"container"===e.type?new h(t,e,n,i):"text"===e.type?new S(t,e,n,i):"number"===e.type||"currency"===e.type?new w(t,e,n,i):"date"===e.type?new C(t,e,n,i):"time"===e.type?new I(t,e,n,i):"datetime"===e.type?new E(t,e,n,i):"boolean"===e.type?new x(t,e,n,i):"explanation"===e.type?new d(t,e,n,i):"attachment"===e.type?new f(t,e,n,i):"image"===e.type?new g(t,e,n,i):"document"===e.type?new m(t,e,n,i):"captcha"===e.type?new y(t,e,n,i):"signature"===e.type?new v(t,e,n,i):"reference relationship"===e.type||"read-only relationship"===e.type?new T(t,e,n,i):"entity group"===e.type?new k(t,e,n,i):"entity collect"===e.type?new D(t,e,n,i):"read-only attribute"!==e.type?new M(t,e,n,i):"boolean"===e.dataType?new x(t,e,n,i):"text"===e.dataType?new S(t,e,n,i):"number"===e.dataType||"currency"===e.dataType?new w(t,e,n,i):"date"===e.dataType?new C(t,e,n,i):"time of day"===e.dataType?new I(t,e,n,i):"datetime"===e.dataType?new E(t,e,n,i):void 0},t}();e.ScreenItem=c;var p=function(t){function e(e,n,i,o){t.call(this,e,n,i,o),this.customHandler=l.findExtensionHandler("customLabel",this.getPublicInterface(),this.getSession().publicInterface)}return i(e,t),e.prototype.makePublicInterface=function(){return new u.LabelControlInterface(this)},e.prototype.getTextStyle=function(){return this.config.textStyle},e.prototype.getControlType=function(){return this.config.controlType},e.prototype.getContent=function(){return this.config.content},e}(c);e.ScreenLabel=p;var h=function(t){function e(e,n,i,o){var r=this;t.call(this,e,n,i,o),this.controls=this.config.controls.map(function(t){return r.screen.createControl(t,i,o)}),this.customHandler=l.findExtensionHandler("customContainer",this.getPublicInterface(),this.getSession().publicInterface)}return i(e,t),e.prototype.makePublicInterface=function(){return new u.ContainerControlInterface(this)},e.prototype.updateState=function(t){this.controls.forEach(function(e){return e.updateState(t)})},e.prototype.updateSubmit=function(t){this.isVisible()&&this.controls.forEach(function(e){return e.updateSubmit(t)})},e.prototype.getControls=function(){return this.controls},e.prototype.isRelevant=function(){for(var t=0;t<this.controls.length;++t)if(this.controls[t].isRelevant())return!0;return!1},e.prototype.isHorizontal=function(){return this.config.horizontalLayout},e}(c);e.ScreenContainer=h;var d=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getCaption=function(){return a.stringReplace(this.config.caption,"${resources-root}",this.screen.session.getResourceBasePath(),!0)},e.prototype.getExplanation=function(){return this.config.controls[0].controls},e.prototype.getRuleTags=function(){return this.config.ruleTags},e.prototype.showRuleTags=function(){return this.config.showRuleTags===!0},e}(c);e.ScreenExplanation=d;var f=function(t){function e(e,n,i,o){t.call(this,e,n,i,o),this.questionCaptionHandler=l.findExtensionHandler("customQuestionText",this.getPublicInterface(),this.getSession().publicInterface)}return i(e,t),e.prototype.updateSubmit=function(t){this.hasAnswer()&&(t.newAttachments(this.entity,this.instance,this.getNewAttachments().map(function(t){var e=t.data?t.data:"",n=e.indexOf(",");return{fileName:t.fileName,data:e.substring(n+1)}})),t.removedAttachments(this.entity,this.instance,this.getRemovedAttachments()))},e.prototype.addNewAttachment=function(t,e){this.screen.session.setDirty(!0),this.getNewAttachments().push({fileName:t.name,mimeType:t.type,size:t.size,data:e})},e.prototype.addNewAttachmentAsFileUri=function(t,e,n,i){this.screen.session.setDirty(!0),this.getNewAttachments().push({fileName:e,mimeType:"image/jpeg",size:n,data:t,dataUri:i})},e.prototype.getNewAttachments=function(){return null==this.newAttachments&&(this.newAttachments=[]),this.newAttachments},e.prototype.getExistingAttachments=function(){var t=this;return null!=this.config.attachments?this.config.attachments.filter(function(e){return t.getRemovedAttachments().indexOf(e.attachmentId)<0}):[]},e.prototype.removeExistingAttachment=function(t){this.screen.session.setDirty(!0),this.getRemovedAttachments().push(t)},e.prototype.getRemovedAttachments=function(){return null==this.removedAttachments&&(this.removedAttachments=[]),this.removedAttachments},e.prototype.removeNewAttachment=function(t){this.newAttachments.splice(t,1)},e}(c);e.ScreenAttachment=f;var g=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getImageSource=function(){return this.screen.session.buildURL(this.config.source)},e.prototype.getLinkUrl=function(){return this.config.rawLinkUrl?this.screen.substituteTextWithEncoder(this.entity,this.instance,this.config.rawLinkUrl,function(t){return t}):null},e.prototype.getHorizontalAlignment=function(){return this.config.horizontalAlignment},e.prototype.getWidth=function(){return this.config.width},e.prototype.getHeight=function(){return this.config.height},e}(c);e.ScreenImage=g;var m=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getDocumentUri=function(){return this.screen.session.buildURL(this.config.documentUri)},e.prototype.getMimeType=function(){return this.config.mimeType},e.prototype.getDisposition=function(){return this.config.disposition},e.prototype.getFileName=function(){return this.config.filename},e}(c);e.ScreenDocument=m;var y=function(t){function e(e,n,i,o){t.call(this,e,n,i,o),this.questionCaptionHandler=l.findExtensionHandler("customQuestionText",this.getPublicInterface(),this.getSession().publicInterface)}return i(e,t),e.prototype.getValue=function(){return null!=this.value?this.value:""},e.prototype.setValue=function(t){this.value=t},e.prototype.getImageURI=function(){return this.screen.session.buildURL(this.config.imageUri)},e.prototype.getAudioURI=function(){return this.screen.session.buildURL(this.config.audioUri)},e.prototype.updateSubmit=function(t){this.isVisible()&&t.setCaptcha(this.config.id,this.getValue())},e}(c);e.ScreenCaptcha=y;var v=function(t){function e(e,n,i,o){t.call(this,e,n,i,o),this.questionCaptionHandler=l.findExtensionHandler("customQuestionText",this.getPublicInterface(),this.getSession().publicInterface)}return i(e,t),e.prototype.updateSubmit=function(t){this.hasAnswer()&&("set"===this.operation?t.setSignature(this.entity,this.instance,{signatureOperation:"set",data:this.value,fileName:this.fileName}):"remove"===this.operation?t.setSignature(this.entity,this.instance,{signatureOperation:"remove"}):t.setSignature(this.entity,this.instance,{signatureOperation:"keep"}))},e.prototype.hasExistingSignature=function(){return null!=this.config.data&&void 0===this.operation},e.prototype.getExistingSignatureURI=function(){return null!=this.config.data&&void 0===this.operation?"data:image/png;base64,"+this.config.data:null},e.prototype.hasSignature=function(){return this.hasExistingSignature()||"set"==this.operation},e.prototype.setValue=function(t){this.screen.session.setDirty(!0);var e=t.indexOf(","),n=new Date;this.value=t.substring(e+1),this.operation="set",this.fileName="SIGNATURE_"+n.getFullYear()+("0"+(n.getMonth()+1)).slice(-2)+("0"+n.getDate()).slice(-2)+"_"+("0"+n.getHours()).slice(-2)+("0"+n.getMinutes()).slice(-2)+"_"+this.entity+"_"+this.instance+".png"},e.prototype.clearSignature=function(){this.screen.session.setDirty(!0),this.config.data?this.operation="remove":this.operation=null},e.prototype.getClearButtonText=function(){return this.screen.substituteText(this.entity,this.instance,this.config.rawClearText)},e}(c);e.ScreenSignature=v;var b=function(t){function e(e,n,i,o){var r=this;t.call(this,e,n,i,o),this.questionCaptionHandler=l.findExtensionHandler("customQuestionText",this.getPublicInterface(),this.getSession().publicInterface),this.enumValFilters=new Map,this.config.enumerationValueExpressions&&this.config.enumerationValueExpressions.forEach(function(t){r.enumValFilters.set(t.value&&t.value.dataType?null:t.value,t.expression)}),(this.customHandler=l.findExtensionHandler("fullCustomInput",this.getPublicInterface(),this.getSession().publicInterface))?this.isFullCustomControl=!0:this.customHandler=l.findExtensionHandler("customInput",this.getPublicInterface(),this.getSession().publicInterface),this.customOptionsHandler=l.findExtensionHandler("customOptions",this.getPublicInterface(),this.getSession().publicInterface),"text"==this.getDataType()&&"TextBox"===this.getControlType()&&(this.customSearchHandler=l.findExtensionHandler("customSearch",this.getPublicInterface(),this.getSession().publicInterface))}return i(e,t),e.prototype.makePublicInterface=function(){return new u.InputControlInterface(this)},e.prototype.getDataType=function(){return this.config.dataType},e.prototype.getControlType=function(){return this.config.controlType},e.prototype.setControlType=function(t){this.config.controlType=t},e.prototype.isMandatory=function(){return"latitude"!=this.config.controlType&&"longitude"!=this.config.controlType&&t.prototype.isMandatory.call(this)},e.prototype.isReadOnly=function(){var e=this.config.enumerationFilter;if(e&&"string"==typeof e.controlId){var n=this.screen.getValue(e.entityInstanceId.entityId,e.entityInstanceId.instanceName,e.attributeId);if(null===n||void 0===n)return!0}return t.prototype.isReadOnly.call(this)},e.prototype.isListControlType=function(){return this.config.isListControlType===!0},e.prototype.getOptions=function(t){var e=this;if(void 0===t&&(t=!1),this.customOptionsHandler){var n=this.customOptionsHandler.options;return"function"==typeof n&&(n=n()),null!=n||t?n:[]}if(this.config.listOptions){var i=[];return this.config.listOptions.forEach(function(t){"object"==typeof t.value||""===t.value?e.isOptional()&&i.push({text:e.screen.substituteText(e.entity,e.instance,s.default.htmlEncode(t.rawDisplayText)),value:""===t.value?"":null,checkedImage:null,uncheckedImage:null,nodeDepth:0}):i.push({text:e.screen.substituteText(e.entity,e.instance,s.default.htmlEncode(t.rawDisplayText)),value:t.value,checkedImage:null,uncheckedImage:null,nodeDepth:0})}),i}if("string"==typeof this.config.enumerationName){var o=this.getCurrentEnumVals(),r=[];return o.forEach(function(t){r.push({text:e.screen.substituteText(e.entity,e.instance,s.default.htmlEncode(t.getRawDescription())),value:t.getValue(),checkedImage:e.screen.session.buildURL(t.getCheckedImageSource()),uncheckedImage:e.screen.session.buildURL(t.getUncheckedImageSource()),nodeDepth:t.getNodeDepth()})}),r}return[]},e.prototype.hasOptions=function(){return this.usesEnumeration()||this.hasListOptions()},e.prototype.usesEnumeration=function(){return void 0!==this.config.enumerationName},e.prototype.getEnumeration=function(){return this.usesEnumeration()?this.getSession().getEnumeration(this.config.enumerationName):null},e.prototype.hasListOptions=function(){return this.config.listOptions&&this.config.listOptions.length>0||null!=this.customOptionsHandler},e.prototype.getCurrentEnumVals=function(){var t,e=this,n=this.getSession().getEnumeration(this.config.enumerationName);if(this.config.enumerationFilter){var i=this.config.enumerationFilter,o=this.screen.getValue(i.entityInstanceId.entityId,i.entityInstanceId.instanceName,i.attributeId);t=n.getFilteredValues(this.config.enumerationFilter.parentEnumerationName,o)}else t=n.getAllValues();return t.filter(function(t){var n=e.enumValFilters.get(t.isUncertainVal()?null:t.getValue());return n?!e.evaluateStateRule(n):!t.isUncertainVal()||e.isOptional()})},e.prototype.format=function(t){return this.config.attributeId&&null!=t?this.screen.format(t,this.config.attributeId):t},e.prototype.updateState=function(t){this.hasAnswer()&&(void 0!==this.config.attributeId?r.default.opmset(t,this.entity,this.instance,this.config.attributeId,this.getValue()):void 0!==this.config.relationshipId&&r.default.opmset(t,this.entity,this.instance,this.config.relationshipId,this.getValue()))},e.prototype.updateSubmit=function(t){if(this.hasAnswer())if(void 0!==this.config.attributeId){var e=this.getValue();null==e||this.checkInputRestriction(e)||(e=null),t.setAttribute(this.entity,this.instance,this.config.attributeId,e)}else void 0!==this.config.relationshipId&&t.setRelationship(this.entity,this.instance,this.config.relationshipId,this.getValue())},e.prototype.getError=function(){var e=t.prototype.getError.call(this);return null!=e?e:r.default.opmget(this.screen.errors,this.entity,this.instance,this.config.attributeId)},e.prototype.intrinsicDefaultValue=function(){if("slider"===this.getControlType())if(this.hasOptions()){var t=this.getOptions().filter(function(t){return null!=t.value});if(t.length>0)return t[0].value}else if(this instanceof w){var e=this;return e.minimumValue()}return null},e.prototype.getValue=function(){var t;if(void 0!==this.config.attributeId){if(this.isReadOnly())t=this.screen.getValue(this.entity,this.instance,this.config.attributeId);else if(t=this.screen.getAnswer(this.entity,this.instance,this.config.attributeId),void 0===t){if(void 0!==this.config.defaultValueExpression){var e=this.config.defaultValueExpression;t=this.screen.getValue(e.entityInstanceId.entityId,e.entityInstanceId.instanceName,e.attributeId)}else t=this.config.currentDefaultValue;this.checkInputRestriction(t)||(t=null)}if("object"==typeof t)return this.intrinsicDefaultValue();if(this.hasOptions()){for(var n=this.getOptions(),i=0;i<n.length;i++)if(n[i].value===t)return t;return this.intrinsicDefaultValue()}return null==t?this.intrinsicDefaultValue():t}if(void 0!==this.config.relationshipId)return this.isReadOnly()?this.screen.getValue(this.entity,this.instance,this.config.relationshipId):this.screen.getAnswer(this.entity,this.instance,this.config.relationshipId)},e.prototype.setValue=function(t){if(void 0!==this.config.attributeId){if(!this.screen.setAnswer(this.entity,this.instance,this.config.attributeId,t))return}else void 0!==this.config.relationshipId&&this.screen.setAnswer(this.entity,this.instance,this.config.relationshipId,t);this.screen.updateState()},e.prototype.getInvalidValueMessage=function(){return this.config.inputRestriction?this.screen.substituteText(this.entity,this.instance,this.config.inputRestriction.rawErrorMessage):"Invalid value."},e.prototype.getInvalidFormatMessage=function(){return this.screen.session.config.messageProperties.ControlValueFormatError},e.prototype.isButtonHorizontalLayout=function(){return this.config.buttonHorizontal===!0},e}(c);e.ScreenInput=b;var w=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.parse=function(t){var e=this.screen.session,n=("currency"===this.getDataType()?e.acceptedCurrencyFormats:e.acceptedNumberFormats,o.default.parseNumber(t,e.acceptedCurrencyFormats,e.locale));if("number"==typeof n){var i=this.format(n);n=o.default.parseNumber(i,e.acceptedCurrencyFormats,e.locale)}return n},e.prototype.leftCaption=function(){return null!=this.config.rawLeftCaption?this.screen.substituteText(this.entity,this.instance,a.stringReplace(this.config.rawLeftCaption,"${resources-root}",this.screen.session.getResourceBasePath(),!0)):this.screen.session.config.messageProperties["slider-low-text"]},e.prototype.rightCaption=function(){return null!=this.config.rawRightCaption?this.screen.substituteText(this.entity,this.instance,a.stringReplace(this.config.rawRightCaption,"${resources-root}",this.screen.session.getResourceBasePath(),!0)):this.screen.session.config.messageProperties["slider-high-text"]},e.prototype.minimumValue=function(){var t=null!=this.config.inputRestriction&&void 0!==this.config.inputRestriction.minimumValue?this.config.inputRestriction.minimumValue:null;if(null!=t)return t;if("slider"===this.getControlType()&&!this.usesEnumeration()&&!this.hasListOptions()){var e=null!=this.config.inputRestriction&&void 0!==this.config.inputRestriction.maximumValue?this.config.inputRestriction.maximumValue:null;return null==e?0:e>0?0:e-10}return null},e.prototype.maximumValue=function(){var t=null!=this.config.inputRestriction&&void 0!==this.config.inputRestriction.maximumValue?this.config.inputRestriction.maximumValue:null;if(null!=t)return t;if("slider"===this.getControlType()&&!this.usesEnumeration()&&!this.hasListOptions()){var e=null!=this.config.inputRestriction&&void 0!==this.config.inputRestriction.minimumValue?this.config.inputRestriction.minimumValue:null;return null==e?10:e+10}return null},e.prototype.checkInputRestriction=function(e){if("number"==typeof e&&null!=this.config.inputRestriction){if(this.config.inputRestriction.integerOnly===!0&&!a.numberIsInteger(e))return!1;var n=this.minimumValue(),i=this.maximumValue();if(null!=n&&e<n)return!1;if(null!=i&&e>i)return!1}return"slider"===this.getControlType()&&!this.usesEnumeration()&&!this.hasListOptions(),t.prototype.checkInputRestriction.call(this,e)},e.prototype.getInvalidFormatMessage=function(){var t=this.screen.session.config,e="number"===this.getDataType()?t.messageProperties.NumberValueFormatError:t.messageProperties.CurrencyValueFormatError,n=this.format(1234.5678),i="number"===this.getDataType()?t.formatterProperties.numberOutputFormat:t.formatterProperties.currencyOutputFormat,o=a.stringReplace(e,"${e.getExample()}",n);return a.stringReplace(o,"${e.getFormat()}",i)},e}(b);e.ScreenNumberInput=w;var x=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getCheckedImageSource=function(){return this.config.checkedSource?this.screen.session.buildURL(this.config.checkedSource):""},e.prototype.getUncheckedImageSource=function(){return this.config.uncheckedSource?this.screen.session.buildURL(this.config.uncheckedSource):""},e.prototype.hideCaption=function(){return this.config.hideCaption===!0},e.prototype.getOptions=function(){var t=this,e=this.getSession();if(this.config.listOptions)return this.config.listOptions.map(function(e){return"object"==typeof e.value?{text:t.screen.substituteText(t.entity,t.instance,e.rawDisplayText),value:null,checkedImage:null,uncheckedImage:null,nodeDepth:0}:{text:t.screen.substituteText(t.entity,t.instance,e.rawDisplayText),value:e.value,checkedImage:null,uncheckedImage:null,nodeDepth:0}});if("string"==typeof this.config.enumerationName){var n=this.getCurrentEnumVals(),i=[];return n.forEach(function(n){i.push({text:t.screen.substituteText(t.entity,t.instance,n.getRawDescription()),value:n.getValue(),checkedImage:e.buildURL(n.getCheckedImageSource()),uncheckedImage:e.buildURL(n.getUncheckedImageSource()),nodeDepth:n.getNodeDepth()})}),i}if("Radiobutton"===this.config.controlType||"text-button-group"===this.config.controlType||"image-button-group"===this.config.controlType||"text-image-button-group"===this.config.controlType){var o=[{value:!0,text:this.getSession().getMessage("boolean-true")},{value:!1,text:this.getSession().getMessage("boolean-false")}];return this.isOptional()&&o.push({value:null,text:this.getSession().getMessage("boolean-uncertain")}),o}return[]},e.prototype.parse=function(t){return"true"===t||"false"!==t&&null},e}(b);e.ScreenBooleanInput=x;var S=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.checkInputRestriction=function(e){if("string"==typeof e&&null!=this.config.inputRestriction&&null!=this.config.inputRestriction.regularExpression){var n=e.match(this.config.inputRestriction.regularExpression);if(null==n||e!==n[0])return!1}return t.prototype.checkInputRestriction.call(this,e)},e.prototype.getInputMask=function(){return null==this.config.inputMask||""==this.config.inputMask?"":this.config.inputMask},e.prototype.intrinsicDefaultValue=function(){var e=t.prototype.intrinsicDefaultValue.call(this);return null!=e||this.config.enumerationName||this.isListControlType()||!this.checkInputRestriction("")?e:""},e.prototype.parse=function(t){return"string"==typeof t?t:null},e}(b);e.ScreenTextInput=S;var C=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.checkInputRestriction=function(e){if("string"==typeof e&&null!=this.config.inputRestriction){if(null!=this.config.inputRestriction.minimumValue&&e<this.config.inputRestriction.minimumValue)return!1;if(null!=this.config.inputRestriction.maximumValue&&e>this.config.inputRestriction.maximumValue)return!1}return t.prototype.checkInputRestriction.call(this,e)},e.prototype.isWellFormed=function(t){return o.default.isWellFormedDate(t,this.screen.session.acceptedDateFormats)},e.prototype.parse=function(t){var e=this.screen.session;return o.default.parseDate(t,e.acceptedDateFormats)},e.prototype.getDayHintText=function(){return this.screen.session.config.messageProperties["default-day-hint"]},e.prototype.getMonthHintText=function(){return this.screen.session.config.messageProperties["default-month-hint"]},e.prototype.getYearHintText=function(){return this.screen.session.config.messageProperties["default-year-hint"]},e.prototype.getYearStart=function(){return this.config.yearStart},e.prototype.getYearEnd=function(){return this.config.yearEnd},e.prototype.getInvalidFormatMessage=function(){var t=this.screen.session.config.messageProperties.DateValueFormatError,e=new Date,n=this.format(e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)),i=this.screen.session.config.formatterProperties.dateOutputFormat,o=a.stringReplace(t,"${e.getExample()}",n);return a.stringReplace(o,"${e.getFormat()}",i)},e.prototype.getInvalidDateMessage=function(){var t=this.screen.session.config.messageProperties.InvalidDateError,e=new Date,n=this.format(e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)),i=this.screen.session.config.formatterProperties.dateOutputFormat,o=a.stringReplace(t,"${e.getExample()}",n);return a.stringReplace(o,"${e.getFormat()}",i)},e}(b);e.ScreenDateInput=C;var E=function(t){function e(e,n,i,o){t.call(this,e,n,i,o)}return i(e,t),e.prototype.parse=function(t){var e=this.screen.session;return o.default.parseDateTime(t,e.acceptedDateTimeFormats)},e.prototype.checkInputRestriction=function(e){if("string"==typeof e&&null!=this.config.inputRestriction){if(null!=this.config.inputRestriction.minimumValue&&e<this.config.inputRestriction.minimumValue)return!1;if(null!=this.config.inputRestriction.maximumValue&&e>this.config.inputRestriction.maximumValue)return!1}return t.prototype.checkInputRestriction.call(this,e);
},e.prototype.isWellFormed=function(t){return o.default.isWellFormedDateTime(t,this.screen.session.acceptedDateTimeFormats)},e.prototype.getDayHintText=function(){return this.screen.session.config.messageProperties["default-day-hint"]},e.prototype.getMonthHintText=function(){return this.screen.session.config.messageProperties["default-month-hint"]},e.prototype.getYearHintText=function(){return this.screen.session.config.messageProperties["default-year-hint"]},e.prototype.getHourHintText=function(){return this.screen.session.config.messageProperties["default-hour-hint"]},e.prototype.getMinuteHintText=function(){return this.screen.session.config.messageProperties["default-minute-hint"]},e.prototype.getSecondHintText=function(){return this.screen.session.config.messageProperties["default-second-hint"]},e.prototype.getMeridiemHintText=function(){return this.screen.session.config.messageProperties["default-meridiem-hint"]},e.prototype.getMinuteIncrement=function(){return this.config.minuteIncrement?this.config.minuteIncrement:1},e.prototype.getSecondIncrement=function(){return this.config.secondIncrement?this.config.secondIncrement:1},e.prototype.getYearStart=function(){return this.config.yearStart},e.prototype.getYearEnd=function(){return this.config.yearEnd},e.prototype.getInvalidFormatMessage=function(){var t=this.screen.session.config.messageProperties.DateTimeValueFormatError,e=new Date,n=this.format(e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)),i=this.screen.session.config.formatterProperties.dateTimeOutputFormat,o=a.stringReplace(t,"${e.getExample()}",n);return a.stringReplace(o,"${e.getFormat()}",i)},e.prototype.getInvalidDateMessage=function(){var t=this.screen.session.config.messageProperties.InvalidDateError,e=new Date,n=this.format(e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)+"T"+("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)),i=this.screen.session.config.formatterProperties.dateTimeOutputFormat,o=a.stringReplace(t,"${e.getExample()}",n);return a.stringReplace(o,"${e.getFormat()}",i)},e}(b);e.ScreenDateTimeInput=E;var I=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.parse=function(t){var e=this.screen.session;return o.default.parseTime(t,e.acceptedTimeFormats)},e.prototype.checkInputRestriction=function(e){if("string"==typeof e&&null!=this.config.inputRestriction){if(null!=this.config.inputRestriction.minimumValue&&e<this.config.inputRestriction.minimumValue)return!1;if(null!=this.config.inputRestriction.maximumValue&&e>this.config.inputRestriction.maximumValue)return!1}return t.prototype.checkInputRestriction.call(this,e)},e.prototype.getHourHintText=function(){return this.screen.session.config.messageProperties["default-hour-hint"]},e.prototype.getMinuteHintText=function(){return this.screen.session.config.messageProperties["default-minute-hint"]},e.prototype.getSecondHintText=function(){return this.screen.session.config.messageProperties["default-second-hint"]},e.prototype.getMeridiemHintText=function(){return this.screen.session.config.messageProperties["default-meridiem-hint"]},e.prototype.getMinuteIncrement=function(){return this.config.minuteIncrement?this.config.minuteIncrement:1},e.prototype.getSecondIncrement=function(){return this.config.secondIncrement?this.config.secondIncrement:1},e.prototype.getInvalidFormatMessage=function(){var t=this.screen.session.config.messageProperties.TimeValueFormatError,e=new Date,n=this.format(("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)),i=this.screen.session.config.formatterProperties.timeOutputFormat,o=a.stringReplace(t,"${e.getExample()}",n);return a.stringReplace(o,"${e.getFormat()}",i)},e}(b);e.ScreenTimeInput=I;var T=function(t){function e(e,n,i,o){var r=this;t.call(this,e,n,i,o),this.filterEvalInst={},this.questionCaptionHandler=l.findExtensionHandler("customQuestionText",this.getPublicInterface(),this.getSession().publicInterface),this.config.targets.forEach(function(t){t.filterEntityInstanceId&&(r.filterEvalInst[t.entityInstanceId]=t.filterEntityInstanceId.instanceName)})}return i(e,t),e.prototype.getPossibleTargets=function(){var t=this;if(this.screen.session.isAuthoring())return[{entityInstanceId:"dummy",caption:this.config.rawTargetCaption}];var e,n=this.screen,i=n.getAllInstances(this.config.targetEntityId);if(void 0!==this.config.targetFilter){var o=this.config.targetFilter,r=this.entity===this.config.targetEntityId&&o.excludeSelf===!0;e=i.filter(function(e){if(r&&t.instance===e)return!1;if("string"==typeof o.attributeId){var i=void 0;if(t.filterEvalInst[e])i=t.filterEvalInst[e];else if(o.filterEntityId===t.config.targetEntityId)i=e;else{var s=n.findAncestor(t.config.targetEntityId,e,o.filterEntityId);i=s.instanceName}return!t.evaluateRule(o,o.filterEntityId,i)}return!o.relationshipId||!t.evaluateRule(o,t.config.targetEntityId,e)})}else e=i;return e.map(function(e){return{entityInstanceId:e,caption:t.screen.substituteText(t.config.targetEntityId,e,t.config.rawTargetCaption?a.stringReplace(t.config.rawTargetCaption,"${resources-root}",t.screen.session.getResourceBasePath(),!0):e.replace("%","%%"))}})},e.prototype.updateSubmit=function(t){var e=this;if(this.hasAnswer()){var n=this.getValue();if(null!=n){var i=this.getPossibleTargets().filter(function(t){return n.indexOf(t.entityInstanceId)>=0});n=i.map(function(t){return t.entityInstanceId})}n&&n.forEach(function(n){t.getEntityInstance(e.config.targetEntityId,n)}),t.setRelationship(this.entity,this.instance,this.config.relationshipId,n)}},e}(b);e.ScreenReferenceRelationshipInput=T;var O=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype._buildRow=function(t){var e=this,n=JSON.parse(JSON.stringify(this.config.templateControl));return this._updateTemplateInstanceId(n,t),n.controls.map(function(n){return e.screen.createControl(n,e.config.targetEntityId,t)})},e.prototype._updateTemplateInstanceId=function(t,e){if(t.id=a.stringReplace(t.id,"##Template##",e),"entity instance"===t.type&&(t.caption=a.stringReplace(a.stringReplace(t.caption,"${resources-root}",this.screen.session.getResourceBasePath(),!0),"##Template##",e),t.rawCaption=a.stringReplace(a.stringReplace(t.rawCaption,"${resources-root}",this.screen.session.getResourceBasePath(),!0),"##Template##",e)),t.entityInstanceId&&"##Template##"===t.entityInstanceId.instanceName&&(t.entityInstanceId.instanceName=e),t.filterEntityInstanceId&&"##Template##"===t.filterEntityInstanceId.instanceName&&(t.filterEntityInstanceId.instanceName=e),t.defaultValueExpression&&"##Template##"===t.defaultValueExpression.entityInstanceId.instanceName&&(t.defaultValueExpression.entityInstanceId.instanceName=e),t.blankInstancesExpression&&"##Template##"===t.blankInstancesExpression.entityInstanceId.instanceName&&(t.blankInstancesExpression.entityInstanceId.instanceName=e),t.enumerationFilter&&"##Template##"===t.enumerationFilter.entityInstanceId.instanceName&&(t.enumerationFilter.entityInstanceId.instanceName=e),t.controlStateRule){var n=t.controlStateRule;n.hideIfExpression&&n.hideIfExpression.entityInstanceId&&"##Template##"===n.hideIfExpression.entityInstanceId.instanceName&&(n.hideIfExpression.entityInstanceId.instanceName=e),n.optionalIfExpression&&n.optionalIfExpression.entityInstanceId&&"##Template##"===n.optionalIfExpression.entityInstanceId.instanceName&&(n.optionalIfExpression.entityInstanceId.instanceName=e),n.readOnlyIfExpression&&n.readOnlyIfExpression.entityInstanceId&&"##Template##"===n.readOnlyIfExpression.entityInstanceId.instanceName&&(n.readOnlyIfExpression.entityInstanceId.instanceName=e)}if(t.enumerationValueExpressions&&t.enumerationValueExpressions.forEach(function(t){t.expression&&t.expression.entityInstanceId&&"##Template##"===t.expression.entityInstanceId.instanceName&&(t.expression.entityInstanceId.instanceName=e)}),t.targetFilter){var i=t.targetFilter.entityInstanceId;i&&"##Template##"===i.instanceName&&(i.instanceName=e)}if("explanation"!==t.controlType&&t.controls)for(var o=0;o<t.controls.length;++o)this._updateTemplateInstanceId(t.controls[o],e)},e}(c),k=function(t){function e(e,n,i,o){var r=this;t.call(this,e,n,i,o),this.cachedRows={},this.filterEvalContext={},n.controls.forEach(function(t){var e=t.entityInstanceId.instanceName;r.config.targetFilter&&r.config.targetFilter.attributeId&&(r.filterEvalContext[e]=t.filterEntityInstanceId),r.cachedRows[e]=t.controls.map(function(t){return r.screen.createControl(t,r.config.targetEntityId,e)})}),this.customHandler=l.findExtensionHandler("customEntityContainer",this.getPublicInterface(),this.getSession().publicInterface)}return i(e,t),e.prototype.makePublicInterface=function(){return new u.EntityContainerControlInterface(this)},e.prototype.getTemplateControls=function(){return this.config.templateControl.controls},e.prototype.getRows=function(){var t=this,e=this.getInstances();return e.map(function(e){return t.cachedRows[e]||(t.cachedRows[e]=t._buildRow(e)),t.cachedRows[e]})},e.prototype.isRelevant=function(){for(var t=this.getRows(),e=0;e<t.length;++e)for(var n=t[e],i=0;i<n.length;++i)if(n[i].isRelevant())return!0},e.prototype.getInstances=function(){var t=this;if(this.screen.session.isAuthoring())return["dummy"];var e=this.screen,n=e.getAllInstances(this.config.targetEntityId);if(void 0!==this.config.targetFilter){var i=this.config.targetFilter;return n.filter(function(n){var o,r;if("string"==typeof i.attributeId)if(t.filterEvalContext[n]){var s=t.filterEvalContext[n];o=s.entityId,r=s.instanceName}else{var l=t.config.templateControl;if(l.filterEntityInstanceId)o=l.filterEntityInstanceId.entityId,r=a.stringReplace(l.filterEntityInstanceId.instanceName,"##Template##",n);else{var u=e.findAncestor(t.config.targetEntityId,n,l.filterEntityId);o=u.entityId,r=u.instanceName}}else o=t.config.targetEntityId,r=n;return!t.evaluateRule(i,o,r)})}return n},e.prototype.updateState=function(t){this.getRows().forEach(function(e){e.forEach(function(e){return e.updateState(t)})})},e.prototype.getDisplayStyle=function(){return this.config.displayStyle},e.prototype.isHorizontal=function(){return"tabular"===this.getDisplayStyle()},e.prototype.updateSubmit=function(t){this.isVisible()&&this.getRows().forEach(function(e){e.forEach(function(e){return e.updateSubmit(t)})})},e}(O);e.ScreenEntityContainer=k;var D=function(t){function e(e,n,i,o){var r=this;if(t.call(this,e,n,i,o),this.instances=[],this.rows=[],n.addBlankInstances)for(var s=0;s<this.getDefaultBlankInstances();s++)this._createRow();else n.controls.forEach(function(t){var e=t.entityInstanceId.instanceName;r.instances.push(e),r.rows.push(t.controls.map(function(t){return r.screen.createControl(t,r.config.targetEntityId,e)}))});this.customHandler=l.findExtensionHandler("customEntityCollect",this.getPublicInterface(),this.getSession().publicInterface)}return i(e,t),e.prototype.makePublicInterface=function(){return new u.EntityCollectControlInterface(this)},e.prototype.isHorizontal=function(){return"tabular"===this.getDisplayStyle()},e.prototype.getDefaultBlankInstances=function(){return this.config.currentBlankInstances},e.prototype.showButtons=function(){return!this.screen.isReadOnly()&&(void 0===this.config.showButtons||this.config.showButtons)},e.prototype.getButtonPosition=function(){return void 0!==this.config.buttonPosition?this.config.buttonPosition:"TR"},e.prototype.getAddButtonText=function(){return this.screen.substituteText(this.entity,this.instance,this.config.rawAddButtonText)},e.prototype.getRemoveButtonText=function(){return this.screen.substituteText(this.entity,this.instance,this.config.rawRemoveButtonText)},e.prototype.getRows=function(){return this.rows},e.prototype.isRelevant=function(){var t=this.getRows();if(this.screen.isRelevant(this.entity,this.instance,this.config.relationshipId)===!0)return!0;for(var e=0;e<t.length;++e)for(var n=t[e],i=0;i<n.length;++i)if(n[i].isRelevant())return!0},e.prototype.getInstances=function(){return this.instances},e.prototype.getDisplayStyle=function(){return this.config.displayStyle},e.prototype.isMaxOneInstance=function(){return this.config.maxOneInstance===!0},e.prototype.updateState=function(t){this.rows.forEach(function(e){e.forEach(function(e){return e.updateState(t)})}),r.default.opmset(t,this.entity,this.instance,"children$"+this.config.targetEntityId,this.instances.slice(0))},e.prototype.updateSubmit=function(t){if(this.isVisible()){t.getEntity(this.config.targetEntityId);for(var e=0;e<this.rows.length;++e){var n=this.instances[e];this.screen.setParentInfo(this.config.targetEntityId,n,this.entity,this.instance),t.getEntityInstance(this.config.targetEntityId,n),this.rows[e].forEach(function(e){return e.updateSubmit(t)})}}},e.prototype.getTemplateControls=function(){return this.config.templateControl.controls},e.prototype._createRow=function(t){null==t&&(t=this.screen.generateEntityInstance(this.config.targetEntityId,this.config.instanceNamePrefix,this.config.instanceIndex,this.entity,this.instance)),this.instances.push(t);var e=this._buildRow(t);this.rows.push(e)},e.prototype.addNewRow=function(){this._createRow(),this.screen.updateState(),this.screen.session.setDirty(!0)},e.prototype.removeRow=function(t){this.screen.removeEntityInstance(this.config.targetEntityId,this.instances[t]),this.rows.splice(t,1),this.instances.splice(t,1),this.screen.updateState(),this.screen.session.setDirty(!0)},e}(O);e.ScreenEntityCollect=D;var M=function(t){function e(){t.apply(this,arguments)}return i(e,t),e}(c);e.ScreenUnsupported=M},function(t,e){"use strict";var n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=function(){function t(t){this._source=t,this.entity=t.entity,this.instance=t.instance,this.id=t.getId()}return t.prototype.getCaption=function(){return this._source.getCaption()},t.prototype.getProperty=function(t){return this._source.getProperty(t)},t.prototype.setError=function(t){this._source.setError(t)},t.prototype.isVisible=function(){return this._source.isVisible()},t.prototype.isReadOnly=function(){return this._source.isReadOnly()},t.prototype.isMandatory=function(){return this._source.isMandatory()},t.prototype.isOptional=function(){return this._source.isOptional()},t.prototype.getWidth=function(){return this._source.getWidth()+30},t}();e.ControlInterface=i;var o=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.getTextStyle=function(){return this._source.getTextStyle()},e.prototype.getControlType=function(){return this._source.getControlType()},e.prototype.getContent=function(){return this._source.getContent()},e}(i);e.LabelControlInterface=o;var r=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.isHorizontal=function(){return this._source.isHorizontal()},e.prototype.getControls=function(){return this._source.getControls().map(function(t){return t.getPublicInterface()})},e}(i);e.ContainerControlInterface=r;var s=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.getRows=function(){return this._source.getRows().map(function(t){return t.map(function(t){return t.getPublicInterface()})})},e}(i);e.EntityContainerControlInterface=s;var a=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.getRows=function(){return this._source.getRows().map(function(t){return t.map(function(t){return t.getPublicInterface()})})},e.prototype.getDefaultBlankInstances=function(){return this._source.getDefaultBlankInstances()},e.prototype.showButtons=function(){return this._source.showButtons()},e.prototype.getAddButtonText=function(){return this._source.getAddButtonText()},e.prototype.getRemoveButtonText=function(){return this._source.getRemoveButtonText()},e.prototype.isMaxOneInstance=function(){return this._source.isMaxOneInstance()},e.prototype.addNewRow=function(){this._source.addNewRow()},e.prototype.removeRow=function(t){this._source.removeRow(t)},e}(i);e.EntityCollectControlInterface=a;var l=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.getValue=function(){return this._source.getValue()},e.prototype.setValue=function(t){this._source.setValue(t)},e.prototype.getControlType=function(){return this._source.getControlType()},e.prototype.getDataType=function(){return this._source.getDataType()},e.prototype.getOptions=function(){return this._source.getOptions()},e}(i);e.InputControlInterface=l},function(t,e){"use strict";var n=function(){function t(){"geolocation"in navigator?(this.locationSupported=!0,navigator.geolocation.getCurrentPosition(this.onSuccess.bind(this),this.onError.bind(this))):this.locationSupported=!1,this.position=[null,null]}return t.prototype.onSuccess=function(e){this.position=[e.coords.latitude,e.coords.longitude],t.sessions.forEach(function(t){return t.geoLocationUpdated()})},t.prototype.onError=function(){},t.wantsCurrentPosition=function(e){null==t.instance&&(t.instance=new t),t.sessions.push(e)},t.getCurrentPosition=function(){return null==t.instance?[null,null]:[t.instance.position[0],t.instance.position[1]]},t.sessions=[],t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";var i=n(28),o=n(3),r=function(){function t(t,e){var n=this;this.config=e,this.session=t,this.values=[],this.evByVal=new Map,this.enumUncertainOpt,this._hasImages=!1,e.values.forEach(function(t){var e=new i.default(n,t);n.values.push(e),n.evByVal.set(e.getValue(),e),e.isUncertainVal()&&(n.enumUncertainOpt=e),t.uncheckedSource&&(n._hasImages=!0)}),this.filterValsCache=new Map}return t.prototype.getName=function(){return this.config.name},t.prototype.getDataType=function(){return this.config.dataType},t.prototype.hasImages=function(){return this._hasImages},t.prototype.getChildEnumertion=function(){return"string"==typeof this.config.childName?this.session.getEnumeration(this.config.childName):null},t.prototype.getAllValues=function(){return this.values},t.prototype.getEnumValue=function(t){return null===t?this.enumUncertainOpt:this.evByVal.get(t)},t.prototype.getFilteredValues=function(t,e){var n=this.filterValsCache.get(t);if(n||(n=new Map,this.filterValsCache.set(t,n)),n.has(e))return n.get(e);for(var i=this.session.getEnumeration(t),r=[i];i.getChildEnumertion().getName()!=this.config.name;)r.push(i.getChildEnumertion()),i=i.getChildEnumertion();for(var s=null===e||void 0===e?null:e,a=[s],l=function(t){var e=[],n=r[t];a.forEach(function(t){var i=n.getEnumValue(t);e=e.concat(i.getChildValues())}),a=e},u=0;u<r.length;++u)l(u);var c=this.values.filter(function(t){return t.isUncertainVal()||o.arrayIncludes(a,t.getValue())});return n.set(s,c),c},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e){"use strict";var n=function(){function t(t,e){this.config=e,this.ownerEnum=t}return t.prototype.getValue=function(){return this.isUncertainVal()?null:this.config.value},t.prototype.getRawDescription=function(){return this.config.rawDescription},t.prototype.getNodeDepth=function(){return this.config.nodeDepth},t.prototype.getChildValues=function(){return this.config.childValues?this.config.childValues:[]},t.prototype.getOwnerEnumeration=function(){return this.ownerEnum},t.prototype.getCheckedImageSource=function(){return this.config.checkedSource?this.config.checkedSource:null},t.prototype.getUncheckedImageSource=function(){return this.config.uncheckedSource?this.config.uncheckedSource:null},t.prototype.isUncertainVal=function(){return this.config.value&&"<uncertain>"===this.config.value.dataType},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";var n=function(){function t(){}return t.initialise=function(e,n){t.isInitialised||(t.isInitialised=!0,function(t){var e,n,i=document.createElement("iframe"),o=document.getElementsByTagName("script");i.src="javascript:false",i.title="",i.role="presentation",(i.frameElement||i).style.cssText="width:0;height:0;border:0",o=o[o.length-1],o.parentNode.insertBefore(i,o);try{e=i.contentWindow.document}catch(t){n=document.domain,i.src="javascript:var d=document.open();d.domain='"+n+"';void(0);",e=i.contentWindow.document}e.open()._l=function(){for(var e;t.length;)e=this.createElement("script"),n&&(this.domain=n),e.src=t.pop(),this.body.appendChild(e)},e.write('<body onload="document._l();">'),e.close()}([e,n]))},t.log=function(t){window._rnq=window._rnq||[],_rnq.push(t)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e){"use strict";var n=function(){function t(t){this._session=t,this.deploymentName=t.getInterviewProperty("rulebase",""),this.locale=t.getInterviewProperty("locale",""),this.resourcePath=t.getResourceBasePath()}return t.prototype.restart=function(){this._session.restart()},t.prototype.submit=function(){this._session.submit()},t.prototype.saveData=function(){this._session.postData()},t.prototype.navigate=function(t){this._session.navigate(t)},t.prototype.getNavigation=function(){return this._session.screen.getNavigation()},t.prototype.getScreens=function(){return this.getNavigation().screens},t.prototype.getStages=function(){return this.getNavigation().stages},t.prototype.update=function(){this._session.getScreen().updateState()},t.prototype.setInputValue=function(t,e,n,i){var o=null!=n?n:"global",r=null!=i?i:"global";this._session.getScreen().setAnswer(o,r,t,e),this._session.getScreen().clearInputWorkingState(o,r,t,e),this._session.getScreen().updateState()},t.prototype.getValue=function(t,e,n){var i=null!=e?e:"global",o=null!=n?n:"global";return this._session.getScreen().getValue(i,o,t)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=n(10),a=n(16),l=n(32),u=n(22),c=n(13),p=n(3),h=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){for(var t=this.context.interview.getSession(),e=t.getStyle(),n=this.context.interview.getScreen(),i="T"==t.getButtonPosition().substring(0,1),r=t.screen.getNavigation(),h=null,d=t.isRTL()?{marginRight:6}:{marginLeft:6},f=r.screens,g=0,m=0;m<f.length;m++){var y=r.screens[m];y.isCurrent&&(h=y,g=m)}var v,b=(t.getStagesTheme(),[]),w=this.context.interview.getContentWidth()<=480;if(!t.isAugust2016Editor()&&r.stages.length>1&&r.multipleScreens&&!u.default.screenPopupNotRequired(t)&&t.showScreenList()){var x=f.indexOf(h),S=void 0;S=this.context.interview.getSession().allowRandomAccess()?t.getMessage("screens-caption-multiple").replace("{0}",x+1).replace("{1}",f.length):t.getMessage("screens-caption-single").replace("{0}",x+1),v=o.default.createElement(l.default,{key:"popup",rightAlign:!w,options:f,defaultOption:g,caption:S})}if(i){var C=null!=v&&w;b.push(o.default.createElement(s.default,{compact:C,key:"back",spacingStyle:d}),o.default.createElement(a.default,{compact:C,key:"submit",spacingStyle:d}))}var E={display:"flex",flexWrap:"nowrap",alignItems:"baseline",flex:"0 0 auto"},I={display:"flex",flexWrap:"nowrap",alignItems:"baseline"};w&&(I.display="block");var T=this.context.interview.getRestyle("screenTitleBlock"),O=this.context.interview.getRestyle("screenTitle"),k="opa-screen-title-block";null!=T&&null!=T.className?k=T.className:p.objectAssign(I,{paddingLeft:10,paddingRight:10,paddingTop:"0.5em"}),null!=T&&p.objectAssign(I,T.style);var D,M="opa-screen-title";return null!=O&&null!=O.className?(D={},M=O.className):D=p.objectAssign({margin:0},e.screenTitle,this.defaultAuthorStyle()),null!=O&&p.objectAssign(D,O.style),o.default.createElement("div",{className:k,style:I},o.default.createElement("div",{style:{flexGrow:1}},o.default.createElement("h1",{ref:"title",className:M,style:D},this.props.showNavigation?o.default.createElement(c.HamburgerButton,{onClick:this.props.showNavigation}):null,o.default.createElement("span",{innerHTML:n.getTitle()}))),o.default.createElement("div",{style:E},v,b))},e.prototype.getAuthorPart=function(){return"Title"},e.prototype.getCaptionElement=function(){return this.refs.title},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(13),s=n(3),a=n(23),l=n(20),u=function(t){function e(e){t.call(this,e),this.dropdown=!1}return i(e,t),e.prototype.onFocus=function(){this.stillHasFocus(),this.focus=!0,this.updateDefer()},e.prototype.onBlur=function(){this.losingFocus(),this.focus=!1,this.updateDefer()},e.prototype.onClick=function(t){t.preventDefault(),this.dropdown?this.closePopup():this.showPopup()},e.prototype.controlLostFocus=function(){delete this._lostFocusTimer,this.dropdown&&this.closePopup()},e.prototype.losingFocus=function(){void 0!==this._lostFocusTimer&&clearTimeout(this._lostFocusTimer),this._lostFocusTimer=setTimeout(this.controlLostFocus.bind(this),50)},e.prototype.stillHasFocus=function(){void 0!==this._lostFocusTimer&&(clearTimeout(this._lostFocusTimer),delete this._lostFocusTimer)},e.prototype.onKeyDown=function(t){38==t.keyCode?t.preventDefault():40==t.keyCode?(this.showPopup(),t.preventDefault()):27==t.keyCode&&(this.closePopup(),t.preventDefault())},e.prototype.showPopup=function(){this.dropdown=!0,this.update(),this.refs.widget.moveFocus(this.props.defaultOption)},e.prototype.closePopup=function(){this.dropdown=!1,this.update(),this.refs.link.focus()},e.prototype.render=function(){var t=this.context.interview.getSession().getStyle(),e={display:"inline-block",outline:"solid 1px #727780",position:"relative",color:"inherit"};this.focus&&s.objectAssign(e,t.focus);var n={display:"inline-block",padding:this.context.interview.getSession().isRTL()?"0.4em 0.8em 0.4em 2.4em":"0.4em 2.4em 0.4em 0.8em",whiteSpace:"nowrap"};s.objectAssign(e,t.screenPopup);var i="dropdownWidg";return o.default.createElement("div",{style:{position:"relative"}},o.default.createElement("a",{"aria-haspopup":"true","aria-expanded":this.dropdown,"aria-owns":this.dropdown?i:null,"aria-controls":this.dropdown?i:null,ref:"link",href:"#",style:e,onKeyDown:"onKeyDown",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick"},o.default.createElement("div",{style:n},this.props.caption),o.default.createElement(r.OPMDownIcon,{className:"opa-dropdown-widget"})),this.dropdown?o.default.createElement(h,{id:i,ref:"widget",rightAlign:this.props.rightAlign,control:this,closePopup:this.closePopup.bind(this),options:this.props.options}):null)},e.getAuthorScreens=function(t,e,n){for(var i=[],r=!1,a=0;a<t.length;a++){var u=t[a];if(null!=u.icon){r=!0;break}}for(var h=function(a){var u=t[a],h=l.default.getScreenTextStyle(e,u.state),d=void 0,f=void 0;f="active"==u.state?e.completeScreenColor:"complete"==u.state?e.completeScreenColor:e.incompleteScreenColor;var g={width:32,color:"white",flexShrink:0,textAlign:"center",paddingTop:"0.5em",paddingBottom:"0.5em",backgroundColor:f};r&&(d=u.icon?o.default.createElement("div",{style:g},u.icon):o.default.createElement("div",{style:g}));var m={cursor:"pointer"};i.push(o.default.createElement("div",{onClick:function(t){return n(t,a)},style:s.objectAssign({},c,h,m)},d,o.default.createElement("div",{style:p},u.caption)))},a=0;a<t.length;a++)h(a);return i},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var c={display:"flex",alignItems:"stretch",minHeight:"2em",color:"black",textDecoration:"none"},p={padding:8,overflowX:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},h=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.ScreenPopupWidget=function(){},e.prototype.moveFocus=function(t){t<0&&(t=this.props.options.length-1),t<this.props.options.length?this.refs["row"+t].focus():this.refs.row0.focus()},e.prototype.closePopup=function(){this.props.closePopup()},e.prototype.render=function(){var t=this,e={color:"black",zIndex:1e3,position:"absolute",outline:"rgb(114, 119, 128) solid 1px",backgroundColor:"white",marginTop:1};return this.props.rightAlign&&(e.right=0),o.default.createElement("div",{id:this.props.id,style:e,role:"menu"},this.props.options.map(function(e,n){return o.default.createElement(d,{ref:"row"+n,control:t.props.control,screen:e,widget:t,key:n,idx:n,caption:e.text})}))},e}(o.default.Component),d=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onClick=function(t){var e=this.props.screen;!e.isCurrent&&e.investigateUri&&(this.context.interview.navigate(e.investigateUri),this.props.widget.closePopup()),t.preventDefault()},e.prototype.focus=function(){o.default.getDOM(this).focus()},e.prototype.onFocus=function(){this.setState({focus:!0}),this.props.control.stillHasFocus()},e.prototype.onBlur=function(){this.setState({focus:!1}),this.props.control.losingFocus()},e.prototype.onMouseDown=function(t){t.preventDefault(),this.onClick(t)},e.prototype.onKeyDown=function(t){38==t.keyCode?(this.props.widget.moveFocus(this.props.idx-1),t.preventDefault()):40==t.keyCode?(this.props.widget.moveFocus(this.props.idx+1),t.preventDefault()):27==t.keyCode&&(this.props.widget.closePopup(),t.preventDefault())},e.prototype.render=function(){var t,e=(this.props.idx,this.props.screen),n=this.context.interview.getSession(),i=n.getStyle(),r=null==e.investigateUri,u={width:32,color:"white",flexShrink:0,textAlign:"center",paddingTop:"0.5em",paddingBottom:"0.5em"},h=e.icon,d=l.default.getScreenTextStyle(i,e.state);d=e.isCurrent?i.activeScreen:e.isComplete?i.completeScreen:i.incompleteScreen;var f=a.default.getClassName(e);n.showScreenIcons()&&(t=h?o.default.createElement("div",{style:s.objectAssign({},u)},h):o.default.createElement("div",{style:s.objectAssign({},u)}));var g=c;return this.state&&this.state.focus&&(g=s.objectAssign({},g,this.context.interview.getSession().getStyle().focus)),o.default.createElement("a",{role:"menuitem",href:"#","aria-disabled":r,"aria-label":e.title,title:e.title,className:f,onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onKeyDown:"onKeyDown",onMouseDown:"onMouseDown",style:s.objectAssign({},g,d)},t,o.default.createElement("div",{style:p,innerHTML:e.caption}))},e}(o.default.Component)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(34),s=n(35),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.context.interview.getScreen(),e=this.context.interview.getSession(),n=e.getStyle(),i={backgroundColor:n.exitFooterFillColor,padding:"0.5em",borderTop:"solid 1px "+n.exitFooterTopColor},a={marginRight:6};return t.hasRestart()||t.hasExit()||e.isAuthoring()&&(e.config.screen.authoringIncludeRestart||e.config.screen.authoringIncludeExit)?o.default.createElement("div",{style:i},o.default.createElement(s.default,{style:a}),o.default.createElement(r.default,{style:a})):null},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(11),a=n(15),l=n(14),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onClick=function(t){var e=this.context.interview.getSession();this.context.interview.getScreen();t.preventDefault(),t.stopPropagation(),
e.exit()},e.prototype.render=function(){var t=this.context.interview.getSession(),e=this.context.interview.getSession().getStyle(),n=this.context.interview.getScreen(),i=r.objectAssign({},a.default.buttonStyle,e.exit,this.props.style,this.defaultAuthorStyle());return n.hasExit()?o.default.createElement(l.default,{style:i,restyleKey:"exitButton",className:"opa-submit",hideMouseFocus:!0,type:"button",onClick:this.onClick.bind(this),innerHTML:n.getExitCaption()}):t.isAuthoring()&&t.config.screen.authoringIncludeExit?o.default.createElement("div",{style:this.defaultAuthorStyle(),className:"opa-missing-button"},"No Exit Button"):o.default.createElement("span",{style:{display:"none"}})},e.prototype.getAuthorPart=function(){return"ExitButton"},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(17),s=n(11),a=n(18),l=n(3),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.submit=function(t){t.preventDefault(),t.stopPropagation(),this.context.interview.getSession().restart()},e.prototype.render=function(){var t=this.context.interview.getSession(),e=this.context.interview.getSession().getStyle(),n=this.context.interview.getScreen();return n.hasRestart()?o.default.createElement(a.default,{type:"submit",restyleKey:"restartButton",style:l.objectAssign({},this.defaultAuthorStyle(e.restart),this.props.style),hideMouseFocus:!0,className:"opa-submit",onClick:this.submit.bind(this),value:r.decodeHTML(n.getRestartCaption())}):t.isAuthoring()&&t.config.screen.authoringIncludeRestart?o.default.createElement("div",{style:l.objectAssign({},this.defaultAuthorStyle(),this.props.style),className:"opa-missing-button"},"No Restart Button"):o.default.createElement("span",{style:{display:"none"}})},e.prototype.getAuthorPart=function(){return"RestartButton"},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){this.context.interview.customHeaderHandler&&this.context.interview.customHeaderHandler.mount&&this.context.interview.customHeaderHandler.mount(o.default.getDOM(this))},e.prototype.componentDidUpdate=function(){this.context.interview.customHeaderHandler&&this.context.interview.customHeaderHandler.update&&this.context.interview.customHeaderHandler.update(o.default.getDOM(this))},e.prototype.componentWillUnmount=function(){this.context.interview.customHeaderHandler&&this.context.interview.customHeaderHandler.unmount&&this.context.interview.customHeaderHandler.unmount(o.default.getDOM(this))},e.prototype.render=function(){if(this.context.interview.customHeaderHandler)return o.default.createElement("header",{role:"banner"});var t,e,n=this.context.interview.session,i=n.getStyle(),s=this.props.restyle;null!=s&&null!=s.className?(t=s.className,e={}):(t="opa-header-block",e=r.objectAssign({display:"flex",width:"100%",flexShrink:0,alignItems:"center"},i.header)),null!=s&&r.objectAssign(e,r.whiteListStyles(s.style));var a;window.OraclePolicyAutomation.Mobile?this.resourceUri?a=this.resourceUri:(a="",n.getHeaderImage()&&getResourceImage(n.getHeaderImage(),this.setResourceUri.bind(this))):a=n.getHeaderImage();var l,u=n.getHeaderLink();return n.getHeaderImage()&&(l=o.default.createElement("img",{alt:n.getHeaderAlt(),style:{width:"100%",display:"block"},className:"opa-header-image",src:a}),u&&(l=o.default.createElement("a",{href:u},l))),o.default.createElement("header",{role:"banner",className:t,style:e},l?o.default.createElement("div",null,l):null,n.getHeaderTitle()?o.default.createElement("div",{className:"opa-header-title",innerHTML:n.getHeaderTitle()}):null)},e.prototype.setResourceUri=function(t){this.resourceUri=t,this.update()},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){this.context.interview.customFooterHandler&&this.context.interview.customFooterHandler.mount&&this.context.interview.customFooterHandler.mount(o.default.getDOM(this))},e.prototype.componentDidUpdate=function(){this.context.interview.customFooterHandler&&this.context.interview.customFooterHandler.update&&this.context.interview.customFooterHandler.update(o.default.getDOM(this))},e.prototype.componentWillUnmount=function(){this.context.interview.customFooterHandler&&this.context.interview.customFooterHandler.unmount&&this.context.interview.customFooterHandler.unmount(o.default.getDOM(this))},e.prototype.render=function(){if(this.context.interview.customFooterHandler)return o.default.createElement("div",null);var t,e,n=this.context.interview.getSession(),i=n.getStyle(),s=this.props.restyle;return null!=s&&null!=s.className?(t=s.className,e={}):(t="opa-footer",e=r.objectAssign({display:"flex",flexShrink:0,justifyContent:"space-between",padding:"0.5em"},i.footer)),null!=s&&r.objectAssign(e,r.whiteListStyles(s.style)),o.default.createElement("div",{className:t,style:e},o.default.createElement("div",{className:"opa-footer-left",innerHTML:n.getFooterLeftText()}),o.default.createElement("div",{className:"opa-footer-right",innerHTML:n.getFooterRightText()}))},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(39),s=n(13),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onAction=function(){this.context.interview.session.deferSessionExpire()},e.prototype.render=function(){var t=this.context.interview.getScreen();return o.default.createElement(r.default,{modal:!0,onAction:this.onAction.bind(this),style:{background:"#d98540"},icon:s.ClockIcon,header:t.getTimeoutWarningHeader(),message:t.getTimeoutWarningMessage(),action:t.getTimeoutWarningButtonCaption()})},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(15),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onAction=function(t){t.preventDefault(),this.props.onAction&&this.props.onAction()},e.prototype.onCancel=function(t){t.preventDefault(),this.props.onCancel&&this.props.onCancel()},e.prototype.onKeyDown=function(t){this.props.modal&&9==t.which&&(this.refs.action&&this.refs.cancel&&(this.refs.action.ownerDocument.activeElement===this.refs.action?this.refs.cancel.focus():this.refs.action.focus()),t.preventDefault())},e.prototype.componentDidMount=function(){this.props.modal&&(this.refs.action?this.refs.action.focus():this.refs.cancel?this.refs.cancel.focus():this.refs.container.focus())},e.prototype.render=function(){var t,e=r.objectAssign({position:"absolute",zIndex:100,color:"white",left:20,right:20,top:40,padding:"10px 20px",fontSize:14},this.props.style),n=r.objectAssign({},{display:"flex",alignItems:"center"}),i=r.objectAssign({},s.default.buttonStyle,{color:"inherit",backgroundColor:e.background,border:"solid 1px white",marginLeft:"3px",borderRadius:0,whiteSpace:"nowrap",cursor:"pointer",padding:"0.7em 1.2em",appearance:"none","-webkit-appearance":"none"}),a={fontSize:"larger",fontWeight:"bold"},l={position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:"#000",zIndex:99,opacity:.1};this.props.onAction||(t=-1);var u,c=this.props.onAction?o.default.createElement("button",{ref:"action",style:i,onClick:this.onAction.bind(this)},this.props.action):null,p=this.props.onCancel?o.default.createElement("button",{ref:"cancel",style:i,onclick:this.onCancel.bind(this)},this.props.cancel):null,h=o.default.el(this.props.icon,{style:{width:40,height:40,paddingRight:10,flexShrink:0},color:e.color});return u=null!==c&&null!==p?o.default.createElement("div",{style:e},o.default.createElement("div",{style:n},h,o.default.createElement("div",{style:{padding:10,flexGrow:1}},o.default.createElement("div",{style:a},this.props.header),o.default.createElement("div",null,this.props.message))),o.default.createElement("div",{style:{float:"right"}},c,p)):o.default.createElement("div",{style:r.objectAssign({},e,n)},h,o.default.createElement("div",{style:{padding:10,flexGrow:1}},o.default.createElement("div",{style:a},this.props.header),o.default.createElement("div",null,this.props.message)),null!==c?c:p),o.default.createElement("div",{ref:"container",role:"alert",tabindex:t,onKeyDown:this.onKeyDown.bind(this)},this.props.modal?o.default.createElement("div",{style:l}):null,u)},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(39),s=n(13),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onAction=function(){var t=this.context.interview.getScreen(),e=(t.config.screen.entityInstanceId,t.session.getExitURL());this.context.interview.sessionUpdated("redirect",{location:e})},e.prototype.render=function(){var t=this.context.interview.getScreen();return null!==t.session.getExitURL()?o.default.createElement("div",null,o.default.createElement(r.default,{modal:!0,onAction:this.onAction.bind(this),style:{background:"#c24839"},icon:s.OPMAttentionIcon,header:t.getSessionExpireHeader(),message:t.getSessionExpireMessage(),action:t.getSessionExpireButtonCaption()})):o.default.createElement("div",null,o.default.createElement(r.default,{modal:!0,style:{background:"#c24839"},icon:s.OPMAttentionIcon,header:t.getSessionExpireHeader(),message:t.getSessionExpireMessage()}))},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(39),s=n(13),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onAction=function(){var t=this.context.interview.getSession();t.doNavigate(t.getPendingNavigateUri(),!0,!0)},e.prototype.onCancel=function(){this.context.interview.getSession().clearPendingNavigateUri(),this.context.interview.sessionUpdated("update",{})},e.prototype.render=function(){var t=this.context.interview.getSession();return o.default.createElement("div",null,o.default.createElement(r.default,{modal:!0,onAction:this.onAction.bind(this),action:t.getMessage("confirm-navigate-ok-button-text"),onCancel:this.onCancel.bind(this),cancel:t.getMessage("confirm-navigate-cancel-button-text"),header:t.getMessage("confirm-navigate-header-text"),message:t.getMessage("confirm-navigate-message-text"),style:{background:"#c24839"},icon:s.OPMAttentionIcon}))},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(43),r=n(11),s=n(3),a=function(t){function e(e){t.call(this,e),this.state={},this.errorState=new o.default,this.editValue=null,this.selectedValue=null}return i(e,t),e.prototype.onFocus=function(){this.hasFocus=!0,this.hasFocusFromKeyboard=this.context.interview.recentKeyDown,this.updateDefer()},e.prototype.onBlur=function(){this.commitValue(!0),this.hasFocus=!1,this.hasFocusFromKeyboard=!1,this.handleFocusLeave()},e.prototype.handleFocusLeave=function(){var t=this.context.interview.getSession();t.isAuthoring()||(this.errorState.setError(this.getErrorState(),1),this.updateDefer())},e.prototype.setTextValue=function(t){this.editValue=t,this.commitValue(!1),this.hasFocusFromKeyboard=this.context.interview.recentKeyDown},e.prototype.onChange=function(t){this.editValue=t.target.value,this.commitValue(!1),this.hasFocusFromKeyboard=this.context.interview.recentKeyDown},e.prototype.onSelectValue=function(t){var e=this.control;if(null!=e.customOptionsHandler&&e.customOptionsHandler.commit){for(var n=e.customOptionsHandler.options(),i=!1,o=0;o<n.length;o++)if(n[o].value===t){e.customOptionsHandler.commit(n[o]),i=!0;break}i||e.customOptionsHandler.commit(null)}this.selectedValue=t,null==t?this.setCurrentValue(t):this.commitValue(!1),this.hasFocusFromKeyboard=this.hasFocusFromKeyboard||this.context.interview.recentKeyDown},e.prototype.commitValue=function(t){if(this.isSelectionControl()&&null!==this.selectedValue||!this.isSelectionControl()&&null!==this.editValue){var e=this.isSelectionControl()?this.selectedValue:this.control.parse(this.editValue);null!=e&&this.control.checkInputRestriction(e)?(this.setCurrentValue(e),t&&(this.editValue=null,this.selectedValue=null)):this.setCurrentValue(null)}},e.prototype.clearWorkingState=function(){this.editValue=null,this.errorState.setError(null,0)},e.prototype.isSelectionControl=function(){return!1},e.prototype.setCurrentValue=function(t){this.control.setValue(t),this.errorState.setError(this.getErrorState(),0),this.updateDefer()},e.prototype.getDisplayValue=function(){return this.isSelectionControl()?null==this.selectedValue?this.control.getValue():this.selectedValue:null==this.editValue?this.control.getValue():this.editValue},e.prototype.getErrorState=function(){var t=this.context.interview.getSession();if(t.isAuthoring())return null;var e=this.control,n=e.getValue();if(this.isSelectionControl()){if(null!=this.selectedValue&&this.selectedValue!=n||null!=n&&!e.checkInputRestriction(n))return{message:e.getInvalidValueMessage(),cause:"validation"};if(e.isMandatory()&&(null==n||""===n))return{message:this.context.interview.getSession().getMessage("MissingValueError"),cause:"mandatory"}}else{if(null!=this.editValue&&""!==this.editValue&&!e.checkInputRestriction(e.parse(this.editValue))||null!=n&&!e.checkInputRestriction(n))return{message:e.getInvalidValueMessage(),cause:"validation"};if(null!==this.editValue&&""!==this.editValue&&null==n){if("date"===e.getDataType()||"datetime"==e.getDataType()){var i=e;if(i.isWellFormed(this.editValue))return{message:i.getInvalidDateMessage(),cause:"validation"}}return{message:e.getInvalidFormatMessage(),cause:"validation"}}if(e.isMandatory()&&(null==n||""===n))return{message:t.getMessage("MissingValueError"),cause:"mandatory"}}return null},e.prototype.validateControl=function(t){var e=this.context.interview.getSession(),n=e.isAuthoring()?null:this.getErrorState();return this.errorState.setError(n,t),null==n},e.prototype.getFocusStyle=function(){return this.context.interview.getSession().getStyle().focus},e.prototype.getQuestionDecoration=function(){var t=(this.control,this.getErrorDecoration());return t?t:this.getMandatoryDecoration()},e.prototype.getErrorDecoration=function(){return this.errorState.hasError()?r.default.getErrorIcon(this,this.errorState.getErrorMessage()):null},e.prototype.getAriaTags=function(){var e=this.getCurrentError(),n=e[0],i=(e[1],t.prototype.getAriaTags.call(this));return n&&(i["aria-invalid"]="true",i["aria-describedby"]=this.getErrorId()),i},e.prototype.getErrorId=function(){return"opa-err"+this.uniqueID()},e.prototype.hasError=function(){var t=this.getCurrentError(),e=t[0];t[1];return null!=e},e.prototype.getStandardRestyle=function(t,e,n){var i=this.getRestyle(t);if(null!=i&&null!=i.className){var o=s.objectAssign({},n,s.whiteListStyles(i.style)),r=i.className;return this.hasError()&&(s.objectAssign(o,s.whiteListStyles(i.errorStyle)),null!=i.errorClassName&&(r+=" "+i.errorClassName)),{fullRestyle:!0,className:r,style:o}}var o=s.objectAssign({},e);return this.hasFocus&&s.objectAssign(o,this.getFocusStyle()),null!=i&&(s.objectAssign(o,s.whiteListStyles(i.style)),this.hasError()&&s.objectAssign(o,s.whiteListStyles(i.errorStyle))),{fullRestyle:!1,style:o,className:null}},e.prototype.getCurrentError=function(){var t,e;return null!=this.errorState&&this.errorState.getErrorMessage()&&(t=this.errorState.getErrorMessage(),e=this.errorState.getErrorEmphasis()),null!=this.state.error?(t=this.state.error,e=2):null!=this.control.getError()&&(t=this.control.getError().message,e=2),[t,e]},e.prototype.getErrorPanel=function(){var t=this.getCurrentError(),e=t[0],n=t[1];return e?this.buildErrorPanel(e,n,this.getErrorId()):null},e.prototype.getControlItemClassName=function(){return this.hasError()?"opa-control-item opa-control-item-error":"opa-control-item"},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e){"use strict";var n=function(){function t(t){this.control=t,this.currentErrorMessage=null,this.currentErrorCause=null,this.currentErrorEmphasis=0}return t.prototype.getErrorMessage=function(){return this.currentErrorMessage},t.prototype.getErrorEmphasis=function(){return this.currentErrorEmphasis},t.prototype.setError=function(t,e){return null==t?(this.currentErrorMessage=null,this.currentErrorCause=null,void(this.currentErrorEmphasis=0)):e>=1?void(this.currentErrorCause==t.cause&&this.currentErrorMessage==t.message?this.currentErrorEmphasis=Math.max(e,this.currentErrorEmphasis):(this.currentErrorMessage=t.message,this.currentErrorCause=t.cause,this.currentErrorEmphasis=e)):void(this.currentErrorCause!==t.cause&&(this.currentErrorMessage=null,this.currentErrorCause=null,this.currentErrorEmphasis=0))},t.prototype.hasError=function(){return null!=this.currentErrorMessage},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";var i,o,r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},s=n(2),a=[],l=function(t){function e(e){t.call(this,e),i=this}return r(e,t),e.prototype.componentDidUpdate=function(){var t=s.default.getDOM(this);t.scrollTop=t.scrollHeight},e.prototype.render=function(){var t={position:"fixed",fontSize:"10px",backgroundColor:"#fdd",color:"black",border:"solid 1px red",zIndex:5,left:0,right:0,bottom:0,height:"12em",display:"block",overflow:"auto",padding:"0.5em",opacity:.9},e={position:"absolute",top:0,right:0},n={margin:"0.5em"};return 0==a.length&&(t.display="none"),s.default.createElement("div",{style:t},a.map(function(t){return s.default.createElement("pre",{style:n},s.default.createElement("code",null,t))}),s.default.createElement("button",{style:e,onClick:"onClear"},"Clear"))},e.prototype.onClear=function(t){t.preventDefault(),a=[],this.update()},e.isEnabled=function(){return o},e.enableDebugConsole=function(){o=!0,window.onerror=function(t,e,n,o,r){var s,l=e.lastIndexOf("/");return s=l>=0?e.substring(l+1):e,null!=n&&(s+=":"+n),null!=o&&(s+=":"+o),null!=r&&null!=r.stack?a.push(s+" "+t+"\n"+r.stack):a.push(s+" "+t),i&&i.updateDefer(),!0},window.console.log=function(t){a.push(t),i&&i.updateDefer()}},e}(s.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(46),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.context.interview.getScreen();return o.default.createElement("div",null,t.getControls().map(function(t,e){return t.isVisible()?o.default.el(r.default(t),{control:t,key:e},null):null}))},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";function i(t){return"Dropdown"===t.customOptionsHandler.controlType?w.default:"searching-combo"===t.customOptionsHandler.controlType?g.default:"text-button-group"===t.customOptionsHandler.controlType?(t.setControlType(t.customOptionsHandler.controlType),d.default):"Listbox"===t.customOptionsHandler.controlType?c.default:x.default}function o(t){return t instanceof r.ScreenInput&&t.customHandler?t.isFullCustomControl?l.default:a.default:t instanceof r.ScreenLabel?t.customHandler?C.default:"customHTML"===t.getControlType()?I.default:E.default:t instanceof r.ScreenContainer?t.customHandler?O.default:T.default:t instanceof r.ScreenTextInput?"Radiobutton"==t.getControlType()?x.default:"Dropdown"===t.getControlType()?w.default:"Listbox"===t.getControlType()?c.default:"searching-combo"===t.getControlType()?g.default:"text-button-group"===t.getControlType()||"image-button-group"===t.getControlType()||"text-image-button-group"===t.getControlType()?d.default:"text-area"===t.getControlType()?h.default:"slider"===t.getControlType()?F.default:"masked"===t.getControlType()?f.default:t.customOptionsHandler?i(t):t.customSearchHandler?_.default:u.default:t instanceof r.ScreenNumberInput?"Radiobutton"==t.getControlType()?x.default:"Dropdown"===t.getControlType()?w.default:"Listbox"===t.getControlType()?c.default:"searching-combo"===t.getControlType()?g.default:"text-button-group"===t.getControlType()||"image-button-group"===t.getControlType()||"text-image-button-group"===t.getControlType()?d.default:"slider"===t.getControlType()?F.default:"button-group"===t.getControlType()?d.default:t.customOptionsHandler?i(t):s.default:t instanceof r.ScreenDateInput?"Radiobutton"==t.getControlType()?x.default:"Dropdown"===t.getControlType()?w.default:"Listbox"===t.getControlType()?c.default:"searching-combo"===t.getControlType()?g.default:"text-button-group"===t.getControlType()||"image-button-group"===t.getControlType()||"text-image-button-group"===t.getControlType()?d.default:"slider"===t.getControlType()?F.default:t.customOptionsHandler?i(t):"Calendar"===t.getControlType()?v.default:"dmy-inputs"===t.getControlType()?b.default:s.default:t instanceof r.ScreenTimeInput?"Radiobutton"==t.getControlType()?x.default:"Dropdown"===t.getControlType()?w.default:"Listbox"===t.getControlType()?c.default:"searching-combo"===t.getControlType()?g.default:"text-button-group"===t.getControlType()||"image-button-group"===t.getControlType()||"text-image-button-group"===t.getControlType()?d.default:"slider"===t.getControlType()?F.default:t.customOptionsHandler?i(t):"hms-inputs"===t.getControlType()?S.default:s.default:t instanceof r.ScreenDateTimeInput?"Radiobutton"==t.getControlType()?x.default:"Dropdown"===t.getControlType()?w.default:"Listbox"===t.getControlType()?c.default:"searching-combo"===t.getControlType()?g.default:"text-button-group"===t.getControlType()||"image-button-group"===t.getControlType()||"text-image-button-group"===t.getControlType()?d.default:"slider"===t.getControlType()?F.default:t.customOptionsHandler?i(t):"Calendar"===t.getControlType()?U.default:"dmyhms-inputs"===t.getControlType()?W.default:s.default:t instanceof r.ScreenBooleanInput?"Dropdown"===t.getControlType()?w.default:"Listbox"===t.getControlType()?c.default:"searching-combo"===t.getControlType()?g.default:"checkbox"===t.getControlType()?p.default:"switch"===t.getControlType()?y.default:"text-button-group"===t.getControlType()||"image-button-group"===t.getControlType()||"text-image-button-group"===t.getControlType()?d.default:"checkedbutton"===t.getControlType()?m.default:"slider"===t.getControlType()?F.default:x.default:t instanceof r.ScreenExplanation?N.default:t instanceof r.ScreenAttachment?k.default:t instanceof r.ScreenCaptcha?A.default:t instanceof r.ScreenSignature?D.default:t instanceof r.ScreenImage?R.default:t instanceof r.ScreenDocument?M.default:t instanceof r.ScreenReferenceRelationshipInput?j.default:t instanceof r.ScreenEntityCollect?t.customHandler?O.default:"tabular"===t.getDisplayStyle()?L.default:V.default:t instanceof r.ScreenEntityContainer?t.customHandler?O.default:"tabular"==t.getDisplayStyle()?B.default:H.default:P.default}var r=n(24),s=n(47),a=n(49),l=n(50),u=n(51),c=n(52),p=n(54),h=n(56),d=n(57),f=n(59),g=n(60),m=n(62),y=n(63),v=n(64),b=n(66),w=n(68),x=n(70),S=n(72),C=n(73),E=n(74),I=n(75),T=n(76),O=n(77),k=n(78),D=n(79),M=n(80),P=n(81),R=n(82),A=n(83),N=n(84),F=n(86),_=n(87),j=n(88),V=n(89),H=n(91),L=n(92),B=n(93),U=n(94),W=n(95);Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=n(48),l=n(15),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.input.focus(),!0)},e.prototype.controlRender=function(){var t,e=this.control,n="text";t=null!=this.editValue?this.editValue:null!=e.getValue()?e.format(e.getValue()):"";var i=this.getStandardRestyle("textInput",s.objectAssign({maxWidth:this.inputWidth()},l.default.textInputStyle),s.objectAssign({width:"100%",maxWidth:this.inputWidth()}));return i.fullRestyle?r.default.createElement("input",o({ref:"input",id:this.getLabelFor(),style:i.style,readOnly:e.isReadOnly(),type:n,className:i.className,placeholder:e.getHintText(),value:t},this.getAriaTags(),{onChange:this.onChange.bind(this),onFocus:"onFocus",onBlur:"onBlur"})):r.default.createElement("input",o({ref:"input",id:this.getLabelFor(),style:i.style,readOnly:e.isReadOnly(),type:n,placeholder:e.getHintText(),value:t},this.getAriaTags(),{onChange:this.onChange.bind(this),onFocus:"onFocus",onBlur:"onBlur"}))},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=n(42),l=n(15),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getAriaTags=function(){var e=t.prototype.getAriaTags.call(this);return this.props.inTable&&(e["aria-labelledby"]=this.props.inTable.getColumnCaptionId(this.props.inTableColumn)),e},e.prototype.render=function(){var t=this.control,e=this.context.interview.getSession(),n=(e.getStyle(),this.getRestyle("question")),i=n?n.style:t.getSession().getStyle().question,a=n?n.className:null,u=this.getControlStyle(),c=u.style,p=u.className,h=this.getControlItemClassName();if(this.useFieldSet()){var d=s.objectAssign({},this.defaultHorizontalPadding(),i);return this.props.inTable&&(d.display="none"),r.default.createElement("div",{className:h,style:this.defaultItemStyle(this.defaultVerticalPadding())},r.default.createElement("fieldset",o({role:this.getFieldSetRole(),"aria-labelled-by":this.getLabelId()},this.getAriaTags()),r.default.createElement("legend",{ref:"question",id:this.getLabelId(),className:"opa-question",style:d},this.getQuestionTextSpan(a),this.getQuestionDecoration()),r.default.createElement("div",{className:p,style:c},this.controlRender()),this.getErrorPanel(),this.getAuthorText()))}if(this.props.inTable){var f={};return this.state&&this.state.authorSelected&&(f.boxShadow="inset 0 0 0 4px #ccf"),s.objectAssign(f,this.defaultVerticalPadding()),s.objectAssign(c,{flexGrow:1}),r.default.createElement("div",{className:h,style:f},r.default.createElement("label",{style:l.default.screenreader,id:this.getLabelId(),htmlFor:this.getLabelFor(),innerHTML:t.getCaption()}),r.default.createElement("div",{style:{display:"flex",alignItems:"center"}},r.default.createElement("div",{className:p,style:c},this.controlRender()),this.getErrorDecoration()),this.getErrorPanel(),this.getAuthorText())}var g=this.defaultItemStyle(this.defaultVerticalPadding()),m=s.objectAssign({},this.defaultHorizontalPadding(),i);return r.default.createElement("div",{className:h,style:g},r.default.createElement("div",{ref:"question",className:"opa-question",style:m},r.default.createElement("label",{id:this.getLabelId(),htmlFor:this.getLabelFor()},this.getQuestionTextSpan(a)),this.getQuestionDecoration()),r.default.createElement("div",{className:p,style:c},this.controlRender()),this.getErrorPanel(),this.getAuthorText())},e.prototype.getLabelFor=function(){},e.prototype.useFieldSet=function(){return!1},e.prototype.getFieldSetRole=function(){},e.prototype.getCaptionElement=function(){return this.props.inTable?this.props.inTable.getColumnCaptionElement(this.props.inTableColumn):this.refs.question},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(48),s=function(t){function e(e){t.call(this,e),this.mounted=!1,this.customHandler=e.control.customHandler}return i(e,t),e.prototype.componentDidMount=function(){this.handleCustomControlMount(this.refs.el),t.prototype.componentDidMount.call(this)},e.prototype.componentWillUnmount=function(){this.handleCustomControlUnmount(this.refs.el),t.prototype.componentWillUnmount.call(this)},e.prototype.componentDidUpdate=function(){this.handleCustomControlUpdate(this.refs.el),t.prototype.componentDidUpdate.call(this)},e.prototype.controlRender=function(){return o.default.createElement("div",{ref:"el"})},e.prototype.validateControl=function(t){return this.handleCustomControlValidate(this.refs.el,t)},e.prototype.getLabelFor=function(){this.control;if(this.customHandler.labelFor)return this.customHandler.labelFor(this.refs.el)},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(42),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){this.handleCustomControlMount(this.refs.el),t.prototype.componentDidMount.call(this)},e.prototype.componentWillUnmount=function(){this.handleCustomControlUnmount(this.refs.el),t.prototype.componentWillUnmount.call(this)},e.prototype.componentDidUpdate=function(){this.handleCustomControlUpdate(this.refs.el),t.prototype.componentDidUpdate.call(this)},e.prototype.validateControl=function(t){return this.handleCustomControlValidate(this.refs.el,t)},e.prototype.render=function(){var t,e=this.control,n=(e.getSession().getStyle(),e.getError());return null!=n&&(t=this.buildErrorPanel(n.message,2,null)),o.default.createElement("div",null,o.default.createElement("div",{
style:this.defaultHorizontalPadding()},o.default.createElement("div",{ref:"el"})),t)},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=n(48),l=n(15),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.commitValue=function(t){var e=this.control;null!=this.editValue&&(e.checkInputRestriction(this.editValue)?(this.setCurrentValue(this.editValue),t&&(this.editValue=null)):this.setCurrentValue(null))},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.input.focus(),!0)},e.prototype.controlRender=function(){var t=this.control,e="text";"password"===t.getControlType()&&(e="password");var n=this.getStandardRestyle("textInput",s.objectAssign({maxWidth:this.inputWidth()},l.default.textInputStyle),s.objectAssign({width:"100%",maxWidth:this.inputWidth()}));return n.fullRestyle?r.default.createElement("input",o({ref:"input",id:this.getLabelFor(),style:n.style,readOnly:t.isReadOnly(),type:e,className:n.className,placeholder:t.getHintText(),value:this.getDisplayValue(),onFocus:"onFocus",onBlur:"onBlur"},this.getAriaTags(),{onChange:"onChange"})):r.default.createElement("input",o({ref:"input",id:this.getLabelFor(),style:n.style,readOnly:t.isReadOnly(),type:e,placeholder:t.getHintText(),value:this.getDisplayValue(),onFocus:"onFocus",onBlur:"onBlur"},this.getAriaTags(),{onChange:"onChange"}))},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(48),a=n(53),l=n(13),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.isSelectionControl=function(){return!0},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.list&&this.refs.list.focus(),!0)},e.prototype.controlRender=function(){var t=this.control,n=t.getOptions(!0);return null==n?r.default.createElement(l.Spinner,{size:"2em"}):r.default.createElement(a.default,o({ref:"list",value:this.getDisplayValue(),style:{maxWidth:this.inputWidth()},restyle:this.getRestyle("listInput"),hasError:this.hasError(),id:this.getLabelFor(),disabled:t.isReadOnly(),options:e.buildDisplayOptions(n),onBlur:this.onBlur.bind(this),onChange:this.onSelectValue.bind(this)},this.getAriaTags()))},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e.prototype.getHorizontalAlignment=function(){return"flex-start"},e.buildDisplayOptions=function(t){return t.map(function(t){var e;if("number"==typeof t.nodeDepth&&0!==t.nodeDepth){e="";for(var n=0;n<t.nodeDepth;++n)e+="    ";e+=t.text}else e=t.text;return{value:t.value,text:e}})},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onFocus=function(){this.hasFocus=!0,this.update()},e.prototype.onBlur=function(){this.hasFocus=!1,this.props.onBlur&&this.props.onBlur(),this.update()},e.prototype.componentDidMount=function(){this.componentDidUpdate()},e.prototype.componentDidUpdate=function(){var t=this,e=this.props.value,n=!1;this.props.options.forEach(function(i,o){i.value===e&&(t.refs.selector.selectedIndex!=o&&(t.refs.selector.selectedIndex=o),n=!0)}),n||this.refs.selector.selectedIndex==-1||(this.refs.selector.selectedIndex=-1)},e.prototype.onChange=function(t){this.props.onChange(this.getValue())},e.prototype.getFocusStyle=function(){return this.context.interview.getSession().getStyle().focus},e.prototype.getValue=function(){var t=this.refs.selector.selectedIndex;return t==-1?null:this.props.options[t].value},e.prototype.focus=function(){this.refs.selector.focus()},e.prototype.render=function(){var t,e,n=this.props.restyle,i=this.props.options.length>1?this.props.options.length:2;n&&null!=n.className?(t=s.objectAssign({width:"100%"},this.props.style,n.style),e=n.className,this.props.hasError&&(n.errorClassName&&(e+=" "+n.errorClassName),s.objectAssign(t,n.errorStyle))):(t={outline:"1px solid #727780",outlineOffset:"0px",border:0,boxSizing:"border-box",width:"100%",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",fontStyle:"inherit",color:"inherit",verticalAlign:"top"},s.objectAssign(t,this.props.style),this.hasFocus&&s.objectAssign(t,this.getFocusStyle()),null!=n&&(s.objectAssign(t,s.whiteListStyles(n.style)),this.props.hasError&&s.objectAssign(t,s.whiteListStyles(n.errorStyle))));var a=s.objectAssign({},this.props,{options:void 0,children:void 0,restyle:void 0,hasError:void 0});return r.default.createElement("select",o({ref:"selector",className:e},a,{style:t,size:i,onChange:"onChange",onFocus:"onFocus",onBlur:this.onBlur.bind(this)}),this.props.options.map(function(t,e){return r.default.createElement("option",{key:e,innerHTML:t.text})}))},e}(r.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(42),s=n(55),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onChangeCheck=function(t){this.onSelectValue(t.target.checked)},e.prototype.isSelectionControl=function(){return!0},e.prototype.getErrorState=function(){return null},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.check&&this.refs.check.focus(),!0)},e.prototype.render=function(){var t=(this.context.interview.getSession(),this.control),e=t.getValue()===!0,n=t.isReadOnly(),i="opmlbl"+this.uniqueID(),r={"aria-labelledby":i,"aria-required":t.isMandatory(),"aria-disabled":t.isReadOnly(),"aria-describedby":"opmerr"+this.uniqueID()},a="opmCtl"+this.uniqueID(),l=this.getRestyle("checkboxInput"),u=this.getRestyle("question"),c=this.getControlStyle(),p=c.style,h=c.className;return this.props.inTable?o.default.createElement("div",{className:"opa-control-item",style:this.defaultAuthorStyle(this.defaultVerticalPadding())},o.default.createElement("div",{className:h,style:p},o.default.createElement(s.default,{ref:"check",id:a,restyle:l,questionRestyle:u,readOnly:n,checked:e,onChange:this.onChangeCheck.bind(this),hideCaption:!0,caption:this.control.getCaption(),inputTags:r})),this.getAuthorText()):o.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle(this.defaultVerticalPadding())},o.default.createElement("div",{className:h,style:p},o.default.createElement(s.default,{ref:"check",id:a,restyle:l,questionRestyle:u,readOnly:n,checked:e,onChange:this.onChangeCheck.bind(this),caption:this.control.getCaption(),inputTags:r})),this.getAuthorText())},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=n(15),l=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.context.interview.getSession().getStyle(),e=this.props.restyle,n={focusable:"false",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:"opa-radio",style:{width:"1.5em",height:"1.5em",position:"absolute"}};this.props.focus&&(e?n.style.outline="2px solid Highlight":s.objectAssign(n.style,t.focus));var i,a=e&&e.borderColor?e.borderColor:"rgb(80,80,80)",l=e&&e.fillColor?e.fillColor:t.themeColor;return i=e&&"square"===e.iconType?r.default.createElement("rect",{x:"6",y:"6",width:"12",height:"12",fill:l}):e&&"cross"===e.iconType?[r.default.createElement("polygon",{points:"3,5 5,3 21,19 19,21",fill:l}),r.default.createElement("polygon",{points:"3,19 5,21 21,5 19,3",fill:l})]:e&&"fill"===e.iconType?r.default.createElement("rect",{x:"2",y:"2",width:"20",height:"20",fill:l}):[r.default.createElement("polygon",{points:"6.7,10.3 10.7,14.3 8.3,16.7  4.3,12.7",fill:l}),r.default.createElement("polygon",{points:"9.5,17.9 19.5,7.9 17.1,5.5 7.1,15.5",fill:l})],this.props.disabled?this.props.value?r.default.createElement("svg",o({},n),r.default.createElement("rect",{x:"1",y:"1",width:"22",height:"22",fill:"rgb(221, 221, 221)"}),i):r.default.createElement("svg",o({},n),r.default.createElement("rect",{x:"1",y:"1",width:"22",height:"22",fill:"rgb(221, 221, 221)"})):this.props.value?r.default.createElement("svg",o({},n),r.default.createElement("rect",{x:"1.5",y:"1.5",width:"21",height:"21","stroke-width":"1px",stroke:a,fill:"white"}),i):r.default.createElement("svg",o({},n),r.default.createElement("rect",{x:"1.5",y:"1.5",width:"21",height:"21",stroke:a,"stroke-width":"1px",fill:"white"}))},e}(r.default.Component),u=function(t){function e(e){t.call(this,e),this.hasFocus=!1,this.hasFocusFromKeyboard=!1}return i(e,t),e.prototype.onFocus=function(){this.hasFocus=!0,this.hasFocusFromKeyboard=this.context.interview.recentKeyDown,this.updateDefer()},e.prototype.onBlur=function(){this.hasFocus=!1,this.hasFocusFromKeyboard=!1,this.updateDefer()},e.prototype.onChange=function(t){this.hasFocusFromKeyboard=this.context.interview.recentKeyDown,this.props.onChange(t)},e.prototype.focus=function(){this.refs.input&&this.refs.input.focus()},e.prototype.render=function(){var t=(this.context.interview.getSession(),{whiteSpace:"nowrap",position:"relative",display:"inline-flex",cursor:void 0}),e={display:"inline-block",marginLeft:this.context.interview.rtl?"5px":"1.7em",marginRight:this.context.interview.rtl?"1.7em":"5px",lineHeight:1.5,position:"relative",whiteSpace:"normal"};this.props.readOnly||(t.cursor="default");var n=this.props.caption;""==n&&(n="&nbsp;");var i;this.props.hideCaption&&(i=r.default.createElement("span",{style:a.default.screenreader,innerHTML:n}),n="&nbsp");var s=this.props.restyle,u=this.props.questionRestyle,c=s&&(s.style||s.className),p=u?u.className:null;return c?r.default.createElement("label",{htmlFor:this.props.id,style:s.style,className:s.className},r.default.createElement("input",o({ref:"input",id:this.props.id,type:"checkbox",disabled:this.props.readOnly,checked:this.props.checked,onChange:this.props.onChange,onFocus:"onFocus",onBlur:"onBlur"},this.props.inputTags)),r.default.createElement("span",{className:p,innerHTML:n}),i):r.default.createElement("label",{htmlFor:this.props.id,className:"opa-radio-container",style:t},r.default.createElement("input",o({ref:"input",id:this.props.id,style:this.context.interview.styleHideInput,type:"checkbox",disabled:this.props.readOnly,checked:this.props.checked,onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},this.props.inputTags)),r.default.createElement(l,{restyle:s,disabled:this.props.readOnly,value:this.props.checked,focus:this.hasFocus&&this.hasFocusFromKeyboard}),r.default.createElement("span",{className:p,style:e,innerHTML:n}),i)},e}(r.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=n(51),l=n(15),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.input.focus(),!0)},e.prototype.controlRender=function(){var t=this.control,e=t.getMultiLineRows(),n=this.getStandardRestyle("textAreaInput",s.objectAssign({maxWidth:this.inputWidth()},l.default.textInputStyle),s.objectAssign({width:"100%",maxWidth:this.inputWidth()}));return n.fullRestyle?r.default.createElement("textarea",o({ref:"input",className:n.className,id:this.getLabelFor(),rows:e,placeholder:t.getHintText(),readOnly:t.isReadOnly(),style:n.style,type:"text",value:this.getDisplayValue()},this.getAriaTags(),{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"})):r.default.createElement("textarea",o({ref:"input",id:this.getLabelFor(),rows:e,placeholder:t.getHintText(),readOnly:t.isReadOnly(),style:n.style,type:"text",value:this.getDisplayValue()},this.getAriaTags(),{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"}))},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(48),a=n(58),l=n(13),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.isSelectionControl=function(){return!0},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.group&&this.refs.group.focus(),!0)},e.prototype.controlRender=function(){var t=this,e=this.control,n=e.getOptions(!0);if(this.selectedValue=e.getValue(),null==n)return r.default.createElement(l.Spinner,{size:"2em"});var i;return i="image-button-group"==e.getControlType()?"image":"text-image-button-group"==e.getControlType()?"image-with-text":"text",r.default.createElement(a.default,o({ref:"group",buttonStyle:i,isHorizontal:e.isButtonHorizontalLayout(),readOnly:e.isReadOnly(),value:this.getDisplayValue(),options:n,onChange:function(e){return t.onSelectValue(e)}},this.getAriaTags()))},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(12),a=n(13),l=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onFocus=function(){this.setState({hasFocus:!0})},e.prototype.onBlur=function(){this.setState({hasFocus:!1})},e.prototype.getFocusStyle=function(){return this.context.interview.getSession().getStyle().focus},e.prototype.render=function(){var t={display:"inline-block"};this.state&&this.state.hasFocus&&r.objectAssign(t,this.getFocusStyle());var e=this.props.className;return this.props.readOnly&&(e+=" opa-button-group-disabled"),o.default.createElement("label",{ref:"button",htmlFor:this.props.id,className:e,style:r.objectAssign({},this.props.style,t)},o.default.createElement("input",{ref:"radio",id:this.props.id,style:this.context.interview.styleHideInput,name:this.props.name,disabled:this.props.readOnly,type:"radio",checked:this.props.checked,onChange:this.props.onChange,onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}),o.default.createElement("span",{className:"opa-button-group-caption",innerHTML:this.props.caption}))},e}(o.default.Component),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onFocus=function(){this.hasFocusFromKeyboard=this.context.interview.recentKeyDown,this.hasFocus=!0,this.updateDefer()},e.prototype.onBlur=function(){this.hasFocusFromKeyboard=!1,this.hasFocus=!1,this.updateDefer()},e.prototype.getFocusStyle=function(){return this.context.interview.getSession().getStyle().focus},e.prototype.onLoad=function(t){this.refs.button.style.width=t.target.width+"px"},e.prototype.render=function(){var t={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},e={position:"absolute",zIndex:2,width:"100%",height:"100%",top:0,left:0};this.hasFocus&&this.hasFocusFromKeyboard&&r.objectAssign(t,this.getFocusStyle());var n,i=this.context.interview.getSession().getStyle().themeColor;return this.props.tick&&(n=o.default.createElement(a.TickIcon,{color:i,style:e})),o.default.createElement("div",{ref:"button",class:this.props.className,style:{position:"relative"}},this.props.readOnly?o.default.createElement("div",{ref:"disabledOverlay",className:"opa-disabled-button-overlay"}):null,o.default.createElement("label",{style:t,htmlFor:this.props.id},o.default.createElement("input",{ref:"radio",id:this.props.id,style:this.context.interview.styleHideInput,name:this.props.name,disabled:this.props.readOnly,type:"radio",checked:this.props.checked,onChange:this.props.onChange,onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}),o.default.createElement("div",{style:{position:"relative"}},o.default.createElement("img",{style:{pointerEvents:"none"},src:this.props.image,onClick:this.props.onChange,onLoad:this.onLoad.bind(this),alt:s.htmlDecode(this.props.caption)}),n),this.props.showCaption?o.default.createElement("span",{className:"opa-button-group-caption",style:{textAlign:"center",maxWidth:"100%"},innerHTML:this.props.caption}):null))},e}(o.default.Component),c=function(t){function e(e){t.call(this,e),this.mobileImagesLoaded=!1,this.mobileCheckedImages={},this.mobileUncheckedImages={}}return i(e,t),e.prototype.focus=function(){if(this.focusID){var t=document.getElementById(this.focusID);t&&t.focus()}},e.prototype.render=function(){var t=this;if(window.OraclePolicyAutomation.Mobile&&!this.mobileImagesLoaded&&(this.mobileImagesLoaded=!0,this.props.options.map(function(e,n){e.checkedImage&&getResourceImage(e.checkedImage,function(t){this.mobileCheckedImages[e.value]=t,this.update()}.bind(t)),e.uncheckedImage&&getResourceImage(e.uncheckedImage,function(t){this.mobileUncheckedImages[e.value]=t,this.update()}.bind(t))})),!window.OraclePolicyAutomation.Mobile||this.context.interview){var e=this.context.interview.getSession().getStyle(),n=e.themeColor;void 0===this._uniqueID&&(this._uniqueID=s.NextUniqueID());var i={display:"flex",flexWrap:"wrap",flexDirection:void 0};if(this.props.isHorizontal!==!0&&(i.flexDirection="column"),0==this.props.options.length&&(i.display="none"),this.focusID="oparadio"+this._uniqueID+"_0","text"!==this.props.buttonStyle){var r=this.props.options.map(function(e,n){var i,r=t.props.value===e.value,s=!1;r?e.checkedImage?i=window.OraclePolicyAutomation.Mobile?t.mobileCheckedImages[e.value]:e.checkedImage:(i=window.OraclePolicyAutomation.Mobile?t.mobileUncheckedImages[e.value]:e.uncheckedImage,s=!0):i=window.OraclePolicyAutomation.Mobile?t.mobileUncheckedImages[e.value]:e.uncheckedImage;var a="opa-button-group-image-item";return 0==n&&(a+=" opa-button-group-first"),n==t.props.options.length-1&&(a+=" opa-button-group-last"),t.props.value===e.value&&(a+=" opa-button-group-item-selected"),r&&(t.focusID="oparadio"+t._uniqueID+"_"+n),o.default.createElement(u,{key:n,id:"oparadio"+t._uniqueID+"_"+n,className:a,name:"opmradio"+t._uniqueID,readOnly:t.props.readOnly,caption:e.text,showCaption:"image"!==t.props.buttonStyle,checked:r,image:i,tick:s,onChange:function(){return t.props.onChange(e.value)}})});return o.default.createElement("div",{role:"radiogroup",style:i},r)}var r=this.props.options.map(function(e,i){var r="opa-button-group-text-item",s={};return 0==i&&(r+=" opa-button-group-first"),i==t.props.options.length-1&&(r+=" opa-button-group-last"),t.props.value===e.value&&(r+=" opa-button-group-item-selected",s.backgroundColor=n),t.props.value===e.value&&(t.focusID="oparadio"+t._uniqueID+"_"+i),t.props.isHorizontal?o.default.createElement(l,{key:i,id:"oparadio"+t._uniqueID+"_"+i,className:r,name:"opmradio"+t._uniqueID,readOnly:t.props.readOnly,caption:e.text,style:s,checked:t.props.value===e.value,onChange:function(){return t.props.onChange(e.value)}}):o.default.createElement("div",{style:{display:"flex"}},o.default.createElement(l,{key:i,id:"oparadio"+t._uniqueID+"_"+i,className:r,name:"opmradio"+t._uniqueID,readOnly:t.props.readOnly,caption:e.text,style:s,checked:t.props.value===e.value,onChange:function(){return t.props.onChange(e.value)}}))});return o.default.createElement("div",{role:"radiogroup",className:"opa-button-group",style:i},r)}},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(48),a=n(15),l=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.getMask=function(){return this.control.getInputMask()},e.prototype.isMaskChar=function(t){return"9"==t||"A"==t||"*"==t},e.prototype.isNumeric=function(t){return t>="0"&&t<="9"},e.prototype.isAlpha=function(t){var e=t.charCodeAt(0);return e>=128||e>=65&&e<=90||e>=97&&e<=122},e.prototype.matchesMaskChar=function(t,e,n){var i=t[e];return"\\"==i&&e+1<t.length&&(i=t[e+1]),"9"===i?this.isNumeric(n):"A"==i?this.isAlpha(n):"*"==i&&(this.isAlpha(n)||this.isNumeric(n))},e.prototype.maskLiteral=function(t,e){var n=t[e];return"\\"==n&&e+1<t.length?t[e+1]:n},e.prototype.nextMaskPos=function(t,e){var n=t[e];return"\\"==n&&e+1<t.length?e+2:e+1},e.prototype.valueMatchesMask=function(t){var e,n=this.getMask(),i=0;for(e=0;e<t.length&&i<n.length;e++){var o=t.charAt(e);if(this.isMaskChar(n[i])){if(!this.matchesMaskChar(n,i,o))return!1}else if(o!=this.maskLiteral(n,i))return!1;i=this.nextMaskPos(n,i)}return e==t.length&&i==n.length},e.prototype.getErrorState=function(){var e=this.control,n=e.getValue(),i=this.context.interview.getSession();return e.isMandatory()&&""===n?{message:i.getMessage("MissingValueError"),cause:"mandatory"}:null==n||0==n.length||this.valueMatchesMask(n)?t.prototype.getErrorState.call(this):{message:e.getInvalidFormatMessage(),cause:"validation"}},e.prototype.applyMask=function(t,e,n){function i(t){e[0]>t&&e[0]--,e[1]>t&&e[1]--}function o(t){e[0]>=t&&e[0]++,e[1]>=t&&e[1]++}for(var r=(this.control,this.getMask()),s=t.target.value,a=0,l="",u=0;a<s.length&&u<r.length;){var c=s[a];if(this.isMaskChar(r[u]))this.matchesMaskChar(r,u,c)?(l+=c,a++,u=this.nextMaskPos(r,u)):(i(l.length),a++);else{var p=this.maskLiteral(r,u);c==p?(l+=c,a++):(o(l.length),l+=p),u=this.nextMaskPos(r,u)}}if(n)for(;u<r.length&&!this.isMaskChar(r[u]);)o(l.length),l+=this.maskLiteral(r,u),u=this.nextMaskPos(r,u);this.editValue=l,this.setCurrentValue(l),this.update()},e.prototype.onChange=function(t){var e=[this.refs.field.selectionStart,this.refs.field.selectionEnd];this.applyMask(t,e,!1),this.refs.field.selectionStart==e[0]&&this.refs.field.selectionEnd==e[1]||this.refs.field.setSelectionRange(e[0],e[1]),this.update()},e.prototype.onKeyUp=function(t){var e=[this.refs.field.selectionStart,this.refs.field.selectionEnd];this.applyMask(t,e,t.which>=48),this.refs.field.selectionStart==e[0]&&this.refs.field.selectionEnd==e[1]||this.refs.field.setSelectionRange(e[0],e[1]),this.update()},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.field.focus(),!0)},e.prototype.controlRender=function(){var t=this.control,e=this.getDisplayValue(),n=this.getStandardRestyle("textInput",r.objectAssign({maxWidth:this.inputWidth()},a.default.textInputStyle),r.objectAssign({width:"100%",maxWidth:this.inputWidth()}));return n.fullRestyle?o.default.createElement("input",{id:this.getLabelFor(),ref:"field",type:"text",className:n.className,readOnly:t.isReadOnly(),style:n.style,placeholder:t.getHintText(),value:e,onChange:"onChange",onKeyUp:"onKeyUp",onFocus:"onFocus",onBlur:"onBlur"}):o.default.createElement("input",{id:this.getLabelFor(),ref:"field",type:"text",readOnly:t.isReadOnly(),style:n.style,placeholder:t.getHintText(),value:e,onChange:"onChange",onKeyUp:"onKeyUp",onFocus:"onFocus",onBlur:"onBlur"})},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(48),a=n(61),l=n(52),u=n(13),c=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.isSelectionControl=function(){return!0},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.select&&this.refs.select.focus(),!0)},e.prototype.controlRender=function(){var t=this.control,e=t.getOptions(!0);return null==e?r.default.createElement(u.Spinner,{size:"2em"}):(e=e.filter(function(t){return null!==t.value}),e=l.default.buildDisplayOptions(e),r.default.createElement(a.default,o({ref:"select",restyle:this.getRestyle("filterDropDownInput"),hasError:this.hasError(),ctlId:this.getLabelFor(),width:this.inputWidth(),readOnly:t.isReadOnly(),options:e,value:this.getDisplayValue(),onBlur:this.onBlur.bind(this),placeholder:t.getHintText(),onChange:this.onSelectValue.bind(this)},this.getAriaTags())))},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(13),s=n(12),a=n(15),l=n(3),u=function(t){function e(e){t.call(this,e),this.decodeHTMLCache={},this.state={dropDownHover:!1,dropDown:!1},this.visibleOptions=this.currentOptions=e.options,this.currentFilter=null}return i(e,t),e.prototype.getFocusStyle=function(){return this.context.interview.getSession().getStyle().focus},e.prototype.getOptionValue=function(t){return this.currentOptions[t]},e.prototype.getOptionText=function(t){return this.currentOptions[t]},e.prototype.setCurrentValue=function(t){this.props.onChange&&this.props.onChange(t)},e.prototype.currentValueIndex=function(){for(var t=0;t<this.visibleOptions.length;t++)if(this.props.value===this.visibleOptions[t].value)return t;return-1},e.prototype.onKeyDown=function(t){if(38==t.keyCode){if(this.state.dropDown){var e=this.currentValueIndex(),n=void 0;n=e>0?e-1:this.visibleOptions.length-1,n>=0&&(this.autoScrollItem=!0,this.setCurrentValue(this.visibleOptions[n].value),this.setState({mode:null}))}else this.openDropDown(),this.selectText();t.stopPropagation(),t.preventDefault()}else if(40==t.keyCode){if(this.state.dropDown){var e=this.currentValueIndex(),n=void 0;n=e<this.visibleOptions.length-1?e+1:0,n>=0&&(this.autoScrollItem=!0,this.setCurrentValue(this.visibleOptions[n].value),this.setState({mode:null}))}else this.openDropDown(),this.selectText();t.stopPropagation(),t.preventDefault()}else if(33==t.keyCode){if(this.state.dropDown){var e=this.currentValueIndex(),n=void 0;n=e>8?e-8:this.visibleOptions.length-1,n>=0&&(this.autoScrollItem=!0,this.setCurrentValue(this.visibleOptions[n].value),this.setState({mode:null}))}else this.openDropDown(),this.selectText();t.stopPropagation(),t.preventDefault()}else if(34==t.keyCode){if(this.state.dropDown){var e=this.currentValueIndex(),n=void 0;n=e+8<this.visibleOptions.length-1?e+8:0,n>=0&&(this.autoScrollItem=!0,this.setCurrentValue(this.visibleOptions[n].value),this.setState({mode:null}))}else this.openDropDown(),this.selectText();t.stopPropagation(),t.preventDefault()}else!this.state.dropDown||13!=t.keyCode&&27!=t.keyCode?9===t.keyCode&&(this.closeDropDown(),this.update()):(this.closeDropDown(),t.stopPropagation(),t.preventDefault())},e.prototype.selectText=function(){this.refs.text.value&&this.refs.text.setSelectionRange(0,this.refs.text.value.length)},e.prototype.openDropDown=function(){if(!this.state.dropDown){this.autoScrollItem=!0,this.setState({dropDown:!0}),this.update();var t=this.refs.dropdown;if(t){s.makeDropDownVisible(t,o.default.getDOM(this));for(var e=t.getElementsByTagName("li"),n=0;n<e.length;n++)if("opa-active-option"==e[n].className)return void s.scrollIntoView(t,e[n])}}},e.prototype.closeDropDown=function(){this.currentFilter=null,this.setState({dropDown:!1,mode:null,dropDownHover:!1}),this.update()},e.prototype.onFocus=function(){this.setState({hasFocus:!0}),this.props.onFocus&&this.props.onFocus()},e.prototype.onBlur=function(){this.state.dropDownHover?this.refs.text.focus():(this.setState({hasFocus:!1}),this.closeDropDown(),this.props.onBlur&&this.props.onBlur())},e.prototype.onEnterDropDown=function(){this.setState({dropDownHover:!0})},e.prototype.onLeaveDropDown=function(){this.setState({dropDownHover:!1})},e.prototype.onClickWidget=function(t){return this.props.readOnly||(this.state.dropDown?this.closeDropDown():(this.openDropDown(),this.selectText()),this.refs.text.focus()),t.stopPropagation(),t.preventDefault(),!1},e.prototype.onClickItem=function(t,e){this.setCurrentValue(this.visibleOptions[t].value),this.closeDropDown(),e.stopPropagation(),e.preventDefault()},e.prototype.onTextChange=function(t){var e=this;this.currentFilter=t.target.value;var n=this.currentFilter.trim().toLowerCase(),i=-1;this.visibleOptions=[];var o=[],r=[];this.currentOptions.forEach(function(t){var e=s.htmlDecode(t.text),i=e.toLowerCase().indexOf(n);if(i>=0){var a={text:s.htmlEncode(e.substring(0,i))+"<b>"+s.htmlEncode(e.substr(i,n.length))+"</b>"+s.htmlEncode(e.substring(i+n.length)),value:t.value};0==i?o.push(a):r.push(a)}}),o.forEach(function(t){t.text===n&&(i=e.visibleOptions.length),e.visibleOptions.push(t)}),r.forEach(function(t){t.text===n&&(i=e.visibleOptions.length),e.visibleOptions.push(t)}),i>=0?this.setCurrentValue(this.visibleOptions[i].value):1==this.visibleOptions.length&&n.length>0?this.setCurrentValue(this.visibleOptions[0].value):this.setCurrentValue(null),this.state.dropDown||this.openDropDown(),this.setState({mode:"filter"})},e.prototype.getEditValue=function(){var t=this;if("filter"===this.state.mode)return this.currentFilter;var e=this.props.value,n="";return this.currentOptions.forEach(function(i){if(i.value===e){if(!t.decodeHTMLCache.hasOwnProperty(i.text)){var o=document.createElement("textarea");o.innerHTML=i.text,t.decodeHTMLCache[i.text]=o.value}n=t.decodeHTMLCache[i.text]}}),n},e.prototype.componentDidMount=function(){this.props.autoSize&&this.autoSize()},e.prototype.componentDidUpdate=function(){if(this.state.dropDown&&this.autoScrollItem&&(this.autoScrollItem=!1,this.refs.dropdown))for(var t=this.refs.dropdown.getElementsByTagName("li"),e=0;e<t.length;e++)if("opa-active-option"==t[e].className)return void s.scrollIntoView(this.refs.dropdown,t[e]);
},e.prototype.autoSize=function(){var t=this.refs.text,e=this.refs.container,n=20,i=document.createElement("span");e.appendChild(i),this.props.options.forEach(function(t){i.textContent=t.text;var e=i.offsetWidth;e>n&&(n=e)}),e.removeChild(i),t.style.width=n+4+"px"},e.prototype.focus=function(){this.refs.text.focus()},e.prototype.render=function(){var t=this,e=this.context.interview.getSession(),n=this.props.restyle;this.currentOptions=this.props.options;var i,s;null!=this.currentFilter?(i=[],this.visibleOptions.forEach(function(e,n){var r=t.props.ctlId+"item"+n,a=t.props.value===e.value;a&&(s=r),i.push(o.default.createElement("li",{role:"option",id:r,key:n,onMouseDown:t.onClickItem.bind(t,n),className:a?"opa-active-option":""},o.default.createElement("a",{href:"#",innerHTML:e.text})))})):(this.visibleOptions=this.currentOptions,i=this.currentOptions.map(function(e,n){var i=t.props.ctlId+"item"+n,r=t.props.value===e.value;return r&&(s=i),o.default.createElement("li",{role:"option",id:i,key:n,onMouseDown:t.onClickItem.bind(t,n),className:r?"opa-active-option":""},o.default.createElement("a",{href:"#",innerHTML:e.text}))}));var u=l.objectAssign({maxWidth:this.props.width},this.props.style),c=this.props.width;this.refs.container&&(c=this.refs.container.offsetWidth),this.props.autoSize&&(u.display="inline-block");var p=this.state.dropDown&&i.length>0;p||(s=null);var h,d,f=this.props.triggerColor,g={position:"absolute",outline:"1px solid #727780",width:c,backgroundColor:"white",zIndex:"1",maxHeight:"16em",overflowY:"auto"},m={margin:0,padding:0};null!=n&&n.className?(h=l.objectAssign({width:"100%"},n.style),d=n.className,n.iconColor&&(f=n.iconColor),this.props.hasError&&null!=n.errorClassName&&(d+=" "+n.errorClassName)):(h={outline:"1px solid #727780",outlineOffset:"0px",border:0,padding:"0.4em 0.8em",boxSizing:"border-box",width:"100%",paddingRight:"2em",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",fontStyle:"inherit",color:"inherit"},this.props.autoSize&&(h.boxSizing="content-box"),this.state.hasFocus&&l.objectAssign(h,this.getFocusStyle()),null!=n&&(n.iconColor&&(f=n.iconColor),l.objectAssign(h,n.style),this.props.hasError&&l.objectAssign(h,n.errorStyle)));var y={position:"relative"};return o.default.createElement("div",{ref:"container",style:u},o.default.createElement("div",{className:"opa-search-select-container "+(this.props.className?this.props.className:""),style:y},o.default.createElement("input",{role:"combobox",ref:"text",id:this.props.ctlId,className:d,style:h,type:"text",placeholder:this.props.placeholder,readOnly:this.props.readOnly,value:this.getEditValue(),onChange:"onTextChange",onKeyDown:"onKeyDown",autocomplete:"off",autocorrect:"off",onFocus:"onFocus",onBlur:"onBlur","aria-label":this.props["aria-label"],"aria-expanded":p,"aria-owns":"drop"+this.props.ctlId,"aria-activedescendant":s,"aria-autocomplete":"list","aria-haspopup":"true","aria-invalid":this.props["aria-invalid"],"aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":this.props["aria-required"],"aria-disabled":this.props["aria-disabled"]}),o.default.createElement(r.OPMDownIcon,{title:e.getMessage("searching-combo-trigger-tooltip"),className:"opa-dropdown-widget",onMouseDown:this.onClickWidget.bind(this),onFocus:this.onFocus.bind(this),color:f})),p?o.default.createElement("div",{style:a.default.screenreader,"aria-live":"polite","aria-atomic":"true"},1==i.length?e.getMessage("search-results-single"):e.getMessage("search-results-multiple").replace("{0}",i.length)):null,p?o.default.createElement("div",{ref:"dropdown",style:g,className:"opa-search-dropdown",onMouseOver:this.onEnterDropDown.bind(this),onMouseOut:this.onLeaveDropDown.bind(this)},o.default.createElement("ul",{role:"listbox",style:m,id:"drop"+this.props.ctlId},i)):null)},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=n(42),l=n(13),u=function(t){function e(e){t.call(this,e);this.control;this.mobileImagesLoaded=!1}return i(e,t),e.prototype.onClick=function(t){this.onSelectValue(!this.control.getValue()),t.stopPropagation(),t.preventDefault()},e.prototype.isSelectionControl=function(){return!0},e.prototype.getErrorState=function(){return null},e.prototype.onLoad=function(t){this.refs.button.style.width=t.target.width+"px"},e.prototype.render=function(){var t=this.control;window.OraclePolicyAutomation.Mobile&&!this.mobileImagesLoaded&&(this.mobileImagesLoaded=!0,t.getCheckedImageSource()&&getResourceImage(t.getCheckedImageSource(),function(t){this.mobileCheckedImage=t,this.update()}.bind(this)),t.getUncheckedImageSource()&&getResourceImage(t.getUncheckedImageSource(),function(t){this.mobileUncheckedImage=t,this.update()}.bind(this)));var e,n,i=this.context.interview.session,a=i.getStyle().themeColor,u=this.getDisplayValue()===!0,c={position:"absolute",zIndex:2,width:"100%",height:"100%",top:0,left:0};u?t.getCheckedImageSource()?e=window.OraclePolicyAutomation.Mobile?this.mobileCheckedImage:t.getCheckedImageSource():(e=window.OraclePolicyAutomation.Mobile?this.mobileUncheckedImage:t.getUncheckedImageSource(),n=r.default.createElement(l.TickIcon,{style:c,color:a})):e=window.OraclePolicyAutomation.Mobile?this.mobileUncheckedImage:t.getUncheckedImageSource();var p={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},h=this.getControlStyle(),d=h.style,f=h.className;s.objectAssign(d,{display:"flex",flexFlow:"row nowrap"}),this.hasFocus&&this.hasFocusFromKeyboard&&s.objectAssign(p,this.getFocusStyle());var g="opacheck"+this.uniqueID();return r.default.createElement("div",{className:"opa-control-item",style:this.defaultAuthorStyle(this.defaultVerticalPadding())},r.default.createElement("div",{className:f,style:d},r.default.createElement("div",{ref:"button",style:{position:"relative"}},t.isReadOnly()?r.default.createElement("div",{ref:"disabledOverlay",className:"opa-disabled-button-overlay"}):null,r.default.createElement("label",{htmlFor:g,style:p},r.default.createElement("input",o({id:g,style:this.context.interview.styleHideInput,type:"checkbox",disabled:t.isReadOnly(),checked:u,onFocus:"onFocus",onBlur:"onBlur",onChange:this.onClick.bind(this)},this.props.inputTags)),r.default.createElement("div",{className:"opa-checked-button",style:{position:"relative"}},r.default.createElement("img",{ref:"img",onLoad:this.onLoad.bind(this),onClick:this.onClick.bind(this),src:e,alt:t.getCaption()}),n),t.hideCaption()?null:r.default.createElement("span",{style:{textAlign:"center",maxWidth:"100%"}},t.getCaption())))),this.getAuthorText())},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=n(48),l=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype.onChange=function(t){this.onSelectValue(t.target.checked),t.preventDefault(),t.stopPropagation()},e.prototype.onKeyDown=function(t){var e=this.control;e.isReadOnly()||(33==t.which||37==t.which||38==t.which?(this.hasFocusFromKeyboard=!0,this.onSelectValue(!1),t.preventDefault(),t.stopPropagation()):34!=t.which&&39!=t.which&&40!=t.which||(this.hasFocusFromKeyboard=!0,this.onSelectValue(!0),t.preventDefault(),t.stopPropagation()))},e.prototype.isSelectionControl=function(){return!0},e.prototype.getErrorState=function(){return null},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.input&&this.refs.input.focus(),!0)},e.prototype.controlRender=function(){var t=this.control,e=t.isReadOnly(),n=this.getDisplayValue()===!0,i=this.context.interview.getSession().getStyle().themeColor,a={height:30,border:n?"solid 1px "+(e?"#ccc":i):"solid 1px #ccc",width:60,borderRadius:15,backgroundColor:n?e?"#ddd":i:"#f5f5f5",position:"relative",boxSizing:"border-box"},l={position:"absolute",height:30,border:"solid 1px "+(e?"#ccc":n?i:"#727780"),width:30,top:-1,left:n?29:-1,borderRadius:15,backgroundColor:"white",boxSizing:"border-box"},u={opacity:0,width:"100%",height:"100%"};return this.hasFocus&&this.hasFocusFromKeyboard&&s.objectAssign(l,this.getFocusStyle()),r.default.createElement("div",{className:"opa-toggle",style:a},r.default.createElement("div",{className:n?"opa-switch-on":"opa-switch-off",style:l}),r.default.createElement("input",o({ref:"input",id:this.getLabelFor(),type:"checkbox",checked:n,disabled:e,style:u,onChange:"onChange",readOnly:e,onKeyDown:"onKeyDown",onFocus:"onFocus",onBlur:"onBlur"},this.getAriaTags())))},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=n(48),l=n(65),u=function(t){function e(e){t.call(this,e),this.monthNames=this.control.getSession().getMonthFullNames(),this.dayNames=this.control.getSession().getWeekMinNames(),this.dayTitles=this.control.getSession().getWeekFullNames()}return i(e,t),e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.calendar.focus(),!0)},e.prototype.onBlur=function(){if(null!=this.editValue){var e=this.control.parse(this.editValue);null!=e&&(this.editValue=this.control.format(e))}return t.prototype.onBlur.call(this)},e.prototype.onTextChanged=function(t){this.editValue=t,this.commitValue(),this.update()},e.prototype.onDateSelected=function(t){var e;e=null===t?null:l.default.JSDateToOPMYMD(t),this.editValue=this.control.format(e),this.setCurrentValue(e)},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e.prototype.controlRender=function(){var t,e=this.control.isReadOnly()?this.control.getSession().getStyle().disabledThemeColor:this.control.getSession().getStyle().themeColor,n={maxWidth:this.inputWidth()};if(this.control.getValue())t=l.default.OPMYMDToJSDate(this.control.getValue());else if(null!=this.editValue&&null!=this.control.parse(this.editValue))t=l.default.OPMYMDToJSDate(this.control.parse(this.editValue));else{var i=new Date;t=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()))}var a;a=null!=this.editValue?this.editValue:null!=this.control.getValue()?this.control.format(this.control.getValue()):"";var u=this.getRestyle("calendarInput");return!this.hasFocus||null!=u&&null!=u.className||s.objectAssign(n,this.getFocusStyle()),r.default.createElement(l.default,o({ref:"calendar",controlId:this.getLabelFor(),style:n,color:e,readOnly:this.control.isReadOnly(),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onTextChanged:this.onTextChanged.bind(this),onDateSelected:this.onDateSelected.bind(this),value:a,calendarDate:t,restyle:u,hasError:this.hasError(),placeholder:this.control.getHintText(),dayNames:this.dayNames,dayTitles:this.dayTitles,monthNames:this.monthNames,region:this.control.getSession().getFormatRegion()},this.getAriaTags()))},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(13),s=n(61),a=n(12),l=n(3),u=n(15),c=function(t){function e(e){t.call(this,e);var n=new Date;if(this.collectTime=null!==this.props.timeControlConfig&&void 0!==this.props.timeControlConfig,this.clock24=!0,this.collectTime){for(var i=0;i<this.props.timeControlConfig.length;++i){var o=this.props.timeControlConfig[0].kind;if("hour12"===o){this.clock24=!1;break}if("hour24"===o){this.clock24=!0;break}}this.setDefaults(new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),0)))}else this.setDefaults(new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0)));this.state={dropDown:!1}}return i(e,t),e.prototype.setDefaults=function(t){this.clock24?(this.displayHour=t.getUTCHours(),this.displayMeridiem=null):t.getUTCHours()<12?(this.displayHour=0===t.getUTCHours()?12:t.getUTCHours(),this.displayMeridiem="am"):(this.displayHour=t.getUTCHours()-12,this.displayMeridiem="pm"),this.displayMinute=t.getUTCMinutes(),this.displaySecond=t.getUTCSeconds(),this.displayYear=t.getUTCFullYear(),this.displayMonth=t.getUTCMonth()+1,this.selectedDate=t},e.OPMYMDToJSDate=function(t){var e=t.split("-");return new Date(Date.UTC(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2]),0,0,0,0))},e.OPMDateTimeToJSDate=function(t){var e=t.split("T"),n=e[0].split("-"),i=e[1].split(":");return new Date(Date.UTC(parseInt(n[0]),parseInt(n[1])-1,parseInt(n[2]),parseInt(i[0]),parseInt(i[1]),parseInt(i[2]),0))},e.JSDateToOPMDateTime=function(t){return t.getUTCFullYear()+"-"+("0"+(t.getUTCMonth()+1)).slice(-2)+"-"+("0"+t.getUTCDate()).slice(-2)+"T"+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},e.JSDateToOPMYMD=function(t){return t.getUTCFullYear()+"-"+("0"+(t.getUTCMonth()+1)).slice(-2)+"-"+("0"+t.getUTCDate()).slice(-2)},e.prototype.onClickWidget=function(t){return!this.props.readOnly&&(this.state.dropDown?this.closeDropdown():this.showDropdown(),this.refs.text.focus(),t.stopPropagation(),t.preventDefault(),!1)},e.prototype.onHourChanged=function(t){this.displayHour=t,this.onChangeDateTime()},e.prototype.onMinuteChange=function(t){this.displayMinute=t,this.onChangeDateTime()},e.prototype.onSecondChange=function(t){this.displaySecond=t,this.onChangeDateTime()},e.prototype.onMeridiemChange=function(t){this.displayMeridiem=t,this.onChangeDateTime()},e.prototype.onChangeDateTime=function(){if(this.selectedDate){var t=void 0,e=void 0,n=void 0;if(this.refs.hour){var i=this.displayHour;if(""===i||!this.clock24&&""===this.refs.meridiem.value)t=null;else if(this.clock24)t=i;else{var o="am"===this.displayMeridiem;t=o&&12==i?0:o?i:i+12}}else t=0;e=this.refs.minute?this.displayMinute:0,n=this.refs.second?this.displaySecond:0;var r=new Date(Date.UTC(this.selectedDate.getUTCFullYear(),this.selectedDate.getUTCMonth(),this.selectedDate.getUTCDate(),t,e,n,0));this.props.onDateSelected&&this.props.onDateSelected(r)}},e.prototype.onClickDate=function(t,e){this.selectedDate=t,this.onChangeDateTime(),e.stopPropagation(),e.preventDefault();var n=this.collectTime?{}:{dropDown:!1};return this.setState(n),this.refs.text.focus(),!1},e.prototype.onPrevMonth=function(t){return t.stopPropagation(),t.preventDefault(),this.displayMonth>1?this.displayMonth--:(this.displayMonth=12,this.displayYear--),this.state.dropDown&&this.setState({}),!1},e.prototype.onNextMonth=function(t){return t.stopPropagation(),t.preventDefault(),this.displayMonth<12?this.displayMonth++:(this.displayMonth=1,this.displayYear++),this.state.dropDown&&this.setState({}),!1},e.prototype.onChangeText=function(t){this.props.onTextChanged&&this.props.onTextChanged(t.target.value)},e.prototype.showDropdown=function(){if(!this.state.dropDown){this.state.dropDown=!0,this.update();this.refs.dropdown;a.makeDropDownVisible(this.refs.dropdown,o.default.getDOM(this))}},e.prototype.closeDropdown=function(){this.state.dropDown&&this.setState({dropDown:!1})},e.prototype.onKeyDown=function(t){38==t.keyCode||27==t.keyCode?(this.closeDropdown(),t.preventDefault()):40==t.keyCode&&(this.showDropdown(),t.preventDefault())},e.prototype.ignoreClick=function(t){if("input"!==t.target.nodeName.toLowerCase())return t.stopPropagation(),t.preventDefault(),!1},e.prototype.onFocus=function(){this.setState({hasFocus:!0}),this.props.onFocus&&this.props.onFocus()},e.prototype.onBlur=function(){var t=this;setTimeout(function(){t.refs.hour&&t.refs.hour.state.hasFocus||t.refs.minute&&t.refs.minute.state.hasFocus||t.refs.second&&t.refs.second.state.hasFocus||t.refs.meridiem&&t.refs.meridiem.state.hasFocus||(t.setState({hasFocus:!1,dropDown:!1}),t.props.onBlur&&t.props.onBlur())},100)},e.prototype.componentDidUpdate=function(t,e){},e.prototype.focus=function(){this.refs.text.focus()},e.prototype.render=function(){var t=this.context.interview.getSession(),e=t.getStyle();this.props.calendarDate&&!this.state.dropDown&&this.setDefaults(this.props.calendarDate);var n,i,a={backgroundColor:e.primaryThemeColor},c={backgroundColor:e.secondaryThemeColor},p=this.props.restyle,h=p&&p.iconColor?p.iconColor:this.props.color,d=null;if(null!=p&&null!=p.className?(n=l.objectAssign({width:"100%"},p.style),p.keepIcon?n.paddingRight="2.4em":d=null,i=p.className,this.props.hasError&&(null!=p.errorClassName&&(i+=" "+p.errorClassName),l.objectAssign(n,p.errorStyle))):(n=l.objectAssign({},u.default.textInputStyle,{paddingRight:"2.4em"}),null!=p&&(l.objectAssign(n,p.style),this.props.hasError&&l.objectAssign(n,p.errorStyle))),t.showCalendarIcon(this.collectTime))if(t.getCalendarIcon(this.collectTime)){var f={backgroundImage:"url("+t.getCalendarIcon(this.collectTime)+")",backgroundRepeat:"no-repeat",backgroundPosition:"center"};d=o.default.createElement("div",{style:f,className:"opa-dropdown-widget",title:t.getMessage("calendar-icon-text"),onMouseDown:this.onClickWidget.bind(this)})}else d=this.collectTime?o.default.createElement(r.OPMDateTimeIcon,{color:h,className:"opa-dropdown-widget",title:t.getMessage("calendar-icon-text"),onMouseDown:this.onClickWidget.bind(this)}):o.default.createElement(r.OPMCalendarIcon,{color:h,className:"opa-dropdown-widget",title:t.getMessage("calendar-icon-text"),onMouseDown:this.onClickWidget.bind(this)});if(this.props.readOnly)return o.default.createElement("div",{style:this.props.style,className:"opa-calendar-container"},o.default.createElement("input",{ref:"text",id:this.props.controlId,readOnly:!0,type:"text",value:this.props.value,className:i,style:n,onChange:this.onChangeText.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}),d);for(var g={display:"table"},m={display:"table-row"},y={display:"table-cell",padding:"0.4em",textAlign:"center"},v=this.props.monthNames[this.displayMonth-1]+" "+(this.displayYear+("th-TH"===this.props.region?543:0)),b=[],w=0;w<7;++w){var x=this.props.dayTitles?this.props.dayTitles[w]:void 0;b.push(o.default.createElement("div",{className:"opa-calendar-weekday",style:y,title:x},this.props.dayNames[w]))}var S=[],C=new Date(Date.UTC(this.displayYear,this.displayMonth-1,1,0,0,0,0));C.setUTCDate(C.getUTCDate()-C.getUTCDay());for(var E=0;E<6;E++){for(var I=[],T=0;T<7;T++){var O=C.getUTCMonth()!=this.displayMonth-1,k="opa-calendar-day";O&&(k+=" opa-calendar-adjacent");var D=l.objectAssign({},y);C.getUTCDate()===this.selectedDate.getUTCDate()&&C.getUTCMonth()===this.selectedDate.getUTCMonth()&&C.getUTCFullYear()===this.selectedDate.getUTCFullYear()&&(k+=" opa-calendar-selected",D.outlineColor=e.secondaryThemeColor);var M=new Date(C.getTime());I.push(o.default.createElement("div",{key:T,className:k,style:D,onMouseDown:this.onClickDate.bind(this,M)},M.getUTCDate())),C.setUTCDate(C.getUTCDate()+1)}if(S.push(o.default.createElement("div",{key:E,className:"opa-calendar-days",style:m},I)),E>1&&C.getUTCMonth()!=this.displayMonth-1)break}var P=null;if(this.collectTime){for(var R=this.props.timeControlConfig,A=[],N=0;N<R.length;++N){var F=R[N];switch(F.kind){case"hour12":case"hour24":var _=[],j=void 0,V=void 0;this.clock24?(j=0,V=24):(j=1,V=13);for(var H=j;H<V;++H)_.push({value:H,text:("0"+H).slice(-2)});A.push(o.default.createElement(s.default,{ref:"hour",className:"opa-hms-hour",placeholder:F.hintText,triggerColor:this.props.color,options:_,value:this.displayHour,autoSize:!0,onChange:this.onHourChanged.bind(this),onBlur:this.onBlur.bind(this)}));break;case"minutes":for(var L=F.increment?F.increment:1,_=[],H=0;H<60;++H)H%L===0&&_.push({value:H,text:("0"+H).slice(-2)});A.push(o.default.createElement(s.default,{ref:"minute",className:"opa-hms-minute",autoSize:!0,placeholder:F.hintText,triggerColor:this.props.color,options:_,value:this.displayMinute,onChange:this.onMinuteChange.bind(this),onBlur:this.onBlur.bind(this)}));break;case"seconds":for(var L=F.increment?F.increment:1,_=[],H=0;H<60;++H)H%L===0&&_.push({value:H,text:("0"+H).slice(-2)});A.push(o.default.createElement(s.default,{ref:"second",className:"opa-hms-second",autoSize:!0,placeholder:F.hintText,triggerColor:this.props.color,options:_,value:this.displaySecond,onChange:this.onSecondChange.bind(this),onBlur:this.onBlur.bind(this)}));break;case"am":var _=[];_.push({value:"am",text:F.names[0]}),_.push({value:"pm",text:F.names[1]}),A.push(o.default.createElement(s.default,{ref:"meridiem",className:"opa-hms-meridiem",placeholder:F.hintText,triggerColor:this.props.color,options:_,value:this.displayMeridiem,onChange:this.onMeridiemChange.bind(this),autoSize:!0,onBlur:this.onBlur.bind(this)}))}}P=o.default.createElement("div",{className:"opa-calendar-time"},o.default.createElement("span",null,this.props.timeCaption),o.default.createElement("div",{className:"opa-hms-container"},A))}return o.default.createElement("div",null,o.default.createElement("div",{style:this.props.style,className:"opa-calendar-container"},o.default.createElement("input",{ref:"text",id:this.props.controlId,placeholder:this.props.placeholder,type:"text",style:n,className:i,value:this.props.value,onChange:"onChangeText",onKeyDown:"onKeyDown","aria-invalid":this.props["aria-invalid"],"aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":this.props["aria-required"],"aria-disabled":this.props["aria-disabled"],onFocus:"onFocus",onBlur:"onBlur"}),d),this.state.dropDown?o.default.createElement("div",{ref:"dropdown",className:"opa-calendar-dropdown",onMouseDown:this.ignoreClick.bind(this),style:{width:this.props.style.maxWidth}},o.default.createElement("div",{className:"opa-calendar-heading",style:a},v,o.default.createElement(r.OPMRightIcon,{color:"white",className:"opa-calendar-widget-next",onMouseDown:this.onNextMonth.bind(this)}),o.default.createElement(r.OPMLeftIcon,{color:"white",className:"opa-calendar-widget-prev",onMouseDown:this.onPrevMonth.bind(this)})),o.default.createElement("div",{className:"opa-calendar-grid",style:g},o.default.createElement("div",{className:"opa-calendar-weekdays",style:l.objectAssign({},m,c)},b),S),P):null)},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(48),a=n(61),l=n(67),u=function(t){function e(e){t.call(this,e),this.messages=this.control.screen.config.messageProperties,this.format=this.control.screen.session.acceptedDateFormats[0],this.monthFormatOpt=null,this.multiFocus=new l.default(this),this.userEdited=!1,this.yearOptions=[];var n=this.control.getYearStart(),i=this.control.getYearEnd();if(n>i)for(var o=n;o>=i;--o)this.yearOptions.push({value:o,text:("000"+o).slice(-4)});else for(var o=n;o<=i;++o)this.yearOptions.push({value:o,text:("000"+o).slice(-4)});for(var o=0;o<this.format.length;++o){var r=this.format[o];if("month"===r.kind||"shortMonth"===r.kind||"fullMonth"==r.kind){this.monthFormatOpt=r;break}}this.dayOptions=[];for(var s=1;s<=31;s++)this.dayOptions.push({value:s,text:("0"+s).slice(-2)});if(this.monthOptions=[],null!==this.monthFormatOpt)if("month"===this.monthFormatOpt.kind)for(var o=1;o<13;++o)this.monthOptions.push({value:o,text:("0"+o).slice(-2)});else for(var o=0;o<this.monthFormatOpt.names.length;++o)this.monthOptions.push({value:o+1,text:this.monthFormatOpt.names[o]});this.syncDate()}return i(e,t),e.opmBuildDate=function(t,e,n){var i=new Date(n,e-1,t);return i.getFullYear()!=n||i.getMonth()+1!=e||i.getDate()!=t?null:n+"-"+("0"+e).slice(-2)+"-"+("0"+t).slice(-2)},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(null!=this.firstInputRef?(this.refs[this.firstInputRef].focus(),!0):void 0)},e.prototype.getErrorState=function(){var t=0,e=0;return this.refs.day&&(t++,null!==this.editDay&&e++),this.refs.month&&(t++,null!==this.editMonth&&e++),this.refs.year&&(t++,null!==this.editYear&&e++),0===e?this.control.isMandatory()?{message:this.messages.MissingValueError,cause:"mandatory"}:null:t!=e?{message:this.messages.IncompleteControlError,cause:"validation"}:null==this.control.getValue()?null===this.editValue?{message:this.control.getInvalidDateMessage(),cause:"validation"}:{message:this.control.getInvalidValueMessage(),cause:"validation"}:void 0},e.prototype.setDay=function(t){this.userEdited=!0,this.editDay=t,this.commitValue()},e.prototype.setMonth=function(t){this.userEdited=!0,this.editMonth=t,this.commitValue()},e.prototype.setYear=function(t){this.userEdited=!0,null===t?this.editYear=null:"th-TH"===this.control.getSession().getFormatRegion()?this.editYear=t-543:this.editYear=t,this.commitValue()},e.prototype.commitValue=function(t){if(this.userEdited){var n=this.refs.day?this.editDay:1,i=this.refs.month?this.editMonth:1,o=this.refs.year?this.editYear:1;if(this.editValue=null,"number"==typeof n&&"number"==typeof i&&"number"==typeof o&&(this.editValue=e.opmBuildDate(n,i,o),null!=this.editValue&&this.control.checkInputRestriction(this.editValue)))return void this.setCurrentValue(this.editValue);this.setCurrentValue(null)}},e.prototype.syncDate=function(){var t=this.control.getValue();if(null==t)this.editDay=this.editMonth=this.editYear=null;else{var e=t.split("-");this.editYear=parseInt(e[0]),this.editMonth=parseInt(e[1]),this.editDay=parseInt(e[2])}},e.prototype.controlRender=function(){var t=this.control.getSession();this.userEdited||this.syncDate();var e=this.editDay,n=this.editMonth,i=this.editYear;"number"==typeof this.editYear&&"th-TH"===this.control.getSession().getFormatRegion()&&(i+=543);for(var s=[],l=this.control.isReadOnly()?t.getStyle().disabledThemeColor:void 0,u={marginRight:4,marginBottom:4},c=0;c<this.format.length;++c)"day"===this.format[c].kind?(null==this.firstInputRef&&(this.firstInputRef="day"),s.push(r.default.createElement(a.default,o({ref:"day",style:u,autoSize:!0,triggerColor:l,placeholder:this.control.getDayHintText(),readOnly:this.control.isReadOnly(),value:e,"aria-label":t.getMessage("day-selection-alt"),onChange:this.setDay.bind(this),options:this.dayOptions},this.multiFocus.bindProps())))):"month"===this.format[c].kind||"shortMonth"===this.format[c].kind||"fullMonth"===this.format[c].kind?(null==this.firstInputRef&&(this.firstInputRef="month"),s.push(r.default.createElement(a.default,o({ref:"month",style:u,autoSize:!0,triggerColor:l,"aria-label":t.getMessage("month-selection-alt"),placeholder:this.control.getMonthHintText(),readOnly:this.control.isReadOnly(),value:n,onChange:this.setMonth.bind(this),options:this.monthOptions},this.multiFocus.bindProps())))):"year"===this.format[c].kind&&(null==this.firstInputRef&&(this.firstInputRef="year"),s.push(r.default.createElement(a.default,o({ref:"year",style:u,autoSize:!0,triggerColor:l,"aria-label":t.getMessage("year-selection-alt"),placeholder:this.control.getYearHintText(),readOnly:this.control.isReadOnly(),value:i,onChange:this.setYear.bind(this),options:this.yearOptions},this.multiFocus.bindProps()))));return r.default.createElement("div",{className:"opa-dmy-container"},s)},e.prototype.useFieldSet=function(){return!0},e.prototype.getFieldSetRole=function(){return"group"},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e){"use strict";var n=function(){function t(t){this.component=t}return t.prototype.onFocus=function(){this.clearFocusTimer(),this.component.hasFocus||this.component.onFocus()},t.prototype.onBlur=function(){this.clearFocusTimer(),this.focusLeaveTimer=setTimeout(this.focusDidntReturn.bind(this),50)},t.prototype.clearFocusTimer=function(){void 0!==this.focusLeaveTimer&&(clearTimeout(this.focusLeaveTimer),delete this.focusLeaveTimer)},t.prototype.focusDidntReturn=function(){delete this.focusLeaveTimer,this.component.hasFocus&&this.component.onBlur()},t.prototype.bindProps=function(){return{onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(48),s=n(69),a=n(52),l=n(13),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.isSelectionControl=function(){return!0},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.select&&this.refs.select.focus(),!0)},e.prototype.controlRender=function(){var t=this.control,e=t.getOptions(!0);return null==e?o.default.createElement(l.Spinner,{size:"2em"}):(e=e.filter(function(t){return null!==t.value}),e=a.default.buildDisplayOptions(e),e.splice(0,0,{value:null,text:t.getHintText()?t.getHintText():""}),o.default.createElement(s.default,{ref:"select",controlId:this.getLabelFor(),style:{width:"100%",maxWidth:this.inputWidth()},restyle:this.getRestyle("dropDownInput"),options:e,value:this.getDisplayValue(),readOnly:t.isReadOnly(),onChange:this.onSelectValue.bind(this),ariaTags:this.getAriaTags(),onBlur:this.onBlur.bind(this)}))},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(13),a=n(3),l=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onFocus=function(){this.setState({hasFocus:!0})},e.prototype.onBlur=function(){this.setState({hasFocus:!1}),this.props.onBlur&&this.props.onBlur()},e.prototype.getFocusStyle=function(){return this.context.interview.getSession().getStyle().focus},e.prototype.componentDidMount=function(){this.componentDidUpdate()},e.prototype.componentDidUpdate=function(){var t=this,e=this.props.value,n=!1;this.props.options.forEach(function(i,o){i.value===e&&(t.refs.selector.selectedIndex!=o&&(t.refs.selector.selectedIndex=o),n=!0)}),n||0==this.refs.selector.selectedIndex||(this.refs.selector.selectedIndex=0)},e.prototype.onChange=function(){this.props.onChange(this.getValue())},e.prototype.onKeyUp=function(){this.props.onChange(this.getValue())},e.prototype.getValue=function(){var t=this.refs.selector.selectedIndex;return this.props.options[t].value},e.prototype.focus=function(){
this.refs.selector.focus()},e.prototype.render=function(){var t=this.context.interview.getSession(),e=this.props.value,n=this.props.restyle;if(null!=n&&null!=n.className){var i=a.objectAssign({},this.props.style,n.style);return r.default.createElement("select",{ref:"selector",className:n.className,style:i,id:this.props.controlId,readOnly:this.props.readOnly,disabled:this.props.readOnly,onChange:this.onChange.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)},this.props.options.map(function(t,e){return r.default.createElement("option",{key:e,innerHTML:t.text})}))}var l={outline:"1px solid #727780",outlineOffset:"0px",border:0,padding:"0.4em 2em 0.4em 0.8em",boxSizing:"border-box",width:"100%",fontFamily:"inherit",fontSize:"inherit",fontWeight:"inherit",fontStyle:"inherit",color:"inherit"},u={position:"relative"},c={right:"0.5em",height:"100%",position:"absolute",width:"1.4em",pointerEvents:"none"},p=this.props.color?this.props.color:t.getStyle().control.color;return p||(p="black"),a.objectAssign(u,t.getStyle().control,this.props.style),this.state&&this.state.hasFocus&&a.objectAssign(l,this.getFocusStyle()),null!=n&&(a.objectAssign(l,a.whiteListStyles(n.style)),null!=n.style.color&&(p=n.style.color)),l.color=null===e||void 0===e?"#999":p,r.default.createElement("div",{style:u,className:"opa-select-container"},r.default.createElement("select",o({ref:"selector",style:l,id:this.props.controlId,readOnly:this.props.readOnly,disabled:this.props.readOnly,onKeyUp:"onKeyUp",onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},this.props.ariaTags),this.props.options.map(function(t,e){return r.default.createElement("option",{key:e,style:{color:null===t.value?"#999":p},innerHTML:t.text})})),r.default.createElement(s.OPMDownIcon,{color:p,style:c,className:"opa-select-widget"}))},e}(r.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=l},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(48),a=n(71),l=n(67),u=n(13),c=function(t){function e(e){t.call(this,e),this.multiFocus=new l.default(this)}return i(e,t),e.prototype.isSelectionControl=function(){return!0},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs[this.focusRef]&&this.refs[this.focusRef].focus(),!0)},e.prototype.controlRender=function(){var t=this,e=this.control,n=e.getOptions(!0),i=e.isReadOnly();void 0===this.uniqueName&&(this.uniqueName="oparadio"+this.uniqueID());var s=this.getRestyle("radioInput");this.focusRef="option0";var l=this.getDisplayValue();return null==n?r.default.createElement(u.Spinner,{size:"2em"}):e.isButtonHorizontalLayout()?n.map(function(e,n){return l===e.value&&(t.focusRef="option"+n),r.default.createElement(a.default,o({ref:"option"+n,id:t.uniqueName+n,key:n,restyle:s,readOnly:i,name:t.uniqueName,checked:l===e.value,onChange:t.onSelectValue.bind(t,e.value),htmlCaption:e.text},t.multiFocus.bindProps()))}):n.map(function(e,n){return l===e.value&&(t.focusRef="option"+n),r.default.createElement("div",{key:n},r.default.createElement(a.default,o({ref:"option"+n,id:t.uniqueName+n,restyle:s,readOnly:i,name:t.uniqueName,checked:l===e.value,onChange:t.onSelectValue.bind(t,e.value),htmlCaption:e.text},t.multiFocus.bindProps())))})},e.prototype.useFieldSet=function(){return!0},e.prototype.getFieldSetRole=function(){return"radiogroup"},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=function(t){function e(e){t.call(this,e),this.hasFocus=!1}return i(e,t),e.prototype.onFocus=function(){this.hasFocus=!0,this.hasFocusFromKeyboard=this.context.interview.recentKeyDown,this.update(),this.props.onFocus&&this.props.onFocus()},e.prototype.onBlur=function(){this.hasFocus=!1,this.hasFocusFromKeyboard=!1,this.update(),this.props.onBlur&&this.props.onBlur()},e.prototype.focus=function(){this.refs.input.focus()},e.prototype.render=function(){var t=(this.context.interview.getSession(),{whiteSpace:"nowrap",position:"relative",display:"inline-flex",marginBottom:"0.2em",cursor:void 0});this.props.readOnly||(t.cursor="default");var e,n=this.props.restyle,i=n&&(n.style||n.className),o=i?null:{display:"inline-block",marginLeft:this.context.interview.rtl?"5px":"1.7em",marginRight:this.context.interview.rtl?"1.7em":"5px",lineHeight:"1.5",position:"relative",whiteSpace:"normal"};return e=this.props.htmlCaption?""==this.props.htmlCaption||null==this.props.htmlCaption?r.default.createElement("span",{key:"htmlCaption",style:o,innerHTML:"&nbsp;"}):r.default.createElement("span",{key:"htmlCaption",style:o,innerHTML:this.props.htmlCaption}):""==this.props.caption||null==this.props.caption?r.default.createElement("span",{key:"caption",style:o}," "):r.default.createElement("span",{key:"caption",style:o},this.props.caption),i?r.default.createElement("label",{htmlFor:this.props.id,style:n.style,className:n.className},r.default.createElement("input",{ref:"input",id:this.props.id,name:this.props.name,type:"radio",disabled:this.props.readOnly,checked:this.props.checked,onChange:this.props.onChange,onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}),e):r.default.createElement("label",{htmlFor:this.props.id,className:"opa-radio-container",style:t},r.default.createElement("input",{ref:"input",id:this.props.id,name:this.props.name,style:this.context.interview.styleHideInput,type:"radio",disabled:this.props.readOnly,checked:this.props.checked,onChange:this.props.onChange,onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}),r.default.createElement(l,{restyle:n,disabled:this.props.readOnly,value:this.props.checked,focus:this.hasFocus&&this.hasFocusFromKeyboard}),e)},e}(r.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var l=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.context.interview.getSession().getStyle(),e=this.props.restyle,n={focusable:"false",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",className:"opa-radio",style:{width:"1.5em",height:"1.5em",position:"absolute"}};this.props.focus&&(e?n.style.outline="2px solid Highlight":s.objectAssign(n.style,t.focus));var i,a=e&&e.borderColor?e.borderColor:"rgb(80,80,80)",l=e&&e.fillColor?e.fillColor:t.themeColor;return i=e&&"tick"===e.iconType?[r.default.createElement("polygon",{points:"6.7,10.3 10.7,14.3 8.3,16.7  4.3,12.7",fill:l}),r.default.createElement("polygon",{points:"9.5,17.9 19.5,7.9 17.1,5.5 7.1,15.5",fill:l})]:e&&"fill"===e.iconType?i=r.default.createElement("circle",{cx:"12",cy:"12",r:"11",fill:l}):r.default.createElement("circle",{cx:"12",cy:"12",r:"5.5",fill:l}),this.props.disabled?this.props.value?r.default.createElement("svg",o({},n),r.default.createElement("circle",{cx:"12",cy:"12",r:"11",fill:"rgb(221, 221, 221)"}),i):r.default.createElement("svg",o({},n),r.default.createElement("circle",{cx:"12",cy:"12",r:"11",fill:"rgb(221, 221, 221)"})):this.props.value?r.default.createElement("svg",o({},n),r.default.createElement("circle",{cx:"12",cy:"12",r:"11.5","stroke-width":"1px",stroke:a,fill:"white"}),i):r.default.createElement("svg",o({},n),r.default.createElement("circle",{cx:"12",cy:"12",r:"11.5","stroke-width":"1px",stroke:a,fill:"white"}))},e}(r.default.Component)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(48),a=n(61),l=n(67),u=function(t){function e(e){t.call(this,e),this.format=this.control.screen.session.acceptedTimeFormats[0],this.messages=this.control.screen.session.config.messageProperties,this.clock24=!0,this.userEdited=!1,this.multiFocus=new l.default(this),this.hourOptions=[];for(var n=0;n<this.format.length;++n){if("hour24"===this.format[n].kind){for(var i=0;i<24;++i)this.hourOptions.push({value:i,text:("0"+i).slice(-2)});break}if("hour12"===this.format[n].kind){for(var i=1;i<13;++i)this.hourOptions.push({value:i,text:("0"+i).slice(-2)});this.clock24=!1;break}}this.minuteOptions=[];for(var o=0;o<60;++o)o%this.control.getMinuteIncrement()===0&&this.minuteOptions.push({value:o,text:("0"+o).slice(-2)});this.secondOptions=[];for(var o=0;o<60;++o)o%this.control.getSecondIncrement()===0&&this.secondOptions.push({value:o,text:("0"+o).slice(-2)});this.ampmOptions=[{value:"am",text:this.messages["am-meridiem-text"]},{value:"pm",text:this.messages["pm-meridiem-text"]}],this.syncHourMinSec()}return i(e,t),e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(null!=this.firstInputRef?(this.refs[this.firstInputRef].focus(),!0):void 0)},e.prototype.controlRender=function(){var t=this.context.interview.getSession();this.userEdited||this.syncHourMinSec();for(var e=null!=this.hour?this.hour:"",n=null!=this.minute?this.minute:"",i=null!=this.second?this.second:"",s=null!=this.meridiem?this.meridiem:"",l=this.control.isReadOnly()?this.control.getSession().getStyle().disabledThemeColor:void 0,u={display:"inline-block",marginRight:4,marginBottom:4},c=[],p=0;p<this.format.length;++p)switch(this.format[p].kind){case"hour12":case"hour24":null==this.firstInputRef&&(this.firstInputRef="hour"),c.push(r.default.createElement(a.default,o({ref:"hour",className:"opa-hms-hour",style:u,autoSize:!0,"aria-label":t.getMessage("hour-selection-alt"),placeholder:this.control.getHourHintText(),readOnly:this.control.isReadOnly(),triggerColor:l,options:this.hourOptions,value:e,onChange:this.setHour.bind(this)},this.multiFocus.bindProps())));break;case"minutes":null==this.firstInputRef&&(this.firstInputRef="minute"),c.push(r.default.createElement(a.default,o({ref:"minute",className:"opa-hms-minute",style:u,autoSize:!0,"aria-label":t.getMessage("minutes-selection-alt"),placeholder:this.control.getMinuteHintText(),readOnly:this.control.isReadOnly(),triggerColor:l,options:this.minuteOptions,value:n,onChange:this.setMinute.bind(this)},this.multiFocus.bindProps())));break;case"seconds":null==this.firstInputRef&&(this.firstInputRef="second"),c.push(r.default.createElement(a.default,o({ref:"second",className:"opa-hms-second",style:u,autoSize:!0,"aria-label":t.getMessage("seconds-selection-alt"),placeholder:this.control.getSecondHintText(),readOnly:this.control.isReadOnly(),triggerColor:l,options:this.secondOptions,value:i,onChange:this.setSecond.bind(this)},this.multiFocus.bindProps())));break;case"am":null==this.firstInputRef&&(this.firstInputRef="am"),c.push(r.default.createElement(a.default,o({ref:"am",className:"opa-hms-meridiem",style:u,autoSize:!0,"aria-label":t.getMessage("meridiem-selection-alt"),placeholder:this.control.getMeridiemHintText(),readOnly:this.control.isReadOnly(),triggerColor:l,options:this.ampmOptions,value:s,onChange:this.setMeridiem.bind(this)},this.multiFocus.bindProps())))}return r.default.createElement("div",{className:"opa-hms-container"},c)},e.prototype.syncHourMinSec=function(){var t=this.control.getValue();if(null==t)this.hour=this.minute=this.second=this.meridiem=null;else{var e=this.control.getValue().split(":"),n=parseInt(e[0]);this.clock24?this.hour=n:0===n||12===n?this.hour=n:this.hour=n%12,this.minute=parseInt(e[1]),this.second=parseInt(e[2]),this.meridiem=n<12?"am":"pm"}},e.prototype.setHour=function(t){this.userEdited=!0,this.hour=""!==t?t:null,this.commitValue()},e.prototype.setMinute=function(t){this.userEdited=!0,this.minute=""!==t?t:null,this.commitValue()},e.prototype.setSecond=function(t){this.userEdited=!0,this.second=""!==t?t:null,this.commitValue()},e.prototype.setMeridiem=function(t){this.userEdited=!0,this.meridiem=""!==t?t:null,this.commitValue()},e.prototype.commitValue=function(t){var e,n,i;if(this.refs.hour)if(null==this.hour||this.clock24)e=this.hour;else{var o=this.refs.am?this.meridiem:"am";e="am"==o?12==this.hour?0:this.hour:12==this.hour?12:this.hour+12}else e=0;n=this.refs.minute?this.minute:0,i=this.refs.second?this.second:0,this.editValue=null,null!=e&&null!=n&&null!=i&&(this.editValue=("0"+e).slice(-2)+":"+("0"+n).slice(-2)+":"+("0"+i).slice(-2)),this.control.checkInputRestriction(this.editValue)?this.setCurrentValue(this.editValue):this.setCurrentValue(null)},e.prototype.getErrorState=function(){var t=0,e=0;return this.refs.hour&&(t++,null!=this.hour&&e++),this.refs.minute&&(t++,null!=this.minute&&e++),this.refs.second&&(t++,null!=this.second&&e++),this.refs.am&&(t++,null!=this.meridiem&&e++),0===e?this.control.isMandatory()?{message:this.messages.MissingValueError,cause:"mandatory"}:null:t!=e?{message:this.messages.IncompleteControlError,cause:"validation"}:null==this.control.getValue()?{message:this.control.getInvalidValueMessage(),cause:"validation"}:void 0},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e.prototype.useFieldSet=function(){return!0},e.prototype.getFieldSetRole=function(){return"group"},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){var e=this.control;e.customHandler&&e.customHandler.mount&&e.customHandler.mount(this.refs.el),t.prototype.componentDidMount.call(this)},e.prototype.componentWillUnmount=function(){var e=this.control;e.customHandler&&e.customHandler.unmount&&e.customHandler.unmount(this.refs.el),t.prototype.componentWillUnmount.call(this)},e.prototype.componentDidUpdate=function(){var e=this.control;e.customHandler&&e.customHandler.update&&e.customHandler.update(this.refs.el),t.prototype.componentDidUpdate.call(this)},e.prototype.render=function(){return o.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle(this.defaultVerticalPadding())},o.default.createElement("div",{ref:"el"}),this.getAuthorText())},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=n(3),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){var e=this.control;e.customHandler&&e.customHandler.unmount&&e.customHandler.mount(),t.prototype.componentDidMount.call(this)},e.prototype.componentWillUnmount=function(){var e=this.control;e.customHandler&&e.customHandler.unmount&&e.customHandler.unmount(),t.prototype.componentWillUnmount.call(this)},e.prototype.componentDidUpdate=function(){var e=this.control;e.customHandler&&e.customHandler.unmount&&e.customHandler.update(),t.prototype.componentDidUpdate.call(this)},e.prototype.onClick=function(t){if(window.OraclePolicyAutomation.Mobile&&"A"==t.target.tagName){var e=t.target.href;launchLinkInExternalBrowser(e),t.preventDefault()}},e.prototype.render=function(){var t,e,n,i,r=this.control,a=r.getTextStyle(),l=this.context.interview.getSession().getStyle();"Heading 1"==a?(t="h1",e="opa-control",n=l.h1):"Heading 2"==a?(t="h2",e="opa-control",n=l.h2):"Heading 3"==a?(t="h3",e="opa-control",n=l.h3):"Heading 4"==a?(t="h4",e="opa-control",n=l.h4):"Heading 5"==a?(t="h5",e="opa-control",n=l.h5):"Heading 6"==a?(t="h6",e="opa-control",n=l.h6):"Alert"==a?(t="div",e="opa-alert",n=l.alert):"Comment"==a?(t="div",e="opa-comment",n=l.comment):"Question"==a?(t="div",e="opa-question",n=l.question):(t="div",e="opa-normal",n=l.normal);var u=this.getRestyle("label");return null!=u&&null!=u.className?(n=s.objectAssign({},this.defaultHorizontalPadding(),u.style),i=o.default.createElement(t,{className:u.className,style:n,innerHTML:r.getCaption()})):(n=s.objectAssign({margin:0,padding:0},this.defaultHorizontalPadding(),n),null!=u&&s.objectAssign(n,s.whiteListStyles(u.style)),i=o.default.createElement(t,{className:e,style:n,innerHTML:r.getCaption()})),o.default.createElement("div",{className:"opa-control-item",onClick:"onClick",style:this.defaultItemStyle(this.defaultVerticalPadding())},i,this.getAuthorText())},e.prototype.getCaptionElement=function(){return o.default.getDOM(this)},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.props.control;return o.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle(this.defaultVerticalPadding()),innerHTML:t.getContent()})},e.prototype.getCaptionElement=function(){return o.default.getDOM(this)},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(46),s=n(11),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.control,e=t.getControls();return t.isHorizontal()?o.default.createElement("div",{className:"opa-container-horizontal",style:this.defaultItemStyle()},e.map(function(t,e){return t.isVisible()?o.default.el(r.default(t),{control:t,inHorizontalContainer:!0,key:e},null):null}),this.getAuthorText()):o.default.createElement("div",{className:"opa-container-vertical",style:this.defaultItemStyle()},e.map(function(t,e){return t.isVisible()?o.default.el(r.default(t),{control:t,key:e},null):null}),this.getAuthorText())},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){this.handleCustomControlMount(this.refs.el),t.prototype.componentDidMount.call(this)},e.prototype.componentWillUnmount=function(){this.handleCustomControlUnmount(this.refs.el),t.prototype.componentWillUnmount.call(this)},e.prototype.componentDidUpdate=function(){this.handleCustomControlUpdate(this.refs.el),t.prototype.componentDidUpdate.call(this)},e.prototype.validateControl=function(t){return this.handleCustomControlValidate(this.refs.el,t)},e.prototype.render=function(){var t,e=this.control,n=(e.getSession().getStyle(),e.getError());return null!=n&&(t=this.buildErrorPanel(n.message,2,null)),o.default.createElement("div",{style:this.defaultItemStyle(this.defaultVerticalPadding())},o.default.createElement("div",{ref:"el",style:this.defaultHorizontalPadding()}),t,this.getAuthorText())},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=n(3),a=function(t){function e(e){var n=this;if(t.call(this,e),this.state={fileCount:1,newUploads:[],dragOver:!1},window.OraclePolicyAutomation.Mobile){var i=this.props.control;i.getExistingAttachments().map(function(t,e){"image/"==t.mimeType.substring(0,6)&&getAttachmentImage(t.attachmentUri,function(e){t.dataUri=e,this.update()}.bind(n))})}}return i(e,t),e.prototype.validateControl=function(t){var e=this.props.control,n=this.context.interview.getSession();if(!e.hasAnswer())return!0;if(e.isMandatory()&&0==e.getNewAttachments().length&&0==e.getExistingAttachments().length)return this.setState({error:n.getMessage("MissingAttachmentError")}),!1;var i=0;return e.getNewAttachments().forEach(function(t){i+=t.size}),i>n.getMaxTotalAttachmentSize()?(this.setState({error:n.getExceedsMaxTotalAttachmentSizeMessage()}),!1):(this.setState({error:null}),!0)},e.prototype.addClicked=function(t){t.preventDefault(),t.stopPropagation();var e=this.refs["f"+(this.state.fileCount-1)];e.click()},e.prototype.galleryClicked=function(t){t.preventDefault(),t.stopPropagation();var e=this.refs["button-add-gallery"].getBoundingClientRect(),n=new CameraPopoverOptions(e.left,e.top,100,100,navigator.camera.PopoverArrowDirection.ARROW_ANY),i=navigator.camera.DestinationType.FILE_URI;"UWP"==window.OraclePolicyAutomation.mobileOs&&(i=navigator.camera.DestinationType.NATIVE_URI),navigator.camera.getPicture(this.mobileAddFile.bind(this),function(t){},{quality:100,sourceType:navigator.camera.PictureSourceType.PHOTOLIBRARY,encodingType:navigator.camera.EncodingType.JPEG,destinationType:i,popoverOptions:n})},e.prototype.cameraClicked=function(t){t.preventDefault(),t.stopPropagation();var e=navigator.camera.DestinationType.FILE_URI;"UWP"==window.OraclePolicyAutomation.mobileOs&&(e=navigator.camera.DestinationType.NATIVE_URI),navigator.camera.getPicture(this.mobileAddFile.bind(this),function(t){},{quality:100,sourceType:navigator.camera.PictureSourceType.CAMERA,encodingType:navigator.camera.EncodingType.JPEG,destinationType:e})},e.prototype.mobileAddFile=function(t){var e=this.props.control;processCapturedImage(t,function(t,n,i){var o=n.split("/"),r=o[o.length-1];t>this.context.interview.getSession().getMaxAttachmentSize()?this.setState({error:this.context.interview.getSession().getExceedsMaxAttachmentSizeMessage(r)}):this.context.interview.getSession().getMaxAttachmentNameChars()>0&&r.length>this.context.interview.getSession().getMaxAttachmentNameChars()?this.setState({error:this.context.interview.getSession().getExceedsMaxAttachmentNameChars(r)}):(e.addNewAttachmentAsFileUri(n,r,t,i),this.setState({fileCount:this.state.fileCount+1}))}.bind(this))},e.prototype.addFile=function(t){var e=this,n=this.control,i=!0;if(t.size>this.context.interview.getSession().getMaxAttachmentSize()&&(this.setState({error:this.context.interview.getSession().getExceedsMaxAttachmentSizeMessage(t.name)}),i=!1),n.getSession().isAllowableExtension(t.name)||(this.setState({error:this.context.interview.getSession().getAttachmentNotAllowedMessage(t.name)}),i=!1),this.context.interview.getSession().getMaxAttachmentNameChars()>0&&t.name.length>this.context.interview.getSession().getMaxAttachmentNameChars()&&(this.setState({error:this.context.interview.getSession().getExceedsMaxAttachmentNameChars(t.name)}),i=!1),!i)return!1;var o=new FileReader;return o.onload=function(){var i=o.result;return null==i||"data:"===i||0===i.indexOf("data:")&&i.indexOf(",")>0&&0===i.split(",")[1].length?void e.setState({error:e.context.interview.getSession().getMessage("AttachmentEmptyError").replace("${e.getFilename()}",t.name)}):(n.addNewAttachment(t,i),void e.setState({}))},o.readAsDataURL(t),!0},e.prototype.addFiles=function(t){if(this.setState({error:null}),t)for(var e=0;e<t.length;e++)this.addFile(t[e])},e.prototype.fileAdded=function(){var t=this.refs["f"+(this.state.fileCount-1)];this.addFiles(t.files),this.setState({fileCount:this.state.fileCount+1})},e.prototype.newFileDeleted=function(t,e){var n=this.props.control;n.removeNewAttachment(t),this.update(),e.preventDefault()},e.prototype.existingFileDeleted=function(t,e){var n=this.props.control;return n.removeExistingAttachment(t),this.setState({}),e.preventDefault(),!1},e.prototype.onDrop=function(t){return this.setState({dragOver:!1}),this.addFiles(t.dataTransfer.files),t.preventDefault(),t.stopPropagation(),!1},e.prototype.onDragOver=function(t){return this.setState({dragOver:!0}),t.preventDefault(),t.stopPropagation(),!1},e.prototype.onDragLeave=function(t){return this.setState({dragOver:!1}),t.preventDefault(),t.stopPropagation(),!1},e.prototype.render=function(){for(var t=this,e=this.props.control,n=e.screen.session,i=e.isReadOnly(),a=e.getSession().getStyle(),l=this.getRestyle("question"),u=l?l.style:a.question,c=l?l.className:null,p=s.objectAssign({},this.defaultHorizontalPadding(),u),h=this.getRestyle("uploadAddButton"),d=h?h.style:null,f=h?h.className:"opa-file-add",g=[],m=n.enforceAttachmentWhitelist()?"."+n.getExtensionWhitelist().join(",."):"*",y=0;y<this.state.fileCount;y++)g.push(o.default.createElement("input",{key:y,style:{display:"none"},type:"file",accept:m,multiple:!0,ref:"f"+y,onChange:this.fileAdded.bind(this)}));var v=this.state.error;if(null==v){var b=this.props.control.getError();b&&(v=b.message)}var w,x;v?(w=r.default.getErrorIcon(this,v),x=this.buildErrorPanel(v,2,null)):w=this.getMandatoryDecoration();var S,C="opmadd"+this.uniqueID();i||(S=window.OraclePolicyAutomation.Mobile?o.default.createElement("div",{className:"opa-file-add-buttons"},o.default.createElement("button",{ref:"button-add-gallery",className:"opa-file-add-gallery",onClick:this.galleryClicked.bind(this)}),o.default.createElement("button",{ref:"button-add-camera",id:C,className:"opa-file-add-camera",onClick:this.cameraClicked.bind(this)})):o.default.createElement("button",{id:C,className:f,style:d,onClick:this.addClicked.bind(this)},"Add"));var E=this.getControlStyle(),I=E.style,T=E.className;return o.default.createElement("div",{className:"opa-control-item"+(this.state.dragOver?" opa-drag-over":""),onDrop:this.onDrop.bind(this),onDragOver:this.onDragOver.bind(this),onDragLeave:this.onDragLeave.bind(this),style:this.defaultItemStyle(this.defaultVerticalPadding())},g,this.props.inTable?null:o.default.createElement("div",{className:"opa-question",style:p},o.default.createElement("label",{ref:"question",htmlFor:C},this.getQuestionTextSpan(c)),w),o.default.createElement("div",{className:T,style:I},e.getExistingAttachments().map(function(n,r){var s;s="image/"==n.mimeType.substring(0,6)?n.dataUri?o.default.createElement("img",{className:"opa-file-item-image",src:n.dataUri}):o.default.createElement("img",{className:"opa-file-item-image",src:e.getSession().buildURL(n.attachmentUri)}):o.default.createElement("div",{className:"opa-file-item-file"});var a="";return window.OraclePolicyAutomation.Mobile||(a=o.default.createElement("div",{className:"opa-file-caption"},n.fileName)),o.default.createElement("div",{className:"opa-file-item",key:"attach-"+n.attachmentId},o.default.createElement("div",{className:"opa-file-preview"},i?null:o.default.createElement("div",{className:"opa-file-delete"},o.default.createElement("a",{href:"#",onClick:t.existingFileDeleted.bind(t,n.attachmentId)},"Delete")),s),a)}),i?null:e.getNewAttachments().map(function(e,n){var i,r="";e.fileName.lastIndexOf(".")>0&&(r=e.fileName.substring(e.fileName.lastIndexOf(".")+1)),i="image/"==e.mimeType.substring(0,6)?"UWP"==window.OraclePolicyAutomation.mobileOs?o.default.createElement("img",{className:"opa-file-item-image",src:e.dataUri}):o.default.createElement("img",{className:"opa-file-item-image",src:e.data}):o.default.createElement("div",{className:"opa-file-item-file"},o.default.createElement("label",null,r));var s="";return window.OraclePolicyAutomation.Mobile||(s=o.default.createElement("div",{className:"opa-file-caption"},e.fileName)),o.default.createElement("div",{className:"opa-file-item",key:n},o.default.createElement("div",{className:"opa-file-preview"},o.default.createElement("div",{className:"opa-file-delete"},o.default.createElement("a",{href:"#",onClick:t.newFileDeleted.bind(t,n)},"Delete")),i),s)}),S),x,this.getAuthorText())},e.prototype.getCaptionElement=function(){return this.props.inTable?this.props.inTable.getColumnCaptionElement(this.props.inTableColumn):this.refs.question},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=n(43),a=n(12),l=n(3),u=n(15),c=n(14),p=function(t){function e(e){t.call(this,e),this.errorState=new s.default}return i(e,t),e.prototype.getErrorState=function(){var t=this.control,e=this.context.interview.session;return t.isMandatory()&&!t.hasSignature()?{message:e.getMessage("SignatureBlankError"),cause:"mandatory"}:null},e.prototype.validateControl=function(t){var e=this.getErrorState();return this.errorState.setError(e,t),null==e},e.prototype.onMouseDown=function(t){var e=this,n=this.control,i=n.isReadOnly();if(!i){var o=this.clientToCanvas(t),r=o[0],s=o[1];this.tracking={x:r,y:s};var l=this.refs.canvas.getContext("2d");l.fillStyle=null!=this.inkColor?this.inkColor:"#009",l.fillRect(r-1,s-1,2,2),this.squiggled=!0,t.stopPropagation(),t.preventDefault(),a.mouseTrack(function(t){if(t){var i=e.clientToCanvas(t),o=i[0],r=i[1],s=e.refs.canvas.getContext("2d");e.squiggled=!0,s.beginPath(),s.strokeStyle=null!=e.inkColor?e.inkColor:"#009",s.lineWidth=2,s.moveTo(e.tracking.x,e.tracking.y),s.lineTo(o,r),s.stroke(),e.tracking={x:o,y:r}}else e.tracking=null,e.squiggled&&(n.setValue(e.refs.canvas.toDataURL("image/png")),e.errorState.setError(e.getErrorState(),1),e.update())})}},e.prototype.clientToCanvas=function(t){var e=this.refs.canvas,n=t.clientX,i=t.clientY,o=a.getElementBounds(e),r=o[0],s=o[1];return[n-r+window.pageXOffset,i-s+window.pageYOffset]},e.prototype.onTouchStart=function(t){void 0===this.activeTouches&&(this.activeTouches={}),t.stopPropagation(),t.preventDefault();var e=this.control.isReadOnly();if(!e){this.squiggled=!0;var n=this.refs.canvas.getContext("2d");n.fillStyle=null!=this.inkColor?this.inkColor:"#009";for(var i=0;i<t.changedTouches.length;i++){var o=t.changedTouches[i],r=this.clientToCanvas(o);this.activeTouches[o.identifier]=r,n.fillRect(r[0]-1,r[1]-1,2,2)}}},e.prototype.onTouchMove=function(t){t.stopPropagation(),t.preventDefault();var e=this.control.isReadOnly();if(!e){var n=this.refs.canvas.getContext("2d");this.squiggled=!0;for(var i=0;i<t.changedTouches.length;i++){var o=t.changedTouches[i],r=this.activeTouches[o.identifier],s=this.clientToCanvas(o);n.beginPath(),n.strokeStyle=null!=this.inkColor?this.inkColor:"#009",n.lineWidth=2,n.moveTo(r[0],r[1]),n.lineTo(s[0],s[1]),n.stroke(),this.activeTouches[o.identifier]=s}}},e.prototype.onTouchEnd=function(t){t.stopPropagation(),t.preventDefault();var e=this.control.isReadOnly();if(!e&&0==t.touches.length){var n=this.control;this.squiggled&&(n.setValue(this.refs.canvas.toDataURL("image/png")),this.errorState.setError(this.getErrorState(),1),this.update())}},e.prototype.onClear=function(t){var e=this.control,n=e.getSession();if(!e.hasExistingSignature()){var i=this.refs.canvas.getContext("2d");i.beginPath(),i.rect(0,0,n.getSignatureWidth(),n.getSignatureHeight()),i.fillStyle="#fff",i.fill()}e.clearSignature(),this.squiggled=!1,t.stopPropagation(),t.preventDefault(),this.setState({})},e.prototype.componentDidMount=function(){
var e=this.control,n=e.getSession();if(t.prototype.componentDidMount.call(this),!e.hasExistingSignature()){var i=this.refs.canvas.getContext("2d");i.beginPath(),i.rect(0,0,n.getSignatureWidth(),n.getSignatureHeight()),i.fillStyle="#fff",i.fill()}},e.prototype.render=function(){var t,e,n=this.control,i=n.isReadOnly(),s=this.context.interview.getSession().getStyle(),a=n.getSession(),p=this.getRestyle("question"),h=p?l.whiteListStyles(p.style):s.question,d=p?p.className:null,f=l.objectAssign({},this.defaultHorizontalPadding(),h),g=this.getRestyle("signatureClearButton"),m=this.defaultAuthorStyle(g?g.style:l.objectAssign({},u.default.buttonStyle,s.clearSignatureButton),"ClearButton"),y=null!=g?g.className:null,v=this.getRestyle("signatureInput"),b=this.getMandatoryDecoration();this.errorState.hasError()?(e=this.errorState.getErrorMessage(),b=r.default.getErrorIcon(this,e)):null!=n.getError()&&(e=n.getError().message),e&&(e=this.buildErrorPanel(e,2,null));var w={};null!=v&&null!=v.className?(t=v.className,null!=e&&null!=v.errorClassName&&(t+=" "+v.errorClassName)):(t="opa-signature",l.objectAssign(w,{outline:"1px solid #727780",cursor:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFBAMAAAB/QTvWAAAAFVBMVEUCG//k5v8CG/8CG//////d4P8CG/+6r3tLAAAABnRSTlPGM7WiVDU3olO7AAAAGklEQVQI12NwSBZgUEtjYEhLS2BgA9ICCQEAJDQDmENTvLAAAAAASUVORK5CYII=) 2 2, crosshair"})),v&&(l.objectAssign(w,v.style),e&&l.objectAssign(w,v.errorStyle),this.inkColor=v.inkColor);var x={position:"absolute",width:a.getSignatureWidth()-28,height:1,top:a.getSignatureLineHeight(),left:14,borderTop:"dotted 1px #777",pointerEvents:"none"},S=this.getControlStyle(),C=S.style,E=S.className;return o.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle(this.defaultVerticalPadding())},this.props.inTable?null:o.default.createElement("div",{className:"opa-question",style:f},o.default.createElement("label",{ref:"question"},this.getQuestionTextSpan(d)),b),o.default.createElement("div",{className:E,style:C},o.default.createElement("div",null,n.hasExistingSignature()?o.default.createElement("img",{src:n.getExistingSignatureURI()}):o.default.createElement("div",{className:"opa-signature-input",style:{position:"relative"}},o.default.createElement("canvas",{ref:"canvas",className:t,style:w,width:a.getSignatureWidth(),height:a.getSignatureHeight(),onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onTouchStart.bind(this),onTouchMove:this.onTouchMove.bind(this),onTouchEnd:this.onTouchEnd.bind(this)}),i?null:o.default.createElement("div",{style:x}))),i?null:o.default.createElement("div",null,o.default.createElement(c.default,{ref:"clearButton",className:y,style:m,onClick:this.onClear.bind(this)},n.getClearButtonText()))),e,this.getAuthorText())},e.prototype.getCaptionElement=function(t){return"ClearButton"===t?o.default.getDOM(this.refs.clearButton):this.props.inTable?this.props.inTable.getColumnCaptionElement(this.props.inTableColumn):this.refs.question},e.prototype.getErrorId=function(){return"opa-err"+this.uniqueID()},e.prototype.getAuthorPartElements=function(){return{ClearButton:o.default.getDOM(this.refs.clearButton)}},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=p},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t,e,n=this.context.interview.getSession(),i=this.control;e=n.isAuthoring()?"#":i.getDocumentUri(),"NewWindow"===i.getDisposition()&&(t="_blank");var r;return r=window.OraclePolicyAutomation.Mobile?"":o.default.createElement("a",{target:t,href:e,innerHTML:i.getCaption()}),o.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle(this.defaultVerticalPadding())},o.default.createElement("div",{className:"opa-document",style:this.defaultHorizontalPadding()},r),this.getAuthorText())},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){return o.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle()},"Currently unsupported")},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(11),a=function(t){function e(e){t.call(this,e)}return i(e,t),e.prototype.onLoad=function(t){var e=this.context.interview;e.imageLoaded(this,t.target)},e.prototype.render=function(){var t=this.control;if(window.OraclePolicyAutomation.Mobile&&!this.resourceUri)return void getResourceImage(t.getImageSource(),this.setResourceUri.bind(this));var e={display:"flex",justifyContent:void 0};switch(t.getHorizontalAlignment()){case"left":e.justifyContent="flex-start";break;case"center":e.justifyContent="center";break;case"right":e.justifyContent="flex-end"}var n;n=this.resourceUri?this.resourceUri:t.getImageSource();var i=t.getCaption(),s=o.default.createElement("img",{alt:i,onLoad:this.onLoad.bind(this),style:{width:t.getWidth(),height:t.getHeight(),display:"block"},src:n});t.getLinkUrl()&&(s=o.default.createElement("a",{href:t.getLinkUrl()},s));var a=this.getControlStyle(),l=a.style,u=a.className;return r.objectAssign(l,e),o.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle(this.defaultVerticalPadding())},o.default.createElement("div",{className:u,style:l},s))},e.prototype.setResourceUri=function(t){this.resourceUri=t,this.update()},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(11),a=n(13),l=n(3),u=n(15),c=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onChange=function(t){var e=this.control;e.setValue(t.target.value),this.setState({})},e.prototype.render=function(){var t=this.context.interview.session,e=t.getStyle(),n=this.control,i=this.control.getError(),s=this.getRestyle("question"),c=s?l.whiteListStyles(s.style):e.question,p=s?s.className:null,h=l.objectAssign({},this.defaultHorizontalPadding(),c),d=this.getRestyle("captchaInput"),f=d?l.whiteListStyles(d.style):u.default.textInputStyle,g=d?d.className:null,m=this.getControlStyle(),y=m.style,v=m.className,b={};i&&(i=this.buildErrorPanel(i.message,2,this.getErrorId()),b["aria-invalid"]=!0,b["aria-describedby"]=this.getErrorId());var w,x=t.getSpeakerIcon();return w=null!==x?r.default.createElement("img",{src:x,alt:t.getMessage("captcha-audio-alt-text")}):r.default.createElement(a.SpeakerIcon,{color:"#000",style:{height:"16px",width:"16px"},title:t.getMessage("captcha-audio-alt-text")}),r.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle(this.defaultVerticalPadding())},this.props.inTable?null:r.default.createElement("div",{className:"opa-question",style:h},r.default.createElement("label",{htmlFor:this.getLabelFor(),ref:"question"},this.getQuestionTextSpan(p))),r.default.createElement("div",{className:v,style:y},t.isAuthoring()?r.default.createElement("div",{className:"opa-captcha"},r.default.createElement("img",{src:"captcha.png"}),r.default.createElement("a",{href:"#"},w)):r.default.createElement("div",{className:"opa-captcha"},r.default.createElement("img",{src:n.getImageURI(),alt:t.getMessage("captcha-image-alt-text")}),r.default.createElement("a",{href:n.getAudioURI(),target:"_audio"},w)),r.default.createElement("div",{style:{maxWidth:250,paddingTop:4}},r.default.createElement("input",o({type:"text",className:g,style:f,id:this.getLabelFor(),value:n.getValue(),onChange:"onChange","aria-required":"true"},b)))),i,this.getAuthorText())},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e.prototype.getErrorId=function(){return"opa-err"+this.uniqueID()},e.prototype.getCaptionElement=function(){return this.props.inTable?this.props.inTable.getColumnCaptionElement(this.props.inTableColumn):this.refs.question},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=n(85),a=n(5),l=n(21),u=n(3),c=n(12),p=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t,n=this,i=this.context.interview.getSession(),r=this.props.item;r.caption;return r.ruleTags&&this.props.showRuleTags&&(t=i.isDebugging()?r.ruleTags.map(function(t){return o.default.createElement("span",{class:"opa-tag"},o.default.createElement("a",{href:"#rule-tag:"+t},t))}):r.ruleTags.map(function(t){return o.default.createElement("span",{class:"opa-tag"},t)})),r.controls.length>0?o.default.createElement("li",null,o.default.createElement("span",{innerHTML:r.caption}),t,o.default.createElement("ul",null,r.controls.map(function(t,i){return o.default.createElement(e,{showRuleTags:n.props.showRuleTags,key:i,item:t})}))):o.default.createElement("li",null,o.default.createElement("span",{innerHTML:r.caption}),t)},e}(o.default.Component),h=function(t){function e(){t.apply(this,arguments),this.expanded=!1}return i(e,t),e.prototype.toggleVisible=function(t){"a"==t.target.localName.toLowerCase()&&"opa-tag"==t.target.parentNode.className||(this.expanded=!this.expanded,this.update(),t.preventDefault())},e.prototype.ruleTagHTML=function(t){var e=this.context.interview.getSession();return t&&this.control.showRuleTags()?e.isDebugging()?t.map(function(t){return'<span class="opa-tag"><a href="#rule-tag:'+encodeURIComponent(t)+'">'+a.default.htmlEncode(t)+"</a></span>"}).join(" "):t.map(function(t){return'<span class="opa-tag">'+a.default.htmlEncode(t)+"</span>"}).join(" "):""},e.prototype.childComponentDidMount=function(t,e){"expanded"===t&&c.animateExpand(e[0])},e.prototype.childComponentDestroying=function(t,e){if("expanded"===t)return c.animateRemoval(e[0]),!1},e.prototype.render=function(){var t=this,e=this.control,n=this.context.interview.getSession(),i=this.getRestyle("explanationHeader"),r=this.getRestyle("explanationText"),a=(r?u.whiteListStyles(r.style):null,r?r.className:null,{display:"flex",cursor:"pointer",marginBottom:"0.5em",borderBottom:"dotted 1px black",paddingBottom:"0.5em",alignItems:"flex-end"}),c={verticalAlign:"baseline",flex:"1 1"};i?u.objectAssign(c,u.whiteListStyles(i.style)):u.objectAssign(c,{fontWeight:"bold"});var h,d=i?i.className:null,f={color:"#727780",fontSize:"small",verticalAlign:"baseline",textDecoration:"none"};this.expanded&&(h=e.getExplanation().map(function(n,i){var a;if(0==n.controls.length){var l=s.default.getClassName(r),c=l?null:s.default.getStyle(r);a=o.default.createElement("div",{className:l,style:c,innerHTML:n.caption+t.ruleTagHTML(n.ruleTags)})}else a=o.default.createElement(s.default,{restyle:r,caption:n.caption+t.ruleTagHTML(n.ruleTags)},o.default.createElement("ul",{style:{lineHeight:1.5}},n.controls.map(function(t,n){return o.default.createElement(p,{key:n,showRuleTags:e.showRuleTags(),item:t,depth:0})})));return o.default.createElement("div",{style:u.objectAssign({marginBottom:"0.5em"},t.defaultHorizontalPadding())},a)}),h=o.default.createElement("div",{ref:"expanded"},h));var g=this.expanded?n.getMessage("explanation-hide-details").toUpperCase():n.getMessage("explanation-show-details").toUpperCase(),m=this.expanded?n.getMessage("tree-collapse-alt"):n.getMessage("tree-expand-alt"),y=this.getControlStyle(),v=y.style,b=y.className;return o.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle(this.defaultVerticalPadding())},o.default.createElement("div",{onClick:"toggleVisible",className:b,style:v},o.default.createElement("div",{style:a},o.default.createElement("div",{className:d,style:c,innerHTML:e.getCaption()+this.ruleTagHTML(e.getRuleTags())}),o.default.createElement(l.default,{href:"#",style:f,title:m},g))),h,this.getAuthorText())},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=h},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(13),s=n(3),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.isExpanded=function(){return this.expanded},e.prototype.toggle=function(t){if("a"!=t.target.localName){this.expanded=!this.expanded,t.stopPropagation(),this.update();var e=this.refs.content;if(this.expanded){e.style.height="auto";var n=e.clientHeight;e.style.height="0px",setTimeout(function(){return e.style.height=n+"px"},10),setTimeout(function(){return e.style.height="auto"},150)}else{e.style.height="auto";var i=e.clientHeight;e.style.height=i+"px",setTimeout(function(){return e.style.height="0px"},10)}}},e.prototype.onKeyDown=function(t){13==t.keyCode&&this.toggle(t)},e.prototype.onFocus=function(){this.setState({focus:!0}),this.hasFocusFromKeyboard=this.context.interview.recentKeyDown},e.prototype.onBlur=function(){this.setState({focus:!1}),this.hasFocusFromKeyboard=!1},e.prototype.render=function(){var t=this.context.interview.getSession(),n=this.expanded,i=e.getClassName(this.props.restyle),a=i?null:e.getStyle(this.props.restyle),l={cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"};return l=this.state&&this.state.focus&&this.hasFocusFromKeyboard?s.objectAssign({},l,this.context.interview.getSession().getStyle().focus):s.objectAssign({},l,{outline:"none"}),o.default.createElement("div",{style:a,className:i},o.default.createElement("div",{tabindex:"0",style:l,onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown",onClick:this.toggle.bind(this)},o.default.createElement("div",{innerHTML:this.props.caption}),n?o.default.createElement(r.OPMUpIcon,{title:t.getMessage("tree-collapse-alt"),style:{width:18,height:18}}):o.default.createElement(r.OPMDownIcon,{title:t.getMessage("tree-expand-alt"),style:{width:18,height:18}})),o.default.createElement("div",{ref:"content",style:{height:n?"auto":"0px",overflow:"hidden",transition:"height 0.1s"}},this.props.children))},e.getClassName=function(t){return t?t.className:null},e.getStyle=function(t){var e={backgroundColor:"#f5f5f5",paddingLeft:10,paddingRight:10,paddingTop:6,paddingBottom:6};return t&&s.objectAssign(e,s.whiteListStyles(t.style)),e},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=n(48),l=n(12),u=function(t){function e(e){t.call(this,e),this.typeaheadText="",this.typeahead=0}return i(e,t),e.prototype.isSelectionControl=function(){return!0},e.prototype.onKeyDown=function(t){var e=this.control;if(!e.isReadOnly()){var n=this.sliderValue(),i=this.minValue(),o=this.maxValue();if(null==n&&(n=i),33==t.which||37==t.which||38==t.which){this.hasFocusFromKeyboard=!0;var r=33==t.which?(o-i)/4:1;t.preventDefault(),n>i&&this.setSliderValue(Math.max(i,Math.round(n-r)))}else if(34==t.which||39==t.which||40==t.which){this.hasFocusFromKeyboard=!0;var r=34==t.which?(o-i)/4:1;t.preventDefault(),n<o&&this.setSliderValue(Math.min(o,Math.round(n+r)))}else 36==t.which?(t.preventDefault(),this.setCurrentValue(i)):35==t.which&&(t.preventDefault(),this.setCurrentValue(o));this.selectedValue=e.getValue()}},e.prototype.onKeyUp=function(t){9==t.keyCode&&(this.hasFocusFromKeyboard=!0,this.update())},e.prototype.onKeyPress=function(t){var e=this.control;if(!e.isReadOnly()){if(e.usesEnumeration()){var n=this.enumValues(),i=t.key;this.typeaheadText+=i,this.hasFocusFromKeyboard=!0;for(var o=0;o<n.length;o++){var r=l.htmlDecode(n[o].text);if(r.substring(0,this.typeaheadText.length).toLowerCase()==this.typeaheadText.toLowerCase()){this.onSelectValue(n[o].value);break}}}else{var s=this.minValue(),a=this.maxValue();if(t.which>=48&&t.which<58){var i=t.which-48,u=i+10*this.typeahead;u>=s&&u<=a?(this.typeahead=u,this.onSelectValue(this.typeahead)):i>=s&&i<=a?(this.typeahead=i,this.onSelectValue(this.typeahead)):u<s?this.typeahead=u:(this.typeahead=0,this.onSelectValue(a)),this.hasFocusFromKeyboard=!0}}void 0!==this.clearTypeaheadTimer&&clearTimeout(this.clearTypeaheadTimer),this.clearTypeaheadTimer=setTimeout(this.clearTypeahead.bind(this),1e3)}},e.prototype.clearTypeahead=function(){delete this.clearTypeaheadTimer,this.typeaheadText="",this.typeahead=0},e.prototype.updateSliderFromEvent=function(t){var e=this.control;if(!e.isReadOnly()&&!this.isInvalidSlider()){var n=l.getEventPoint(t,this.refs.control);t.preventDefault();var i=n[0]/this.refs.control.offsetWidth;i=Math.min(this.maxValue(),Math.max(this.minValue(),Math.round(this.minValue()+i*(this.maxValue()-this.minValue())))),this.isEnumSlider()&&(i=this.enumValues()[i].value),this.onSelectValue(i),this.update()}},e.prototype.onMouseDown=function(t){var e=this,n=this.control;t.preventDefault(),n.isReadOnly()||this.isInvalidSlider()||(this.refs.knob.focus(),this.tracking=!0,this.updateSliderFromEvent(t),l.mouseTrack(function(t){t?e.updateSliderFromEvent(t):(e.tracking=!1,e.update())}))},e.prototype.sliderValue=function(){var t=this.control,e=t.getValue();if(this.isEnumSlider()){for(var n=this.enumValues(),i=0;i<n.length;i++)if(n[i].value===e)return i;return 0}return null==e&&(e=this.minValue()),e},e.prototype.setSliderValue=function(t){this.isEnumSlider()?this.onSelectValue(this.enumValues()[t].value):this.onSelectValue(t)},e.prototype.isInvalidSlider=function(){return this.isEnumSlider()&&0==this.enumValues().length},e.prototype.isEnumSlider=function(){var t=this.control;return t.usesEnumeration()||t.hasListOptions()||!("number"==t.getDataType()||"currency"==t.getDataType())},e.prototype.enumValues=function(){return this.isEnumSlider()?this.control.getOptions().filter(function(t){return null!=t.value}):[]},e.prototype.minValue=function(){if(this.isEnumSlider())return 0;var t=this.control;return t.minimumValue()},e.prototype.maxValue=function(){this.control;if(this.isEnumSlider())return this.enumValues().length-1;var t=this.control;return t.maximumValue()},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.knob.focus(),!0)},e.prototype.controlRender=function(){var t=this.control,e=this.sliderValue(),n=this.context.interview.getSession().getStyle().themeColor,i=t.isReadOnly(),a={position:"relative",height:24,marginLeft:12,marginRight:12},u={height:6,backgroundColor:i?"#ddd":"white",borderRadius:3,border:"solid 1px #727780",position:"absolute",width:"100%",boxSizing:"border-box",marginTop:9,marginBottom:9},c={height:6,backgroundColor:n,borderRadius:3,position:"absolute",top:9,width:void 0},p={width:24,height:24,backgroundColor:i?"#ddd":n,borderRadius:12,position:"absolute",top:0,marginTop:0,marginLeft:-12,border:"solid 1px #727780",boxSizing:"border-box",left:void 0,outline:"none"},h={width:1,height:6,backgroundColor:"#ccc",left:"0%",top:18,position:"absolute"},d={display:"flex",marginLeft:12,marginRight:12},f={width:"50%",textAlign:"left",overflow:"hidden",textOverflow:"ellipsis"},g={width:"100%",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis"},m={width:"50%",textAlign:"right",overflow:"hidden",textOverflow:"ellipsis"},y=s.objectAssign({},h,{left:"50%"}),v=s.objectAssign({},h,{left:"100%"});s.objectAssign(a),this.hasFocus&&(this.hasFocusFromKeyboard?s.objectAssign(p,this.getFocusStyle()):p.outline="none");var b,w,x=this.minValue(),S=this.maxValue(),C=[],E=[],I=null,T="";if(this.isEnumSlider()){var O=this.enumValues();O.length>0&&(b=O[0].text,w=O[O.length-1].text);for(var k=0;k<O.length;k++)C.push(r.default.createElement("div",{style:s.objectAssign({},h,{left:100*k/(O.length-1)+"%"})}));for(var k=1;k<O.length-1;k++)E.push(r.default.createElement("div",{style:g,innerHTML:O[k].text}));e>=0&&e<O.length&&(T=l.htmlDecode(O[e].text))}else{var D=this.control;b=D.leftCaption(),w=D.rightCaption(),C.push(r.default.createElement("div",{style:h})),C.push(r.default.createElement("div",{style:y})),C.push(r.default.createElement("div",{style:v})),T=e}var M;if(M=S>x?(e-x)/(S-x)*100:0,c.width=M+"%",p.left=M+"%",!this.isEnumSlider()){var P={height:"1.3em",position:"relative"},R={position:"absolute",left:M+"%",transform:"translate(-"+M+"%,0)",whiteSpace:"nowrap"};I=r.default.createElement("div",{style:P},r.default.createElement("div",{style:R},t.format(e)))}var A;if(t.usesEnumeration()&&t.getEnumeration().hasImages()&&!this.context.interview.getSession().disableImageSliders()){var O=this.enumValues();E=[];for(var k=1;k<O.length-1;k++)E.push(r.default.createElement("div",{style:g},r.default.createElement("img",{src:O[k].uncheckedImage,alt:O[k].text,title:O[k].text})));A=r.default.createElement("div",{style:d},r.default.createElement("div",{ref:"left",style:f},r.default.createElement("img",{src:O[0].uncheckedImage,alt:O[0].text,title:O[0].text})),E,r.default.createElement("div",{ref:"right",style:m},r.default.createElement("img",{src:O[O.length-1].uncheckedImage,alt:O[O.length-1].text,title:O[O.length-1].text})))}else A=r.default.createElement("div",{style:d},r.default.createElement("div",{ref:"left",style:this.defaultAuthorStyle(f,"LeftCaption"),innerHTML:b}),E,r.default.createElement("div",{ref:"right",style:this.defaultAuthorStyle(m,"RightCaption"),innerHTML:w}));return r.default.createElement("div",{style:{maxWidth:this.inputWidth()}},I,r.default.createElement("div",{ref:"control",style:a,onMouseDown:"onMouseDown"},r.default.createElement("div",{style:u}),C,r.default.createElement("div",{style:c}),r.default.createElement("div",o({ref:"knob",role:"slider",id:this.getLabelFor(),tabindex:"0",style:p,onFocus:"onFocus"},this.getAriaTags(),{"aria-valuetext":T,onBlur:"onBlur",onKeyPress:"onKeyPress",onKeyDown:"onKeyDown",onKeyUp:"onKeyUp"}))),A)},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e.prototype.getAuthorPartElements=function(){return this.isEnumSlider()?null:{LeftCaption:this.refs.left,RightCaption:this.refs.right}},e.prototype.getCaptionElement=function(t){var e=this.getAuthorPartElements();return null!=e&&null!=t&&e[t]?e[t]:r.default.getDOM(this)},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(48),a=n(3),l=n(15),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.isSelectionControl=function(){return!0},e.prototype.onBlur=function(){this.expandedResults=null,this.typingValue=null,t.prototype.onBlur.call(this)},e.prototype.searchChanged=function(t){var e=(this.control,t.target.value);return null!=this.searchTimer&&(clearTimeout(this.searchTimer),this.searchTimer=null),""===e?(this.setCurrentValue(null),void this.commitResultValue(-1,!0)):(this.typingValue=e,this.update(),void(this.searchTimer=setTimeout(this.doSearch.bind(this),300)))},e.prototype.doSearch=function(){var t=this.control;return null!=this.searchValue?void(this.searchTimer=setTimeout(this.doSearch.bind(this),300)):(this.searchTimer=null,this.searchValue=this.typingValue,void t.customSearchHandler.search(this.typingValue,this.searchResults.bind(this)))},e.prototype.searchResults=function(t){this.searchValue=null,this.hasFocus&&(null!=t&&t.length>0?(this.expandedResults=t,this.selectedItem=-1):this.expandedResults=null,this.update())},e.prototype.onKeyDown=function(t){if(null!=this.expandedResults)if(38==t.keyCode||33==t.keyCode){var e=33==t.keyCode?8:1,n=this.selectedItem,i=void 0;i=n>=e?n-e:this.expandedResults.length-1,i>=0&&(this.selectedItem=i,this.commitResultValue(i,!1)),t.stopPropagation(),t.preventDefault()}else if(40==t.keyCode||34==t.keyCode){var e=34==t.keyCode?8:1,n=this.selectedItem,i=void 0;i=n<this.expandedResults.length-e?n+e:0,i>=0&&(this.selectedItem=i,this.commitResultValue(i,!1)),t.stopPropagation(),t.preventDefault()}else 13==t.keyCode||27==t.keyCode?(this.commitResultValue(null,!0),t.stopPropagation(),t.preventDefault()):9===t.keyCode&&(this.expandedResults=null,this.update())},e.prototype.commitResultValue=function(t,e){var n=this.control;if(t===-1)this.setCurrentValue(null),null!=n.customSearchHandler.commit&&n.customSearchHandler.commit(null);else if(null!=t){var i=this.expandedResults[t],o="object"==typeof i?i.text:i;this.setCurrentValue(o),null!=n.customSearchHandler.commit&&n.customSearchHandler.commit(i)}e&&(this.expandedResults=null),this.typingValue=null,this.update()},e.prototype.onClickItem=function(t,e){this.setCurrentValue(this.expandedResults[t]),this.commitResultValue(t,!0),e.stopPropagation(),e.preventDefault(),this.update()},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(this.refs.input.focus(),!0)},e.prototype.controlRender=function(){var t,e,n,i,s,u=this,c=this.control,p=null!=this.typingValue?this.typingValue:this.getDisplayValue(),h=this.getRestyle("autoCompleteInput"),d={maxWidth:this.inputWidth()},f=null;if(null!=h&&null!=h.className?(e=a.objectAssign({width:"100%"},h.style),t=h.className):(e=a.objectAssign({},l.default.textInputStyle),this.hasFocus&&a.objectAssign(e,this.getFocusStyle()),null!=h&&a.objectAssign(e,h.style)),this.expandedResults){i={position:"absolute",outline:"1px solid #727780",width:this.refs.container.offsetWidth,backgroundColor:"white",zIndex:"1",margin:0,padding:0};var g={listStyleType:"none",padding:"0.4em 0.8em"},m={listStyleType:"none",padding:"0.4em 0.8em",color:"white",backgroundColor:"#2093cb"};n="opmdrop"+this.uniqueID(),f=r.default.createElement("ul",{className:"opa-search-dropdown",style:i,id:n},this.expandedResults.map(function(t,e){var i="object"==typeof t?t.text:t,o=n+"-"+e;return e===u.selectedItem?(s=o,r.default.createElement("li",{id:o,style:m,onMouseDown:u.onClickItem.bind(u,e)},i)):r.default.createElement("li",{id:o,style:g,onMouseDown:u.onClickItem.bind(u,e)},i)})," ")}return r.default.createElement("div",{ref:"container",style:d},r.default.createElement("input",o({role:"combobox",ref:"input",className:t,id:this.getLabelFor(),style:e,readOnly:c.isReadOnly(),type:"text","aria-expanded":null!=f,"aria-owns":n,"aria-autocomplete":"list","aria-haspopup":"true","aria-activedescendent":s,autocomplete:"off",autocorrect:"off",placeholder:c.getHintText(),value:p,onFocus:"onFocus",onBlur:"onBlur"},this.getAriaTags(),{onChange:"searchChanged",onKeyDown:"onKeyDown"})),f)},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(11),a=n(55),l=n(69),u=n(71),c=n(53),p=n(15),h=n(3),d=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onChangeCheck=function(t,e){var n=this.props.control,i=n.getValue();null==i&&(i=[]);var o=i.indexOf(t);e.target.checked?o<0&&(i.push(t),n.setValue(i)):o>=0&&(i.splice(o,1),n.setValue(i))},e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()},e.prototype.render=function(){var t=this,e=this.props.control,n=e.getControlType(),i=(e.getSession().getStyle(),e.isReadOnly()),s=this.props.control.getPossibleTargets();null==s&&(s=[]);var d=this.props.control.getValue();null==d&&(d=[]);var f,g=s.map(function(t){return{value:t.entityInstanceId,text:t.caption}}),m=d.length>0?d[0]:null,y="opmradio"+this.uniqueID(),v={maxWidth:e.getWidth()+30};"Dropdown"===n?(g.splice(0,0,{value:null,text:e.getHintText()?e.getHintText():""}),f=r.default.createElement(l.default,{controlId:this.getLabelFor(),style:v,restyle:this.getRestyle("dropDownInput"),options:g,value:m,onChange:function(t){return e.setValue([t])},ariaTags:this.getAriaTags()})):f="Radiobutton"===n?r.default.createElement("div",o({role:"radiogroup"},this.getAriaTags()),g.map(function(n,o){return r.default.createElement("div",{key:o},r.default.createElement(u.default,{id:y+"_"+o,restyle:t.getRestyle("radioInput"),readOnly:i,name:y,checked:m===n.value,onChange:function(){return e.setValue([n.value])},htmlCaption:n.text}))})):"Listbox"===n?r.default.createElement(c.default,o({style:v,restyle:this.getRestyle("listInput"),options:g,value:m,onChange:function(t){return e.setValue([t])}},this.getAriaTags())):r.default.createElement("fieldset",null,s.map(function(e,n){var o=e.entityInstanceId,s=d.indexOf(o)>=0;return r.default.createElement("div",{key:o},r.default.createElement(a.default,{id:y+"_"+n,restyle:t.getRestyle("checkboxInput"),readOnly:i,caption:e.caption,checked:s,onChange:t.onChangeCheck.bind(t,o)}))}));var b=this.getRestyle("question"),w=b?h.whiteListStyles(b.style):e.getSession().getStyle().question,x=b?b.className:null;w=this.props.inTable?p.default.screenreader:h.objectAssign({},this.defaultHorizontalPadding(),w);var S=this.getControlStyle(),C=S.style,E=S.className;return r.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle()},r.default.createElement("div",{className:"opa-question",style:w},r.default.createElement("label",{ref:"question",id:this.getLabelId(),for:this.getLabelFor()},this.getQuestionTextSpan(x))),r.default.createElement("div",{className:E,ref:"referenceItem",style:this.defaultAuthorStyle(C,"ReferenceItem")},f,this.getAuthorText()))},e.prototype.getCaptionElement=function(t){return"ReferenceItem"==t?this.refs.referenceItem:this.refs.question},e.prototype.getAuthorPartElements=function(){return{ReferenceItem:this.refs.referenceItem}},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=d},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(46),s=n(90),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this,e=this.control,n=e.getRows(),i=e.getInstances(),s=e.screen.session,a=s.getStyle(),l=e.getButtonPosition();return o.default.createElement("div",{
className:"opa-control-item"},o.default.createElement("div",{className:"opa-entity-collect",style:this.defaultItemStyle(),role:"grid"},"TL"==l?this.renderAddButton({alignSelf:"flex-start",marginBottom:"0.2em"}):null,"TR"==l?this.renderAddButton({alignSelf:"flex-end",marginBottom:"0.2em"}):null,o.default.createElement("div",{className:"opa-entity-collect-instances"},n.map(function(e,n){return o.default.createElement("div",{role:"row","aria-label":i[n],className:"opa-instance-row",key:i[n],style:n+1&1?a.instanceOdd:a.instanceEven},o.default.createElement("div",{className:"opa-instance-controls"},e.map(function(t,e){return t.isVisible()?o.default.createElement("div",{role:"gridcell"},o.default.el(r.default(t),{control:t,key:e},null)):null})),t.renderRemoveButton(n,{padding:"10px 0px 0px 0px"}))})),"BC"==l?this.renderAddButton({}):null,"BL"==l?this.renderAddButton({alignSelf:"flex-start"}):null,"BR"==l?this.renderAddButton({alignSelf:"flex-end"}):null,this.getAuthorText()))},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(11),a=n(13),l=n(14),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.addRow=function(t){this.control.addNewRow(),t.preventDefault()},e.prototype.removeRow=function(t,e){this.control.removeRow(t),e.preventDefault()},e.prototype.getAuthorPartElements=function(){return{AddButton:o.default.getDOM(this.refs.addButton),RemoveButton:o.default.getDOM(this.refs.removeButton)}},e.prototype.renderAddButton=function(t){var e,n=this.control,i=n.getSession(),s=i.getStyle(),a=n.showButtons()&&(!n.isMaxOneInstance()||n.getRows().length<1),u=n.getButtonPosition();if(a)if("BC"===u){var c={width:"100%",backgroundColor:"#fff",padding:"0.2em 1em",border:"dashed 2px #999"};e=o.default.createElement(l.default,{ref:"addButton",restyleKey:"entityAddButton",className:"opa-row-add",style:r.objectAssign({},this.defaultAuthorStyle(null,"AddButton"),c,t),onClick:this.addRow.bind(this)},n.getAddButtonText())}else e=o.default.createElement(l.default,{ref:"addButton",restyleKey:"entityAddButton",style:r.objectAssign({fontSize:"xx-small"},this.defaultAuthorStyle(s.addButton,"AddButton"),t),onClick:this.addRow.bind(this)},n.getAddButtonText());else e=i.isAuthoring()?o.default.createElement("div",{ref:"addButton",style:r.objectAssign({},this.defaultAuthorStyle({},"AddButton"),t),className:"opa-missing-button"},"No Add"):null;if(e){var p={display:"flex",flexDirection:"column"};return o.default.createElement("div",{style:p},e)}return null},e.prototype.renderRemoveButton=function(t,e){var n,i=this.control,s=i.getSession(),u=s.getStyle(),c=i.showButtons();return n=c?"X"==i.getRemoveButtonText()?o.default.createElement(a.IconButton,{ref:"removeButton",restyleKey:"entityRemoveButton","aria-label":s.getMessage("delete-instance-text"),style:r.objectAssign(this.defaultAuthorStyle(null,"RemoveButton"),e),onClick:this.removeRow.bind(this,t)},o.default.createElement(a.SolidXIcon,{color:u.removeButton.backgroundColor})):o.default.createElement(l.default,{ref:"removeButton",restyleKey:"entityRemoveButton",style:this.defaultAuthorStyle(r.objectAssign({fontSize:"xx-small"},u.removeButton),"RemoveButton"),onClick:this.removeRow.bind(this,t)},i.getRemoveButtonText()):s.isAuthoring()?o.default.createElement("div",{ref:"removeButton",style:this.defaultAuthorStyle({textAlign:"right"},"RemoveButton"),className:"opa-missing-button"},"No Remove"):null,n?o.default.createElement("div",{style:{padding:"2px 10px"},className:"opa-control"},n):null},e.prototype.getCaptionElement=function(t){this.control;return"RemoveButton"==t?o.default.getDOM(this.refs.removeButton):"AddButton"==t?o.default.getDOM(this.refs.addButton):o.default.getDOM(this)},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(11),s=n(46),a=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t,e=this.control,n=e.getSession(),i=e.getRows(),r=e.getInstances(),a=n.getStyle();return n.isAuthoring()&&0==i.length&&(t=o.default.createElement("div",{style:{height:"2em"}})),o.default.createElement("div",{className:"opa-control-item",style:this.defaultItemStyle()},o.default.createElement("div",{className:"opa-entity-collect"},o.default.createElement("div",{className:"opa-entity-container",role:"grid"},i.map(function(t,e){return o.default.createElement("div",{className:"opa-instance-row",role:"row","aria-label":r[e],key:r[e],style:e+1&1?a.instanceOdd:a.instanceEven},o.default.createElement("div",{className:"opa-instance-controls"},t.map(function(t,e){return t.isVisible()?o.default.createElement("div",{role:"gridcell"},o.default.el(s.default(t),{control:t,key:e},null)):null})))}),t),this.getAuthorText()))},e}(r.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=a},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(46),a=n(90),l=n(15),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){function t(t){return c[t].width+50}for(var n=this,i=this.props.control,a=i.getRows(),u=i.getInstances(),c=i.getTemplateControls(),p=i.getSession(),h=p.getStyle(),d=i.showButtons(),f=d||p.isAuthoring(),g=i.getButtonPosition(),m=r.objectAssign({},{textOverflow:"ellipsis",overflow:"hidden",paddingLeft:10,paddingRight:10,paddingTop:2,paddingBottom:2,boxSizing:"border-box"}),y=f?80:0,v=0,b=0;b<c.length;b++)v+=c[b].width+50;v+=y;var w={display:"flex",alignItems:"stretch",verticalAlign:"baseline"},x={overflow:"hidden",display:"flex",alignItems:"flex-end"},S=[];return(a.length>0||"TR"==g)&&(S.push(o.default.createElement("div",{style:w,role:"row"},c.map(function(s,a){var l=t(a),u=e.tabularColumnFlex(i,a);return o.default.createElement("div",{role:"columnheader",ref:"ch"+a,id:n.getColumnCaptionId(a),key:a,style:r.objectAssign({width:l,flex:u},x,h.tableHeader)},o.default.createElement("div",{style:m,innerHTML:e.tabularHeaderContent(i,s)}))}),f?o.default.createElement("div",{style:r.objectAssign({flex:"0 0 "+y+"px",overflow:"hidden"},h.tableHeader),role:"columnheader"},o.default.createElement("div",{style:r.objectAssign({},m,"TR"==g?{whiteSpace:null}:l.default.screenreader)},"TR"==g?this.renderAddButton():p.getMessage("table-remove-instance-heading"))):null)),a.forEach(function(a,l){var c=l+1&1?h.instanceOdd:h.instanceEven;S.push(o.default.createElement("div",{style:w,role:"row",key:u[l],"aria-label":u[l]},a.map(function(a,l){var u=t(l),p=r.objectAssign({width:u,flex:e.tabularColumnFlex(i,l),boxSizing:"border-box",overflow:"hidden"},c);return o.default.createElement("div",{key:l,style:p,role:"gridcell"},a.isVisible()?o.default.el(s.default(a),{control:a,key:l,inTable:n,inTableColumn:l},null):null)}),f?o.default.createElement("div",{style:r.objectAssign({flex:"0 0 "+y+"px",overflow:"hidden"},c),role:"gridcell"}," ",n.renderRemoveButton(l,{padding:"0.4em 0px"})," "):null))})),o.default.createElement("div",{class:"opa-control-item",role:"grid","aria-label":i.getCaption(),style:this.defaultItemStyle()},"TL"==g?o.default.createElement("div",{style:{paddingBottom:"0.3em",maxWidth:v,display:"flex"},role:"row"},this.renderAddButton()):null,S,"BL"==g?o.default.createElement("div",{style:{paddingTop:"0.3em",maxWidth:v,display:"flex"},role:"row"},this.renderAddButton()):null,"BR"==g?o.default.createElement("div",{style:{paddingTop:"0.3em",maxWidth:v,display:"flex",justifyContent:"flex-end"},role:"row"},this.renderAddButton()):null,"BC"==g?o.default.createElement("div",{style:{maxWidth:v},role:"row"},this.renderAddButton()):null,this.getAuthorText())},e.prototype.getColumnCaptionId=function(t){return"opaCtl"+this.uniqueID()+"th"+t},e.prototype.getColumnCaptionElement=function(t){return this.refs["ch"+t]},e.tabularColumnFlex=function(t,e){var n=t.getTemplateControls()[e];return"signature"===n.type?"0 0 "+(n.width+20)+"px":"0 1 "+(n.width+50)+"px"},e.tabularHeaderContent=function(t,e){return"label"===e.type?"":void 0!==e.rawCaption?t.screen.substituteText(t.entity,t.instance,e.rawCaption):""},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(11),a=n(92),l=n(46),u=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){function t(t){return h[t].width+50}var e=this,n=this.control,i=n.getSession(),s=i.getStyle(),u=n.getInstances(),c=n.getRows(),p=r.objectAssign({},s.tableHeader,{textOverflow:"ellipsis",overflow:"hidden",paddingLeft:10,paddingRight:10,boxSizing:"border-box"});if(i.isAuthoring()&&0==c.length)return o.default.createElement("div",{class:"opa-control-item"},o.default.createElement("div",{className:"opa-entity-container",style:this.defaultItemStyle({height:"2em"})}),this.getAuthorText());for(var h=n.getTemplateControls(),d={display:"flex",alignItems:"stretch",verticalAlign:"baseline"},f={overflow:"hidden"},g=0;g<c.length;){for(var m=c[g],y=!1,v=0;v<m.length;v++){var b=m[v];if(b.isVisible()){y=!0;break}}y?g++:c.splice(g,1)}var w=[];return c.length>0&&(w.push(o.default.createElement("div",{style:d,role:"row"},h.map(function(i,l){var u=t(l),c=a.default.tabularColumnFlex(n,l);return o.default.createElement("div",{role:"columnheader",ref:"ch"+l,id:e.getColumnCaptionId(l),key:l,style:r.objectAssign({width:u,flex:c},f,s.tableHeader)},o.default.createElement("div",{style:p,innerHTML:a.default.tabularHeaderContent(n,i)}))}))),c.forEach(function(i,c){var p=c+1&1?s.instanceOdd:s.instanceEven;w.push(o.default.createElement("div",{style:d,role:"row",key:u[c],"aria-label":u[c]},i.map(function(i,s){var u=t(s),c=r.objectAssign({width:u,flex:a.default.tabularColumnFlex(n,s),boxSizing:"border-box"},p);return o.default.createElement("div",{role:"gridcell",key:s,style:c},i.isVisible()?o.default.el(l.default(i),{control:i,key:s,inTable:e,inTableColumn:s},null):null)})))})),o.default.createElement("div",{class:"opa-control-item",role:"table","aria-label":n.getCaption(),style:this.defaultItemStyle()},w,this.getAuthorText())},e.prototype.getColumnCaptionId=function(t){return"opaCtl"+this.uniqueID()+"th"+t},e.prototype.getColumnCaptionElement=function(t){return this.refs["ch"+t]},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(3),a=n(48),l=n(65),u=function(t){function e(e){t.call(this,e),this.monthNames=this.control.getSession().getMonthFullNames(),this.dayNames=this.control.getSession().getWeekMinNames(),this.dayTitles=this.control.getSession().getWeekFullNames(),this.format=this.control.screen.session.acceptedDateTimeFormats[0],this.timeConf=[];for(var n=0;n<this.format.length;++n)if("hour12"===this.format[n].kind||"hour24"===this.format[n].kind){var i={hintText:this.control.getHourHintText()};s.objectAssign(i,this.format[n]),this.timeConf.push(i)}else if("minutes"===this.format[n].kind){var i={hintText:this.control.getMinuteHintText(),increment:this.control.getMinuteIncrement()};s.objectAssign(i,this.format[n]),this.timeConf.push(i)}else if("seconds"===this.format[n].kind){var i={hintText:this.control.getSecondHintText(),increment:this.control.getSecondIncrement()};s.objectAssign(i,this.format[n]),this.timeConf.push(i)}else if("am"===this.format[n].kind){var i={hintText:this.control.getMeridiemHintText()};s.objectAssign(i,this.format[n]),this.timeConf.push(i)}}return i(e,t),e.prototype.onBlur=function(){if(null!=this.editValue){var e=this.control.parse(this.editValue);null!=e&&(this.editValue=this.control.format(e))}return t.prototype.onBlur.call(this)},e.prototype.onTextChanged=function(t){this.editValue=t,this.commitValue(),this.update()},e.prototype.onDateSelected=function(t){var e=null!==t?l.default.JSDateToOPMDateTime(t):null;this.editValue=this.control.format(e),this.setCurrentValue(e)},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e.prototype.controlRender=function(){var t=this.control.isReadOnly()?this.control.getSession().getStyle().disabledThemeColor:this.control.getSession().getStyle().themeColor,e={maxWidth:this.inputWidth()};this.hasFocus&&s.objectAssign(e,this.getFocusStyle());var n;if(null!=this.control.getValue())n=l.default.OPMDateTimeToJSDate(this.control.getValue());else if(null!=this.editValue&&null!=this.control.parse(this.editValue))n=l.default.OPMDateTimeToJSDate(this.control.parse(this.editValue));else{var i=new Date;n=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),0,0,0))}var a;return a=null!=this.editValue?this.editValue:null!=this.control.getValue()?this.control.format(this.control.getValue()):"",r.default.createElement(l.default,o({ref:"calendar",controlId:this.getLabelFor(),style:e,color:t,readOnly:this.control.isReadOnly(),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onTextChanged:this.onTextChanged.bind(this),onDateSelected:this.onDateSelected.bind(this),value:a,calendarDate:n,placeholder:this.control.getHintText(),dayNames:this.dayNames,dayTitles:this.dayTitles,monthNames:this.monthNames,region:this.control.getSession().getFormatRegion(),timeCaption:this.control.screen.session.config.messageProperties["calendar-time-caption"],timeControlConfig:this.timeConf},this.getAriaTags()))},e}(a.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=n(2),s=n(48),a=n(61),l=n(66),u=n(67),c=function(t){function e(e){t.call(this,e),this.messages=this.control.screen.config.messageProperties,this.format=this.control.screen.session.acceptedDateTimeFormats[0],this.region=this.control.getSession().getFormatRegion(),this.clock24=!0,this.userEdited=!1,this.multiFocus=new u.default(this),this.year=this.month=this.day=this.hour=this.minute=this.second=this.meridiem=null,this.editValue=this.control.getValue(),this.yearOptions=[];var n=this.control.getYearStart(),i=this.control.getYearEnd();if(n>i)for(var o=n;o>=i;--o)this.yearOptions.push({value:o,text:("000"+o).slice(-4)});else for(var o=n;o<=i;++o)this.yearOptions.push({value:o,text:("000"+o).slice(-4)});this.dayOptions=[],this.monthOptions=[],this.hourOptions=[],this.minuteOptions=[],this.secondOptions=[],this.meridiemOptions=[];for(var o=0;o<this.format.length;++o){var r=this.format[o];switch(r.kind){case"hour24":for(var s=0;s<24;++s)this.hourOptions.push({value:s,text:("0"+s).slice(-2)});this.clock24=!0;break;case"hour12":for(var s=1;s<13;++s)this.hourOptions.push({value:s,text:("0"+s).slice(-2)});this.clock24=!1;break;case"month":for(var s=1;s<13;++s)this.monthOptions.push({value:s,text:("0"+s).slice(-2)});break;case"shortMonth":case"fullMonth":for(var s=1;s<13;++s)this.monthOptions.push({value:s,text:r.names[s-1]});break;case"day":for(var s=1;s<32;++s)this.dayOptions.push({value:s,text:("0"+s).slice(-2)});break;case"minutes":for(var a=0;a<60;++a)a%this.control.getMinuteIncrement()===0&&this.minuteOptions.push({value:a,text:("0"+a).slice(-2)});break;case"seconds":for(var a=0;a<60;++a)a%this.control.getSecondIncrement()===0&&this.secondOptions.push({value:a,text:("0"+a).slice(-2)});break;case"am":this.meridiemOptions.push({value:"am",text:r.names[0]}),this.meridiemOptions.push({value:"pm",text:r.names[1]})}}this.syncDateTime()}return i(e,t),e.prototype.autoFocus=function(){var t=this.control;return!t.isReadOnly()&&(null!=this.firstInputRef?(this.refs[this.firstInputRef].focus(),!0):void 0)},e.prototype.controlRender=function(){var t=this.control.getSession();this.userEdited||this.syncDateTime();var e=null!==this.year?this.year:"";"number"==typeof this.year&&"th-TH"===this.control.getSession().getFormatRegion()&&(e+=543);for(var n=null!==this.month?this.month:"",i=null!==this.day?this.day:"",s=null!==this.hour?this.hour:"",l=null!==this.minute?this.minute:"",u=null!==this.second?this.second:"",c=null!==this.meridiem?this.meridiem:"",p=this.control.isReadOnly()?this.control.getSession().getStyle().disabledThemeColor:void 0,h={marginRight:4,display:"inline-block",marginBottom:4},d=[],f=0;f<this.format.length;++f)switch(this.format[f].kind){case"hour12":case"hour24":null==this.firstInputRef&&(this.firstInputRef="hour"),d.push(r.default.createElement(a.default,o({ref:"hour",style:h,autoSize:!0,placeholder:this.control.getHourHintText(),readOnly:this.control.isReadOnly(),triggerColor:p,"aria-label":t.getMessage("hour-selection-alt"),options:this.hourOptions,value:s,onChange:this.setHour.bind(this)},this.multiFocus.bindProps())));break;case"minutes":null==this.firstInputRef&&(this.firstInputRef="minute"),d.push(r.default.createElement(a.default,o({ref:"minute",style:h,autoSize:!0,placeholder:this.control.getMinuteHintText(),readOnly:this.control.isReadOnly(),triggerColor:p,"aria-label":t.getMessage("minutes-selection-alt"),options:this.minuteOptions,value:l,onChange:this.setMinute.bind(this)},this.multiFocus.bindProps())));break;case"seconds":null==this.firstInputRef&&(this.firstInputRef="second"),d.push(r.default.createElement(a.default,o({ref:"second",style:h,autoSize:!0,placeholder:this.control.getSecondHintText(),readOnly:this.control.isReadOnly(),triggerColor:p,"aria-label":t.getMessage("seconds-selection-alt"),options:this.secondOptions,value:u,onChange:this.setSecond.bind(this)},this.multiFocus.bindProps())));break;case"am":null==this.firstInputRef&&(this.firstInputRef="am"),d.push(r.default.createElement(a.default,o({ref:"am",style:h,autoSize:!0,placeholder:this.control.getMeridiemHintText(),readOnly:this.control.isReadOnly(),triggerColor:p,"aria-label":t.getMessage("meridiem-selection-alt"),options:this.meridiemOptions,value:c,onChange:this.setMeridiem.bind(this)},this.multiFocus.bindProps())));break;case"day":null==this.firstInputRef&&(this.firstInputRef="day"),d.push(r.default.createElement(a.default,o({ref:"day",style:h,autoSize:!0,triggerColor:p,placeholder:this.control.getDayHintText(),readOnly:this.control.isReadOnly(),value:i,"aria-label":t.getMessage("day-selection-alt"),onChange:this.setDay.bind(this),options:this.dayOptions,onBlur:this.onBlur.bind(this)},this.multiFocus.bindProps())));break;case"month":case"shortMonth":case"fullMonth":null==this.firstInputRef&&(this.firstInputRef="month"),d.push(r.default.createElement(a.default,o({ref:"month",style:h,autoSize:!0,triggerColor:p,placeholder:this.control.getMonthHintText(),"aria-label":t.getMessage("month-selection-alt"),readOnly:this.control.isReadOnly(),value:n,onChange:this.setMonth.bind(this),options:this.monthOptions,onBlur:this.onBlur.bind(this)},this.multiFocus.bindProps())));break;case"year":null==this.firstInputRef&&(this.firstInputRef="year"),d.push(r.default.createElement(a.default,o({ref:"year",style:h,autoSize:!0,triggerColor:p,placeholder:this.control.getYearHintText(),"aria-label":t.getMessage("year-selection-alt"),readOnly:this.control.isReadOnly(),value:e,onChange:this.setYear.bind(this),options:this.yearOptions,onBlur:this.onBlur.bind(this)},this.multiFocus.bindProps())))}return r.default.createElement("div",{className:"opa-dmyhms-container"},d)},e.prototype.syncDateTime=function(){var t=this.control.getValue();if(null==t)this.year=this.month=this.day=this.hour=this.minute=this.second=this.meridiem=null;else{var e=this.control.getValue().split("T"),n=e[0].split("-"),i=e[1].split(":");this.year=parseInt(n[0]),this.month=parseInt(n[1]),this.day=parseInt(n[2]);var o=parseInt(i[0]);this.clock24?this.hour=o:0===o||12===o?this.hour=o:this.hour=o%12,this.minute=parseInt(i[1]),this.second=parseInt(i[2]),this.meridiem=o<12?"am":"pm"}},e.prototype.setHour=function(t){this.userEdited=!0,this.hour=""!==t?t:null,this.commitValue()},e.prototype.setMinute=function(t){this.userEdited=!0,this.minute=""!==t?t:null,this.commitValue()},e.prototype.setSecond=function(t){this.userEdited=!0,this.second=""!==t?t:null,this.commitValue()},e.prototype.setMeridiem=function(t){this.userEdited=!0,this.meridiem=""!==t?t:null,this.commitValue()},e.prototype.setDay=function(t){this.userEdited=!0,this.day=""!==t?t:null,this.commitValue()},e.prototype.setMonth=function(t){this.userEdited=!0,this.month=""!==t?t:null,this.commitValue()},e.prototype.setYear=function(t){this.userEdited=!0,""===t?this.year=null:"th-TH"===this.control.getSession().getFormatRegion()?this.year=t-543:this.year=t,this.commitValue()},e.prototype.commitValue=function(t){var e,n,i,o,r,s;if(this.refs.hour)if(null==this.hour||this.clock24)o=this.hour;else{var a=this.refs.am?this.meridiem:"am";o=null===a?null:"am"==a?12==this.hour?0:this.hour:12==this.hour?12:this.hour+12}else o=0;return r=this.refs.minute?this.minute:0,s=this.refs.second?this.second:0,e=this.refs.day?this.day:1,n=this.refs.month?this.month:1,i=this.refs.year?this.year:1,this.editValue=null,null!=e&&null!=n&&null!=i&&null!=o&&null!=r&&null!=s&&(this.editValue=l.default.opmBuildDate(e,n,i),null!=this.editValue&&(this.editValue+="T"+("0"+o).slice(-2)+":"+("0"+r).slice(-2)+":"+("0"+s).slice(-2),this.control.checkInputRestriction(this.editValue)))?void this.setCurrentValue(this.editValue):void this.setCurrentValue(null)},e.prototype.getErrorState=function(){var t=0,e=0;return this.refs.day&&(t++,null!==this.day&&e++),this.refs.month&&(t++,null!==this.month&&e++),this.refs.year&&(t++,null!==this.year&&e++),this.refs.hour&&(t++,null!==this.hour&&e++),this.refs.minute&&(t++,null!==this.minute&&e++),this.refs.second&&(t++,null!==this.second&&e++),this.refs.am&&(t++,null!==this.meridiem&&e++),0===e?this.control.isMandatory()?{message:this.messages.MissingValueError,cause:"mandatory"}:null:t!=e?{message:this.messages.IncompleteControlError,cause:"validation"}:null==this.control.getValue()?null===this.editValue?{message:this.control.getInvalidDateMessage(),cause:"validation"}:{message:this.control.getInvalidValueMessage(),cause:"validation"}:null},e.prototype.useFieldSet=function(){return!0},e.prototype.getFieldSetRole=function(){return"group"},e.prototype.getLabelFor=function(){return"opmCtl"+this.uniqueID()},e}(s.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=c},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(19),a=n(20),l=n(13),u=n(11),c=function(t){function e(e){t.call(this,e),this.displayState=""}return i(e,t),e.prototype.getAuthorPart=function(){return"Stages"},e.prototype.closeOverlay=function(){this.context.interview.closeNavigation()},e.prototype.componentDidUpdate=function(){var t=this;this.isUsingSlider&&(this.isSliderVisible=!0,setTimeout(function(){t.refs.slider.style.left=t.props.show?0:"-80%",t.refs.overlay.style.opacity=t.props.show?.6:0},10),this.props.show?void 0!==this.destroySliderTimer&&(clearTimeout(this.destroySliderTimer),delete this.destroySliderTimer):void 0===this.destroySliderTimer&&setTimeout(function(){t.isSliderVisible=!1,t.update()},500))},e.prototype.render=function(){var t=this.props.session,e=t.getStyle(),n=t.screen.getNavigation(),i=[],r={flexBasis:t.getStyle().stagesWidth,flexShrink:1,boxSizing:"border-box",backgroundColor:e.stagesFillColor,overflow:"hidden",lineHeight:"1.5"},s={position:"absolute",left:0,top:0,backgroundColor:"#000",width:"100%",height:"100%",zIndex:90,opacity:.6,transition:"opacity 0.3s",pointerEvents:void 0},a={position:"absolute",top:0,backgroundColor:"white",width:"80%",height:"100%",zIndex:100,transition:"left 0.3s",left:void 0};if(1==n.stages.length)for(var l=0;l<n.screens.length;l++){var u=n.screens[l];i.push(o.default.createElement(p,{includeIcon:t.showStageIcons(),interviewStyle:e,stage:u}))}else for(var c=0;c<n.stages.length;c++){var d=n.stages[c];if(i.push(o.default.createElement(p,{includeIcon:t.showStageIcons(),interviewStyle:e,stage:d})),d.isCurrent&&!t.isProgressStagesOneLevel())for(var l=0;l<n.screens.length;l++){var u=n.screens[l];i.push(o.default.createElement(h,{includeIcon:t.showStageIcons()||t.showScreenIcons(),interviewStyle:e,screen:u}))}}return this.isUsingSlider=!1,t.getScreen().hideStages()?t.isAuthoring()&&t.config.screen.authoringIncludeStages?o.default.createElement("div",{style:this.defaultAuthorStyle(),className:"opa-missing-stage"},t.config.screen.authoringNoStagesText):o.default.createElement("span",{style:{display:"none"}}):this.context.interview.state.interviewWidth<=480?this.props.show||this.isSliderVisible?(this.isUsingSlider=!0,a.left=this.props.show&&this.isSliderVisible?0:"-80%",s.opacity=this.props.show&&this.isSliderVisible?.6:0,s.pointerEvents=this.props.show?"":"none",[o.default.createElement("div",{ref:"overlay",style:s,onClick:"closeOverlay"}),o.default.createElement("div",{ref:"slider",style:a},i)]):null:o.default.createElement("div",{style:this.defaultAuthorStyle(r)},i)},e.shouldShowNavigation=function(t){return t.state.interviewWidth<=480},e.getDefaultActiveIcon=function(t){return o.default.createElement(l.PenIcon,{color:t})},e.getDefaultCompleteIcon=function(t){return o.default.createElement(l.TickIcon,{color:t})},e.getDefaultIncompleteIcon=function(t){return o.default.createElement(l.CircleIcon,{color:t})},e.getDefaultFutureIcon=function(t){return o.default.createElement(l.LockIcon,{color:t})},e.getAuthorStages=function(t,e,n,i,r,s,a,l,u){for(var c=[],d=function(i){var d=t[i],f=function(t){return n(t,i)};if(c.push(o.default.createElement(p,{includeIcon:l,style:{cursor:"pointer"},onClick:f,interviewStyle:e,stage:d})),0==i&&r)for(var g=function(t){var n=s[t],i=function(e){return a(e,t)};c.push(o.default.createElement(h,{style:{cursor:"pointer"},includeIcon:u,interviewStyle:e,screen:n,onClick:i}))},m=0;m<s.length;m++)g(m)},f=0;f<t.length;f++)d(f);var g={padding:"0.5em 0",backgroundColor:e.stagesFillColor,width:i,lineHeight:"1.5"};return o.default.createElement("div",{style:g},c)},e}(u.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var p=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.props.interviewStyle,e=this.props.stage,n={paddingTop:"0.3em",paddingBottom:"0.3em",display:"flex",alignItems:"flex-start",paddingLeft:"0",overflow:"hidden"},i={position:"relative",width:24,height:24,marginRight:10,marginLeft:4,flexShrink:0},l={flexGrow:1,overflow:"hidden"};r.objectAssign(n,a.default.getStageTextStyle(t,e.state));var u=this.props.includeIcon;return u||(n.paddingLeft="0.5em"),o.default.createElement("div",{style:r.objectAssign(n,this.props.style),onClick:this.props.onClick},u?o.default.createElement("div",{style:i},o.default.createElement(s.default,{stage:e})):null,o.default.createElement(a.default,{interviewStyle:t,style:l,wrap:!0,stage:e}))},e}(o.default.Component),h=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.render=function(){var t=this.props.screen,e=this.props.interviewStyle,n={paddingLeft:30,display:"flex",alignItems:"flex-start",fontSize:14,paddingTop:"0.4em",paddingBottom:"0.4em",overflow:"hidden"},i=null;return this.props.includeIcon&&(i=t.icon,null==i&&(i=o.default.createElement("div",{style:{display:"inline-block",width:14,height:14,marginTop:1,flexShrink:0}}))),r.objectAssign(n,a.default.getScreenTextStyle(e,t.state),this.props.style),o.default.createElement("div",{onClick:this.props.onClick,style:n},o.default.createElement("div",{style:{marginRight:4}},i),o.default.createElement(a.default,{interviewStyle:e,screen:!0,wrap:!0,stage:t}))},e}(o.default.Component)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(10),a=n(16),l=n(20),u=n(11),c=n(19),p={paddingTop:"0.3em",fontSize:14,paddingBottom:"0.2em",paddingLeft:"0.5em",paddingRight:"0.5em",boxSizing:"border-box"},h=function(t){function e(e){t.call(this,e),this.itemOffset=0,this.preSpaceWidth=56,this.postSpaceWidth=56,this.autoShowCurrent=!0}return i(e,t),e.prototype.navigate=function(t,e){var n=this.context.interview.getSession();return null!=t&&n.navigate(t),e.stopPropagation(),e.preventDefault(),!1},e.prototype.getAuthorPart=function(){return"Stages"},e.prototype.showItem=function(t){t>=this.itemOffset+this.visibleCount?(this.itemOffset=t-this.visibleCount+1,this.updateDefer()):t<this.itemOffset&&(this.itemOffset=t,this.updateDefer())},e.prototype.onFocusItem=function(t){this.showItem(t)},e.prototype.showCurrent=function(){this.autoShowCurrent=!0,this.updateDefer()},e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this),this.updateBars()},e.prototype.componentDidUpdate=function(){this.updateBars()},e.prototype.updateBars=function(){var t=this,e=!1;this.postbarvisible&&this.refs.postbar.offsetWidth!=this.postSpaceWidth&&(this.postSpaceWidth=this.refs.postbar.offsetWidth,e=!0),this.prebarvisible&&this.refs.prebar.offsetWidth!=this.preSpaceWidth&&(this.preSpaceWidth=this.refs.prebar.offsetWidth,e=!0),e&&setTimeout(function(){return t.update()},100)},e.prototype.onScroll=function(t,e){e.stopPropagation(),e.preventDefault(),this.itemOffset=Math.max(0,Math.min(this.itemCount-this.visibleCount,this.itemOffset+t)),this.update()},e.prototype.render=function(){var t=this.context.interview.getSession(),e=t.getStyle(),n=t.getScreen(),i=n.getNavigation(),u=[],h=i.stages;1==h.length&&(h=i.screens);var f=h.length;this.itemCount=f;var g=!1,m={padding:"0.5em 16px",backgroundColor:e.stagesFillColor};e.stagesTopColor&&(m.borderTop="solid 1px "+e.stagesTopColor),e.stagesBottomColor&&(m.borderBottom="solid 1px "+e.stagesBottomColor);var y={flexShrink:1,flexGrow:1,overflowX:"hidden",position:"relative"},v={whiteSpace:"nowrap",padding:"0px 4px",fontSize:12,position:"absolute",zIndex:2,height:"100%",top:0,backgroundColor:e.stagesFillColor?e.stagesFillColor:e.pageColor,display:"flex",alignItems:"flex-end"},b=r.objectAssign({left:0},v),w=r.objectAssign({right:0},v),x={textDecoration:"none",verticalAlign:"bottom",color:"inherit"},S={display:"block",whiteSpace:"nowrap",overflow:"hidden",position:"relative",flexGrow:1,flexBasis:0,width:10,margin:0},C={display:"inline-block",flexDirection:"column",width:128,flexBasis:"auto",flexGrow:0,flexShrink:1,justifyContent:"flex-start",paddingRight:1,paddingLeft:1,transition:"transform 0.3s",overflowX:"hidden",bottom:0},E=0,I=130,T=0,O=130,k=this.context.interview.state.interviewWidth-32,D=r.objectAssign({},m,this.props.style,this.defaultAuthorStyle());if(k<=480){for(var M={margin:0,padding:0,display:"flex",overflowX:"auto"},P={display:"inline-block",padding:"0.5em 0em",
backgroundColor:"blue",marginRight:2,fontWeight:"bold",color:"white",textAlign:"center",flexGrow:1,width:100/f+"%",minWidth:50,cursor:"pointer"},R=[],A=0;A<h.length;A++){var N=h[A],F=r.objectAssign({},P,{backgroundColor:c.default.getBackgroundColorForStage(t,h[A])}),_=A+1,j=this.navigate.bind(this,N.investigateUri);R.push(o.default.createElement("li",{title:N.title,onClick:j,style:F},o.default.createElement("a",{style:x,onClick:j,href:"#"},_)))}return o.default.createElement("nav",{role:"navigation",style:D},o.default.createElement("ol",{style:M},R))}if(f*O<=k)I=k/f,this.visibleCount=f,this.itemOffset=0;else{if(this.visibleCount=Math.floor(k/O),this.itemOffset=Math.max(0,Math.min(this.itemCount-this.visibleCount,this.itemOffset)),this.autoShowCurrent){var V=r.arrayFindIndex(h,function(t){return t.isCurrent});V>=0&&(V<this.itemOffset?this.itemOffset=V:V>=this.itemOffset+this.visibleCount&&(this.itemOffset=V-this.visibleCount+1)),this.autoShowCurrent=!1}T=f-this.visibleCount-this.itemOffset;var H=k;T>0&&(H-=this.postSpaceWidth),this.itemOffset>0&&(H-=this.preSpaceWidth),I=H/this.visibleCount}I=Math.min(I,250),C.width=I-2;var L=!n.hideStages();this.postbarvisible=L&&T>0,this.prebarvisible=L&&this.itemOffset>0,E=-this.itemOffset*I,this.prebarvisible&&(E+=this.preSpaceWidth);for(var B=[],U=[],A=0;A<h.length;A++){var W=h[A],z=r.objectAssign({marginLeft:1,marginRight:1,width:I-2,flexShrink:0,flexGrow:0},p,l.default.getStageTextStyle(e,W.state));delete z.backgroundColor,B.push(o.default.createElement(l.default,{session:t,interviewStyle:e,icon:W.icon,onFocus:this.onFocusItem.bind(this,A),style:z,stage:W})),U.push(o.default.createElement(d,{style:{marginLeft:1,marginRight:1,width:I-2,flexShrink:0,flexGrow:0},interviewStyle:e,first:0==A,last:A==h.length-1,stage:W}))}return L?o.default.createElement("nav",{role:"navigation",style:D},o.default.createElement("div",{style:y},g?o.default.createElement(s.default,{style:{flexShrink:0},keepLayoutSpace:!0}):null,this.itemOffset>0?o.default.createElement("div",{ref:"prebar",style:b},o.default.createElement("a",{style:x,onClick:this.onScroll.bind(this,-Math.max(1,this.visibleCount-1)),href:"#"},"< ",this.itemOffset," more")):null,o.default.createElement("div",{style:{display:"flex",alignItems:"baseline",transition:"transform 0.3s",transform:"translate("+E+"px, 0)"}},B),o.default.createElement("div",{style:{display:"flex",alignItems:"baseline",transition:"transform 0.3s",transform:"translate("+E+"px, 0)"}},U),o.default.createElement("ol",{style:S},u),T>0?o.default.createElement("div",{ref:"postbar",style:w},o.default.createElement("a",{style:x,onClick:this.onScroll.bind(this,Math.max(1,this.visibleCount-1)),href:"#"},T," more >")):null,g?o.default.createElement(a.default,{style:{flexShrink:0},keepLayoutSpace:!0}):null)):t.isAuthoring()&&t.config.screen.authoringIncludeStages?o.default.createElement("div",{style:this.defaultAuthorStyle(),className:"opa-missing-stage"},t.config.screen.authoringNoStagesText):o.default.createElement("span",{style:{display:"none"}})},e.getAuthorStages=function(t,e,n){var i={padding:"0.5em 16px",backgroundColor:e.stagesFillColor};e.stagesTopColor&&(i.borderTop="solid 1px "+e.stagesTopColor),e.stagesBottomColor&&(i.borderBottom="solid 1px "+e.stagesBottomColor);for(var s=[],a=[],u=function(i){var u=t[i],c=l.default.getStageTextStyle(e,u.state),h=u.icon,f=r.objectAssign({marginLeft:1,marginRight:1,width:160,cursor:"pointer",flexShrink:0,flexGrow:0},p,c),g={marginLeft:1,marginRight:1,width:160,cursor:"pointer",flexShrink:0,flexGrow:0},m=function(t){return n(t,i)};s.push(o.default.createElement(l.default,{onClick:m,icon:h,interviewStyle:e,includeIcon:!0,style:f,stage:u})),a.push(o.default.createElement(d,{onClick:m,style:g,interviewStyle:e,first:0==i,last:i==t.length-1,stage:u}))},c=0;c<t.length;c++)u(c);return o.default.createElement("div",{style:i},o.default.createElement("div",{style:{display:"flex",alignItems:"baseline"}},s),o.default.createElement("div",{style:{display:"flex",alignItems:"baseline"}},a))},e}(u.default);Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var d=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.onClick=function(t){this.context.interview.navigate(this.props.stage.investigateUri),t.preventDefault()},e.prototype.render=function(){var t=this.props.stage,e=this.props.rtl,n=this.props.interviewStyle,i={height:8,backgroundColor:void 0,width:"100%",transition:"background-color 0.5s",borderTopLeftRadius:void 0,borderBottomLeftRadius:void 0,borderTopRightRadius:void 0,borderBottomRightRadius:void 0,cursor:void 0};(this.props.first&&!e||this.props.last&&e)&&(i.borderTopLeftRadius=3,i.borderBottomLeftRadius=3),(this.props.last&&!e||this.props.first&&e)&&(i.borderTopRightRadius=3,i.borderBottomRightRadius=3);var s=null;return"activeComplete"!=t.state&&"activeIncomplete"!=t.state||!n.useActiveStageColor?"complete"==t.state||"activeComplete"==t.state?i.backgroundColor=n.completeStageColor:"incomplete"==t.state||"activeIncomplete"==t.state?i.backgroundColor=n.incompleteStageColor:i.backgroundColor=n.futureStageColor:i.backgroundColor=n.activeStageColor,null==t.investigateUri||t.isCurrent||(s=this.onClick.bind(this),i.cursor="pointer"),this.props.onClick&&(s=this.props.onClick),r.objectAssign(i,this.props.style),o.default.createElement("div",{onClick:s,style:i})},e}(o.default.Component)},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=function(t){function e(){t.apply(this,arguments)}return i(e,t),e.prototype.componentDidMount=function(){var t=this.context.interview.customNavigationRenderHandler;t.mount&&t.mount(o.default.getDOM(this))},e.prototype.componentWillUnmount=function(){var e=this.context.interview.customNavigationRenderHandler;e.unmount&&e.unmount(o.default.getDOM(this)),t.prototype.componentWillUnmount.call(this)},e.prototype.componentDidUpdate=function(){var t=this.context.interview.customNavigationRenderHandler;t.update&&t.update(o.default.getDOM(this))},e.prototype.render=function(){return o.default.createElement("nav",{role:"navigation"})},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=function(t){function e(e){t.call(this,e),this.config=e.config,this.errors=e.config.errors,this.isEmbedded=e.embedded===!0,this.messages=e.config.messageProperties}return i(e,t),e.prototype.onClick=function(t){var e="details"+t,n=this.refs[e];n.style.display="none"===n.style.display?"block":"none";var i=this.refs["show"+t];i.innerHTML=("none"===n.style.display?"[+] ":"[–] ")+this.messages["error-details"]},e.prototype.editRuleScriptSource=function(t,e){window.external&&window.external.DebuggerEditSource(t,e)},e.prototype.render=function(){var t=this,e=this.config.interviewStyle,n=r.objectAssign({position:"relative"},e.interview),i=this.messages["pagedir-right-to-left"]===!0;return o.default.createElement("div",{dir:i?"rtl":"ltr",className:"opa-fatal-errors",style:n},this.errors.map(function(n,i){return o.default.createElement("div",{key:i,className:"opa-page-error"},o.default.createElement("div",{"aria-live":"assertive",className:n.warning?"opa-warning-text":"opa-error-text",style:n.warning?e.warning:e.error},"RuleScriptError"==n.class?o.default.createElement("span",null,n.rawMessage," ",o.default.createElement("a",{onClick:function(e){e.preventDefault(),t.editRuleScriptSource(n.source,n.line)},href:"#"},n.source)):o.default.createElement("span",{innerHTML:n.message}),n.stackTrace&&"RuleScriptError"!=n.class?o.default.createElement("div",{className:"opa-error-debug-stacktrace"},o.default.createElement("span",{ref:"show"+i,onclick:t.onClick.bind(t,i),innerHTML:"[+] "+t.messages["error-details"]}),o.default.createElement("div",{ref:"details"+i,style:{display:"none"}},n.stackTrace)):null))}))},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(2),r=n(3),s=n(15),a=n(17),l=n(5),u=function(t){function e(e){t.call(this,e),this.config=e.config,this.isEmbedded=e.embedded===!0,this.messages=e.config.messageProperties,this.startSessionParams=e.config.startSessionParams,this.interviewStyle=e.config.interviewStyle,this.targetEl=e.el,this.isEmbedded||(this.props.restyle=window.OraclePolicyAutomation.FindExtension("style"))}return i(e,t),e.prototype.render=function(){var t=r.objectAssign({},this.config.interviewStyle?this.config.interviewStyle:l.default),e=r.objectAssign({},{position:"relative"},t.interview),n=this.messages["pagedir-right-to-left"]===!0,i=this.props.config.startSessionParams.rulebase,u=this.messages["checkpoint-option-screen-title"].replace("${rulebase}",i),c=this.messages["checkpoint-exists-text"],p=this.messages["checkpoint-resume-button"],h="opa-screen-title-block",d=r.objectAssign({margin:0},t.screenTitle),f="opa-screen-title",g={display:"flex",flexWrap:"nowrap",alignItems:"baseline",paddingLeft:10,paddingRight:10,paddingTop:"0.5em"},m=o.default.createElement("div",{className:h,style:g},o.default.createElement("div",{style:{flexGrow:1}},o.default.createElement("h1",{ref:"title",className:f,style:d},o.default.createElement("span",{innerHTML:u})))),y={cursor:"pointer",padding:"0.7em 1.2em",border:"0px",appearance:"none","-webkit-appearance":"none",outline:"none"},v=r.objectAssign(t.next,y,t.spacingStyle,s.default.buttonStyle);v.visibility="visible";var b={flexGrow:1,flexShrink:2,flexBasis:t.pageWidth-t.stagesWidth,overflow:"hidden",padding:"0px 16px",lineHeight:1.5},w={paddingBottom:"0.5em"};return o.default.createElement("div",{dir:n?"rtl":"ltr",className:"opa-checkpoint-options",style:e},o.default.createElement("div",{id:"content",role:"main",style:b},m,o.default.createElement("div",{className:"opa-interview-controls",ref:"content",style:w},o.default.createElement("div",{class:"control-item messages owd-input opa-normal Normal",style:t.normal},c,o.default.createElement("br",null),o.default.createElement("input",{type:"submit",hideMouseFocus:!0,spacingStyle:t.spacingStyle,style:v,className:"opa-submit",onClick:"resumeCheckpoint",value:a.decodeHTML(p)})),o.default.createElement("div",{class:"control-item messages owd-input opa-normal Normal",style:t.normal},this.getIgnoreLinkText(this.messages["checkpoint-ignore-text"])))))},e.prototype.resumeCheckpoint=function(t){t.preventDefault(),this.targetEl.innerHTML="",window.OraclePolicyAutomationEmbedded.ResumeInterview(this.targetEl,this.startSessionParams.reqUrl,this.startSessionParams.rulebase,this.startSessionParams.locale,this.startSessionParams.opaUniqueUser,this.startSessionParams.resumeCpParams)},e.prototype.ignoreCheckpoint=function(t){t.preventDefault(),this.targetEl.innerHTML="",window.OraclePolicyAutomationEmbedded.StartInterview(this.targetEl,this.startSessionParams.reqUrl,this.startSessionParams.rulebase,this.startSessionParams.locale,this.startSessionParams.opaUniqueUser,this.startSessionParams.ignoreCpParams,this.startSessionParams.seedData)},e.prototype.getIgnoreLinkText=function(t){var e=(document.createElement("p"),this.messages["checkpoint-ignore-text"]),n=e.indexOf("{0}"),i=e.indexOf("{1}");if(n>-1&&i>n){var r=e.substr(0,n),s=e.substr(n+3,i-n-3),a=e.substr(i+3);return o.default.createElement("p",null,r," ",o.default.createElement("a",{href:"#",onClick:"ignoreCheckpoint"},s)," ",a)}return o.default.createElement("p",null,e)},e}(o.default.Component);Object.defineProperty(e,"__esModule",{value:!0}),e.default=u},function(t,e,n){"use strict";function i(t,e,n){var i=t;return"/"!=i.charAt(i.length-1)&&(i+="/"),i+=e,n&&(i+="?opauniqueuser="+encodeURIComponent(n)),i}function o(t,e,n,i){function o(e){var n=y[t].notify;delete y[t].notify,y[t].success=e;for(var i=0,o=n;i<o.length;i++){var r=o[i];try{r(e)}catch(t){}}}if(void 0!==y[t])return void(void 0!==y[t].success?i(y[t].success):y[t].notify.push(i));y[t]={notify:[i]};var r=document.createElement(e);for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s]);r.onload=function(){o(!0)},r.onerror=function(){o(!1)},document.head.appendChild(r)}function r(t,e,n,i){function r(t){t&&(s++,s===a&&i())}var s=0,a=0;if(!n)return void i();if(void 0!==e.customJS&&(a+=e.customJS.length),void 0!==e.customCSS&&(a+=e.customCSS.length),0==a)return void i();if(void 0!==e.customCSS)for(var l=0,u=e.customCSS;l<u.length;l++){var c=u[l];o(c,"link",{rel:"stylesheet",type:"text/css",href:g.default.buildURL(t,c)},r)}if(void 0!==e.customJS)for(var p=0,h=e.customJS;p<h.length;p++){var d=h[p];o(d,"script",{src:g.default.buildURL(t,d)},r)}}function s(t,e,n){var o=i(t,"JSONStartOrResumeSession",n);g.default.ajaxPost(o,e,function(n){for(var i=function(i){var s=e[i];if(n.success===!0){var a=n.result[i];if(a.isAugust2016Interview){var l={width:"100%",height:600};p.default.render(p.default.createElement("iframe",{src:g.default.buildURL(t,a.frameUrl),style:l}),s.el),s.onLoad&&s.onLoad(null)}else r(t,a,s.loadCustomizations!==!1,function(){var t={url:o,embedded:!0,el:s.el,config:a,callback:function(t,e){"redirect"===t&&s.onNavigate&&s.onNavigate(e.location)}};if(a.screen){var e=p.default.render(p.default.createElement(h.default,c({initWidth:s.el.clientWidth-32},t)),s.el);s.onLoad&&s.onLoad(e.getSession().publicInterface)}else a.isCheckpointDialog?(p.default.render(p.default.createElement(d.default,c({},t)),s.el),s.onLoad&&s.onLoad(null)):(p.default.render(p.default.createElement(m.default,c({},t)),s.el),s.onLoad&&s.onLoad(null))})}else{var u={url:o,embedded:!0,el:s.el,config:n,callback:function(t,e){"redirect"===t&&s.onNavigate&&s.onNavigate(e.location)}};p.default.render(p.default.createElement(m.default,c({},u)),s.el),s.onLoad&&s.onLoad(null)}},s=0;s<e.length;++s)i(s)})}function a(t,e,n,i,o,r,a,l,u){var c=[{operation:"start",deploymentName:n,locale:i,params:f.objectAssign({},r),el:t,onLoad:l,onNavigate:u,seedData:f.objectAssign({},a)}];s(e,c,o)}function l(t,e,n,i,o,r,a,l){var u=[{operation:"resume",deploymentName:n,locale:i,params:f.objectAssign({},r),el:t,onLoad:a,onNavigate:l}];s(e,u,o)}function u(t,e,n){var o=i(t,"JSONDeploymentInfo");g.default.ajaxPost(o,{deploymentName:e},function(e){if(e.success!==!0)throw e.errors[0].message;var i=new v(t,e.info);n(i)})}var c=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},p=n(2),h=n(4),d=n(100),f=n(3),g=n(5),m=n(99),y={};window.OraclePolicyAutomationEmbedded={StartInterview:a,ResumeInterview:l,BatchStartOrResume:s,GetDeploymentInformation:u};var v=function(){function t(t,e){this.url=t,this.config=e}return t.prototype.isLatestVersionInterview=function(){return this.config.isLatestVersion===!0},t.prototype.getSupportedLocales=function(){var t=[];return this.config.locales.forEach(function(e){t.push(e)}),t},t.prototype.getCustomCSS=function(){var t=this,e=[];return this.config.customCSS.forEach(function(n){e.push(g.default.buildURL(t.url,n))}),e},t.prototype.getCustomJS=function(){var t=this,e=[];return this.config.customJS.forEach(function(n){e.push(g.default.buildURL(t.url,n))}),e},t}();e.DeploymentInformation=v}]);